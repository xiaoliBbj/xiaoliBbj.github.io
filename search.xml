<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>GitHub项目学习</title>
    <url>/2023/10/04/GitHub%E9%A1%B9%E7%9B%AE/</url>
    <content><![CDATA[<h1 id="GitHub使用教程"><a href="#GitHub使用教程" class="headerlink" title="GitHub使用教程"></a>GitHub使用教程</h1><p><a href="https://docs.github.com/zh">GitHub Docs</a></p>
<p> <strong>重点知识</strong>：</p>
<ol>
<li>在 GitHub 上探索项目</li>
<li>使用 Git 管理项目代码</li>
<li>导入项目</li>
<li>管理仓库</li>
</ol>
<h1 id="GitHub项目学习"><a href="#GitHub项目学习" class="headerlink" title="GitHub项目学习"></a>GitHub项目学习</h1><p><a href="https://mp.weixin.qq.com/s?__biz=MzI1NDczNTAwMA==&mid=2247492597&idx=1&sn=a4629094599f5b821ec2698ea4ef11f5&scene=21#wechat_redirect">【硬核干货】如何高效找到优质编程项目？</a></p>
<blockquote>
<ul>
<li>更多的 watch，表示对项目的关注度高</li>
<li>更多的 star（收藏），对项目实用性的肯定</li>
<li>更多的 Fork（派生搬运），表示想要学习项目或做贡献</li>
<li>积极的 issues（问题），表示更多人使用项目并希望改进</li>
<li>积极的 Pull requests（代码合并请求），表示更多人愿意合作贡献代码</li>
<li>频繁更新最近提交时间，表示项目仍在维护</li>
<li>可直接访问的官网，更正式</li>
<li>类别标签明确，帮助开发者对项目进行定位</li>
</ul>
</blockquote>
<p><img src="D:\blog\source_posts\成长历程.assets\image-20231004193047619.png" alt="image-20231004193047619"></p>
<h1 id="项目全过程"><a href="#项目全过程" class="headerlink" title="项目全过程"></a>项目全过程</h1><p>文档：<a href="https://mp.weixin.qq.com/s?__biz=MzI1NDczNTAwMA==&mid=2247499089&idx=1&sn=5ce992a41890fb326461d8d7df24ba6f&scene=21#wechat_redirect">https://mp.weixin.qq.com/s?__biz=MzI1NDczNTAwMA==&amp;mid=2247499089&amp;idx=1&amp;sn=5ce992a41890fb326461d8d7df24ba6f&amp;scene=21#wechat_redirect</a></p>
<h1 id="技术选型"><a href="#技术选型" class="headerlink" title="技术选型"></a>技术选型</h1><h2 id="前端"><a href="#前端" class="headerlink" title="前端"></a>前端</h2><p>技术选择：考虑用vue和react</p>
<p>多元化组件：<a href="https://3x.ant.design/index-cn">ant Design</a></p>
<h2 id="后端"><a href="#后端" class="headerlink" title="后端"></a>后端</h2><p>技术选择：node和java</p>
<h1 id="项目部署"><a href="#项目部署" class="headerlink" title="项目部署"></a>项目部署</h1><p>参考文档：<a href="https://mp.weixin.qq.com/s?__biz=MzI1NDczNTAwMA==&mid=2247527119&idx=1&sn=b68602feb61ac48c7b41fcb5388eb81a&chksm=e9c28d38deb5042ea6055a58554808051ee7b97fff1bc92ad958d6d87bceb38d71629750800b&token=906785209&lang=zh_CN#rd">首次公开！我快速做项目的技巧</a></p>
<h2 id="前端-1"><a href="#前端-1" class="headerlink" title="前端"></a>前端</h2><p>使用vercel部署</p>
<p><a href="https://vercel.com/">vercel.com</a></p>
<p>参考网址：<a href="https://zhuanlan.zhihu.com/p/347990778">https://zhuanlan.zhihu.com/p/347990778</a></p>
<h2 id="后端-1"><a href="#后端-1" class="headerlink" title="后端"></a>后端</h2><p>使用腾讯云托管之类的容器平台来快速发布用 Docker 打包的后端代码。</p>
<p>或者就是用宝塔面板来可视化地运行 Node、PHP、Java 等项目，可比自己登上服务器，手动启动停止项目要方便多了。</p>
<h2 id="部署到服务器上"><a href="#部署到服务器上" class="headerlink" title="部署到服务器上"></a>部署到服务器上</h2><ul>
<li>使用宝塔面板</li>
</ul>
<h3 id="静态网页前端部署"><a href="#静态网页前端部署" class="headerlink" title="静态网页前端部署"></a>静态网页前端部署</h3><ol>
<li><p>点击添加站点</p>
<p><img src="D:\blog\source_posts\GitHub项目.assets\1697255622002.png" alt="1697255622002"></p>
</li>
<li><ul>
<li>添加域名</li>
</ul>
<p>ps：再简单一点的话可以添加公共网址例如150.158.18.74，访问网站时直接访问IP地址就可以</p>
<ul>
<li>根目录选择前端项目所在的文件夹</li>
<li>php版本选择：纯静态，因为没有使用php</li>
<li>点击提交</li>
</ul>
<p><img src="D:\blog\source_posts\GitHub项目.assets\image-20231014115525552.png" alt="image-20231014115525552"></p>
</li>
<li><p>创建以后这里会出现一行文字，有标颜色的数字，点击之后，出现新的网页，上面有一些文字，即代表创建成功</p>
<p><img src="D:\blog\source_posts\GitHub项目.assets\image-20231014115858364.png" alt="image-20231014115858364"></p>
</li>
</ol>
<h3 id="后端部署"><a href="#后端部署" class="headerlink" title="后端部署"></a>后端部署</h3><ul>
<li><p>将idea的项目使用maven打包成jar文件</p>
</li>
<li><p>上传至宝塔面板的其中一个文件夹</p>
</li>
<li><p>在终端进入上述文件夹，执行下述命令</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">java -jar ···.jar</span><br></pre></td></tr></table></figure>

<p>ps：输入完java -jar以后可以点击<code>tab</code>键，可以自动补全</p>
</li>
<li><p>命令执行成功以后，即代表运行了后端项目</p>
</li>
<li><p>注意：</p>
<ul>
<li>需要将前端项目config.js文件的URL换成IP地址<code>150.158.18.74</code></li>
</ul>
</li>
</ul>
<h3 id="数据库部署"><a href="#数据库部署" class="headerlink" title="数据库部署"></a>数据库部署</h3><ol>
<li><p>添加数据库</p>
<p><img src="D:\blog\source_posts\GitHub项目.assets\image-20231014120540829.png" alt="image-20231014120540829"></p>
</li>
<li><p>填写信息</p>
<ul>
<li>数据库名称自定义，与用户名相同</li>
<li>编码方式utf8mb4 默认</li>
<li>密码：修改为简单的，自己记得住的</li>
<li>访问权限：自己的服务器就是用 所有人</li>
</ul>
<p><img src="D:\blog\source_posts\GitHub项目.assets\image-20231014120645502.png" alt="image-20231014120645502"></p>
</li>
<li><p>创建数据库以后，导入sql文件</p>
<p><img src="D:\blog\source_posts\GitHub项目.assets\image-20231014120819123.png" alt="image-20231014120819123"></p>
</li>
<li><p>选择<strong>本地上传</strong></p>
<p><img src="D:\blog\source_posts\GitHub项目.assets\image-20231014120847128.png" alt="image-20231014120847128"></p>
</li>
<li><p>进入终端，连接数据库，name值得是数据库名</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql -h localhost -P 3306 -u name -p</span><br></pre></td></tr></table></figure>
</li>
<li><p>输入密码以后，成功连接数据库</p>
<p><img src="D:\blog\source_posts\GitHub项目.assets\image-20231014121134151.png" alt="image-20231014121134151"></p>
</li>
<li><p>更换数据库，查看数据库里面是否有数据表，有的话，数据库建表成功</p>
<p><img src="D:\blog\source_posts\GitHub项目.assets\image-20231014121249823.png" alt="image-20231014121249823"></p>
</li>
<li><p>如果导入的sql文件里面有表，但是导入服务器的数据库里面却没有表，使用<code>dataGrip</code>软件</p>
</li>
<li><p>点击新建项目</p>
</li>
<li><p>如果你使用的是mysql数据库，执行以下操作：点击加号-&gt;点击数据源-&gt;点击mysql</p>
<p><img src="D:\blog\source_posts\GitHub项目.assets\image-20231014121602201.png" alt="image-20231014121602201"></p>
</li>
<li><p>连接服务器：主机输入服务器的IP地址，输入你想要连接的数据库在服务器里创建的名称和密码</p>
<p><img src="D:\blog\source_posts\GitHub项目.assets\image-20231014121730676.png" alt="image-20231014121730676"></p>
</li>
<li><p>右键服务器地址，点击sql脚本，再点击运行sql脚本</p>
<p><img src="D:\blog\source_posts\GitHub项目.assets\image-20231014121848986.png" alt="image-20231014121848986"></p>
</li>
<li><p>之后选择你想要运行的sql文件，执行以后，重新在终端里面查看数据库，成功</p>
<p><img src="D:\blog\source_posts\GitHub项目.assets\image-20231014121940825.png" alt="image-20231014121940825"></p>
</li>
</ol>
<h1 id="运维"><a href="#运维" class="headerlink" title="运维"></a>运维</h1><p>比如用百度统计、51.LA 来统计网站用户，用现成的第三方云数据库、云 Redis、容器托管平台来监控服务的运行、配置告警等等</p>
<h1 id="README文件"><a href="#README文件" class="headerlink" title="README文件"></a>README文件</h1><h2 id="上传图片"><a href="#上传图片" class="headerlink" title="上传图片"></a>上传图片</h2><ol>
<li>新建图片文件夹，放入图片，推送到远程仓库</li>
<li>在远程仓库中打开该图片，获取图片在浏览器的地址</li>
<li>打开README文件，添加下面语句</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">![Image text](这里是你的图片链接)</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\GitHub项目.assets\image-20231017110834289.png" alt="image-20231017110834289"></p>
]]></content>
      <categories>
        <category>GitHub,项目,项目部署</category>
      </categories>
      <tags>
        <tag>GitHub,项目</tag>
      </tags>
  </entry>
  <entry>
    <title>12306项目学习历程</title>
    <url>/2023/10/14/12306%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0%E6%97%85%E9%80%94/</url>
    <content><![CDATA[<h2 id="学习进度："><a href="#学习进度：" class="headerlink" title="学习进度："></a>学习进度：</h2><blockquote>
<p>项目地址：<a href="https://gitee.com/nageoffer/12306">https://gitee.com/nageoffer/12306</a></p>
<p>文档学习：<a href="https://nageoffer.com/pages/008ee6/#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%9D%E5%A7%8B%E5%8C%96">https://nageoffer.com/pages/008ee6/#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%9D%E5%A7%8B%E5%8C%96</a></p>
<p>2023&#x2F;10&#x2F;14： </p>
<p>2023&#x2F;10&#x2F;15：</p>
<p>2023&#x2F;10&#x2F;16： </p>
<p>2023&#x2F;10&#x2F;17： </p>
<p>2023&#x2F;10&#x2F;18：</p>
<p>2023&#x2F;10&#x2F;19： </p>
<p>2023&#x2F;10&#x2F;20：</p>
</blockquote>
<h1 id="克隆项目"><a href="#克隆项目" class="headerlink" title="克隆项目"></a>克隆项目</h1><p>在cmd中运行下面指令</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git clone https://gitee.com/nageoffer/12306.git</span><br></pre></td></tr></table></figure>



<h1 id="数据库初始化"><a href="#数据库初始化" class="headerlink" title="数据库初始化"></a>数据库初始化</h1><ol>
<li><p>导入sql文件</p>
<p><img src="D:\blog\source_posts\12306项目学习旅途.assets\image-20231014165016598.png" alt="image-20231014165016598"></p>
</li>
<li><p>添加信息：如果你已经新建了一个数据表，请把下述第一行代码删掉</p>
<p><img src="D:\blog\source_posts\12306项目学习旅途.assets\image-20231014165029790.png" alt="image-20231014165029790"></p>
</li>
</ol>
]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>java,后端</tag>
      </tags>
  </entry>
  <entry>
    <title>华为ICT比赛</title>
    <url>/2023/10/08/ICT%E5%AD%A6%E4%B9%A0/</url>
    <content><![CDATA[<h1 id="活动安排"><a href="#活动安排" class="headerlink" title="活动安排"></a>活动安排</h1><blockquote>
<p>报名比赛网址：<a href="https://e.huawei.com/cn/talent/#/ict-academy/ict-competition/regional-competition?zoneCode=027425&zoneId=98269597&compId=85131993&divisionName=&type=C001&controlRegistration=2">https://e.huawei.com/cn/talent/#/ict-academy/ict-competition/regional-competition?zoneCode=027425&amp;zoneId=98269597&amp;compId=85131993&amp;divisionName=&amp;type=C001&amp;controlRegistration=2</a></p>
<p>报名时间：2023&#x2F;10&#x2F;8</p>
</blockquote>
]]></content>
      <categories>
        <category>云计算</category>
      </categories>
      <tags>
        <tag>ICT,云计算</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaWeb</title>
    <url>/2024/02/21/JavaWeb/</url>
    <content><![CDATA[<h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><h1 id="HTTP协议"><a href="#HTTP协议" class="headerlink" title="HTTP协议"></a>HTTP协议</h1><h2 id="介绍-1"><a href="#介绍-1" class="headerlink" title="介绍"></a>介绍</h2><p><strong>概念</strong>：Hyper Text Transfer Protocal，超文本传输协议，规定服务器和客户端之间传输数据格式</p>
<p><strong>特点</strong>：</p>
<ol>
<li>基于TCP协议，面向连接，安全</li>
<li>基于请求-响应模型，一次请求一次响应</li>
<li>无状态协议，优点：响应速度快，缺点：多次请求间无法共享数据</li>
</ol>
<h2 id="请求协议"><a href="#请求协议" class="headerlink" title="请求协议"></a>请求协议</h2><p><strong>格式</strong>：</p>
<ol>
<li>请求行：请求方式，资源路径，协议</li>
<li>请求头：包括浏览器版本，支持的语言等等</li>
<li>请求体：要传输的数据</li>
</ol>
<p><strong>注意</strong>：</p>
<ul>
<li>get的请求方式没有请求体，要传递的参数拼接在资源路径后面，大小有限制</li>
<li>post的请求方式有请求体，大小无限制</li>
</ul>
<h2 id="响应协议"><a href="#响应协议" class="headerlink" title="响应协议"></a>响应协议</h2><p><strong>格式</strong>：</p>
<ol>
<li>响应行：协议，状态码，描述</li>
<li>响应头：包括数据类型，数据长度，数据压缩的算法等等</li>
<li>响应体：要返回的数据</li>
</ol>
<h2 id="协议解析"><a href="#协议解析" class="headerlink" title="协议解析"></a>协议解析</h2><p><strong>客户端</strong>：浏览器各大厂商都内置了解析http协议的程序</p>
<p><strong>服务器端</strong>：自定义的话使用ServerSocket类，但过于繁琐，因此使用别人已经封装好的程序，例如Tomcat web服务器</p>
<h1 id="Web服务器"><a href="#Web服务器" class="headerlink" title="Web服务器"></a>Web服务器</h1><p><strong>概念</strong>：对Http协议进行封装，部署项目</p>
<p><strong>作用</strong>：提供网上信息浏览功能</p>
<h2 id="Tomcat"><a href="#Tomcat" class="headerlink" title="Tomcat"></a>Tomcat</h2><p><strong>概念</strong>：轻量级Web服务器，支持Servlet，jsp商量JavaEE规范</p>
<p><strong>别称</strong>：Web容器，Servlet容器</p>
]]></content>
      <categories>
        <category>JavaWeb</category>
      </categories>
      <tags>
        <tag>JavaWeb</tag>
      </tags>
  </entry>
  <entry>
    <title>GitHub使用教程</title>
    <url>/2023/10/02/Github%E8%AE%BF%E9%97%AE%E6%95%99%E7%A8%8B/</url>
    <content><![CDATA[<h1 id="访问gitHub"><a href="#访问gitHub" class="headerlink" title="访问gitHub"></a>访问gitHub</h1><p>参考文档：</p>
<p><a href="https://mp.weixin.qq.com/s?__biz=MzI1NDczNTAwMA==&mid=2247493961&idx=1&sn=16386132c1942f9f06d1adef61e4ca9f&scene=21#wechat_redirect">GitHub 访问不了？砸墙狂魔教你几招【文末抽奖】</a></p>
<p><a href="https://blog.csdn.net/LZJLZJLZJLZJLZJLZJ/article/details/132124711?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_baidulandingword~default-4-132124711-blog-127236651.235%5Ev38%5Epc_relevant_default_base3&spm=1001.2101.3001.4242.3&utm_relevant_index=7">一步步教你解决github无法打开问题_github打不开_乐观男孩的博客-CSDN博客</a></p>
<p><a href="https://github.com/521xueweihan/GitHub520">GitHub - 521xueweihan&#x2F;GitHub520: :kissing_heart: 让你“爱”上 GitHub，解决访问时图裂、加载慢的问题。（无需安装）</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/629079933">加速你的 GitHub 访问速度，使用 SwitchHosts 工具，畅享极速代码浏览体验！（全网最详细踩坑教程）</a></p>
<h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><p>用户访问网址，发送请求时，DNS会根据请求返回目标地址的IP地址，之后利用得到的IP地址向GitHub的服务器发送请求，GitHub返回网址，从而用户访问网址成功。如果想要绕开DNS，访问目标地址，可以修改本地的hosts文件。</p>
<p>直接访问github网址很有可能出现以下情况，出现此情况的原因有很多，如：请求超时。</p>
<p><img src="D:\blog\source_posts\Github使用教程.assets\image-20231003011743425.png" alt="image-20231003011743425"></p>
<h2 id="获取IP地址"><a href="#获取IP地址" class="headerlink" title="获取IP地址"></a>获取IP地址</h2><p>想要绕过DNS访问GitHub，可以先查询GitHub的IP地址。获取IP地址有两种方式：</p>
<blockquote>
<p>1、上网搜索，例如：<a href="https://ip.tool.chinaz.com/github.com">IP&#x2F;服务器github.com的信息 - 站长工具 (chinaz.com)</a></p>
<p><img src="D:\blog\source_posts\Github使用教程.assets\image-20231003012347181.png" alt="image-20231003012347181"></p>
<p>可以从图片看出IP地址为20.205.243.166</p>
<p>2、在cmd中通过ping域名来获取IP地址</p>
<p><img src="D:\blog\source_posts\Github使用教程.assets\image-20231003011508992.png" alt="image-20231003011508992"></p>
<p>由图片可以看出IP地址为20.205.243.166</p>
</blockquote>
<h2 id="修改hosts文件"><a href="#修改hosts文件" class="headerlink" title="修改hosts文件"></a>修改hosts文件</h2><h3 id="hosts文件路径"><a href="#hosts文件路径" class="headerlink" title="hosts文件路径"></a>hosts文件路径</h3><ul>
<li>Windows 系统：<code>C:\Windows\System32\drivers\etc\hosts</code></li>
<li>Linux 系统：<code>/etc/hosts</code></li>
<li>Mac（苹果电脑）系统：<code>/etc/hosts</code></li>
<li>Android（安卓）系统：<code>/system/etc/hosts</code></li>
<li>iPhone（iOS）系统：<code>/etc/hosts</code></li>
</ul>
<h3 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h3><p>前面的数字时前面查到的IP地址</p>
<p><img src="D:\blog\source_posts\Github使用教程.assets\image-20231003012717890.png" alt="image-20231003012717890"></p>
<h3 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ipconfig /flushdns</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\Github使用教程.assets\image-20231003012821520.png" alt="image-20231003012821520"></p>
<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><h3 id="页面布局混乱"><a href="#页面布局混乱" class="headerlink" title="页面布局混乱"></a>页面布局混乱</h3><p>如果遇到只有文字，但是页面布局混乱，不够清晰，很有可能是网页对应的css文件对应的域名和网站本身对应的域名不相同，说明时上述同样的问题——访问超时，此时需要将其对应的网址按照上述方法挨个重置一下信息应该可以解决。</p>
<h3 id="访问依旧缓慢"><a href="#访问依旧缓慢" class="headerlink" title="访问依旧缓慢"></a>访问依旧缓慢</h3><p>GitHub有不同地方的服务器，从在线工具（<a href="https://site.ip138.com/github.ip/%EF%BC%89%E5%8D%B3%E5%8F%AF%E6%9F%A5%E5%88%B0%E5%8E%86%E5%8F%B2%E8%A7%A3%E6%9E%90%E8%AE%B0%E5%BD%95%EF%BC%8C%E5%9C%A8cmd%E4%B8%AD%E6%8C%A8%E4%B8%AAping%E4%B8%80%E4%B8%8B%E4%B8%8D%E5%90%8C%E7%9A%84%E5%9C%B0%E5%9D%80%EF%BC%8C%E6%9F%A5%E7%9C%8B%E8%80%97%E6%97%B6%E5%A6%82%E4%BD%95%EF%BC%8C%E9%80%89%E6%8B%A9%E6%9C%80%E5%BF%AB%E7%9A%84IP%E5%9C%B0%E5%9D%80%E8%BF%9B%E8%A1%8C%E8%AE%BF%E9%97%AE%E5%8D%B3%E5%8F%AF%E3%80%82">https://site.ip138.com/github.ip/）即可查到历史解析记录，在cmd中挨个ping一下不同的地址，查看耗时如何，选择最快的IP地址进行访问即可。</a></p>
<p><img src="D:\blog\source_posts\Github使用教程.assets\image-20231003013746590.png" alt="image-20231003013746590"></p>
<p><img src="D:\blog\source_posts\Github使用教程.assets\image-20231003014012466.png" alt="image-20231003014012466"></p>
<p>明显可以看出这个新地址时间远比上一个地址的耗时更长。</p>
<h2 id="局限性"><a href="#局限性" class="headerlink" title="局限性"></a>局限性</h2><p>1、略微麻烦</p>
<p>2、需要查看多个IP地址，并且地址需要在国内</p>
<h1 id="Github520"><a href="#Github520" class="headerlink" title="Github520"></a>Github520</h1><p>项目GitHub网址：<a href="https://github.com/521xueweihan/GitHub520">GitHub - 521xueweihan&#x2F;GitHub520: :kissing_heart: 让你“爱”上 GitHub，解决访问时图裂、加载慢的问题。（无需安装）</a></p>
<p>先安装switchhosts软件，从软件商城安装即可：</p>
<p><img src="D:\blog\source_posts\Github使用教程.assets\image-20231004162447358.png" alt="image-20231004162447358"></p>
<p>配置方法：</p>
<blockquote>
<p>以 SwitchHosts 为例，看一下怎么使用的，配置参考下面：</p>
<ul>
<li>Title: 随意</li>
<li>Type: <code>Remote</code></li>
<li>URL: <code>https://raw.hellogithub.com/hosts</code></li>
<li>Auto Refresh: 最好选 <code>1 hour</code></li>
</ul>
</blockquote>
<p><img src="D:\blog\source_posts\Github使用教程.assets\image-20231004163052538.png" alt="image-20231004163052538"></p>
<h1 id="steam插件"><a href="#steam插件" class="headerlink" title="steam插件"></a>steam插件</h1><p><img src="D:\blog\source_posts\Github使用教程.assets\image-20231003015613245.png" alt="image-20231003015613245"></p>
<p>玩游戏的朋友可能知道这个插件，安装这个插件后玩steam可以顺滑一些，除了玩游戏加快这个功能，它还能够加速访问GitHub网站。</p>
<p>关于这个软件安装，查看羽翼城大佬博客，按教程安装即可。链接：<a href="https://www.dogfight360.com/blog/">https://www.dogfight360.com/blog/</a></p>
<h1 id="外网服务器"><a href="#外网服务器" class="headerlink" title="外网服务器"></a>外网服务器</h1><p>很多翻墙的朋友会有这个软件，开启代理以后就能够科学上网，当然前提是你买了流量套餐。</p>
<p><img src="D:\blog\source_posts\Github使用教程.assets\image-20231003015800547.png" alt="image-20231003015800547"></p>
<p>相关软件在买完套餐之后根据其提供的配置文档进行安装。购买便宜套餐链接：<a href="https://搞快点.com/">https://xn--66t76gw3n.com/</a></p>
<h1 id="gitclone"><a href="#gitclone" class="headerlink" title="gitclone"></a>gitclone</h1><p>网址：<a href="https://www.gitclone.com/">https://www.gitclone.com/</a></p>
<p>无法上传代码，但是可以快速下载代码学习</p>
<h1 id="gitee导入"><a href="#gitee导入" class="headerlink" title="gitee导入"></a>gitee导入</h1><p><img src="D:\blog\source_posts\Github使用教程.assets\image-20231004163806273.png" alt="image-20231004163806273"></p>
]]></content>
  </entry>
  <entry>
    <title>MySQL进阶（原理）学习</title>
    <url>/2023/10/15/MySQL%E5%8E%9F%E7%90%86/</url>
    <content><![CDATA[<p><img src="https://gitee.com/Fxl_fxl/drawing-bed/raw/master/img/202310161236939.png" alt="一个图片"></p>
<h1 id="学习课程："><a href="#学习课程：" class="headerlink" title="学习课程："></a>学习课程：</h1><h2 id="学习进度："><a href="#学习进度：" class="headerlink" title="学习进度："></a>学习进度：</h2><blockquote>
<p>学习目标：58-96，121-147 </p>
<p>核心：存储引擎、索引、SQL优化、锁、innoDB引擎</p>
<p>2023&#x2F;10&#x2F;14: 58-74&#x2F;195</p>
<p>2024&#x2F;1&#x2F;27: 58-83&#x2F;195</p>
<p>2024&#x2F;1&#x2F;28: 83-96&#x2F;195，121-123&#x2F;195</p>
<p>2024&#x2F;2&#x2F;8: 128&#x2F;195</p>
<p>2024&#x2F;2&#x2F;13: 133&#x2F;195</p>
<p>2024&#x2F;2&#x2F;23: 134-147&#x2F;195</p>
</blockquote>
<h1 id="存储引擎"><a href="#存储引擎" class="headerlink" title="存储引擎"></a>存储引擎</h1><h2 id="MySQL体系结构"><a href="#MySQL体系结构" class="headerlink" title="MySQL体系结构"></a>MySQL体系结构</h2><p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015091119737.png" alt="image-20231015091119737"></p>
<ul>
<li><p>连接层：连接客户端的连接，包括权限认证</p>
</li>
<li><p>服务层：所有跨存储引擎的操作都是在服务层完成，sql的接口，sql的解析，sql的优化</p>
</li>
<li><p>可插拔存储引擎层：可以在这个基础上进行拓展</p>
<ul>
<li>控制mysql数据的存储与提取的方式</li>
<li>index是在存储引擎层实现的，不同的存储引擎索引的结构是不一样的</li>
</ul>
</li>
<li><p>存储层：控制数据如何存，如何取，如何进行组织，具体的数据是存储在磁盘当中</p>
<p><img src="D:\blog\source_posts\MySQL原理.assets\b6ba1b8fcc5ec9ae11f21d9b4337a8e.jpg" alt="b6ba1b8fcc5ec9ae11f21d9b4337a8e"></p>
<p><img src="D:\blog\source_posts\MySQL原理.assets\08e674a5080f8ffb3b1fd3267aab9ae.jpg" alt="08e674a5080f8ffb3b1fd3267aab9ae"></p>
</li>
</ul>
<h2 id="存储引擎简介"><a href="#存储引擎简介" class="headerlink" title="存储引擎简介"></a>存储引擎简介</h2><ul>
<li>存储引擎是存储数据，建立索引，更新&#x2F;查询数据等技术的实现方式</li>
<li>不同的存储引擎，实现上述功能的机制是不同的</li>
<li>存储引擎基于<code>数据表</code>，而不是基于库。所以被称为<code>表类型</code></li>
<li>一个数据库下的多张表可以选择不同的存储引擎</li>
</ul>
<h3 id="查询建表语句"><a href="#查询建表语句" class="headerlink" title="查询建表语句"></a>查询建表语句</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">show create table account;</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\MySQL原理.assets\690f54b03782da3006863df599c9adb.jpg" alt="690f54b03782da3006863df599c9adb"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ENGINE=InnoDB  AUTO_INCREMENT=5   CHARSET=utf8mb4      COLLATE= utf8mb4 _0900_ai_ci     COMMENT=‘账户表’</span><br></pre></td></tr></table></figure>
<ul>
<li>ENGINE存储引擎默认是InnoDB，创建表可以指定存储引擎</li>
<li>AUTO_INCREMENT&#x3D;5表示 id字段是自增的，下一个数据申请的id是5</li>
<li>指明当前表的字符集是CHARSET&#x3D;utf8mb4</li>
<li>排序方式：COLLATE&#x3D; utf8mb4 _0900_ai_ci</li>
<li>COMMENT&#x3D;‘账户表’ 表示注释信息</li>
</ul>
<h3 id="查询数据库支持的引擎"><a href="#查询数据库支持的引擎" class="headerlink" title="查询数据库支持的引擎"></a>查询数据库支持的引擎</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">show engines;</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015082229623.png" alt="image-20231015082229623"></p>
<h3 id="创建表并指定引擎"><a href="#创建表并指定引擎" class="headerlink" title="创建表并指定引擎"></a>创建表并指定引擎</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">create table my(</span><br><span class="line">	id int,</span><br><span class="line">	name varchar(10)</span><br><span class="line">) engine = Memory;</span><br></pre></td></tr></table></figure>

<h2 id="存储引擎特点"><a href="#存储引擎特点" class="headerlink" title="存储引擎特点"></a>存储引擎特点</h2><h3 id="InnoDB"><a href="#InnoDB" class="headerlink" title="InnoDB"></a>InnoDB</h3><h4 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h4><p>高可靠性和高性能的通用引擎，MySQL5.5之后的默认存储引擎</p>
<h4 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h4><ul>
<li>DML操作遵循ACID模型，支持事务</li>
<li>行级锁，提高并发访问性能</li>
<li>支持外键约束，保证书当局的完整性和正确性</li>
</ul>
<blockquote>
<p>DML：数据增删改语句</p>
<p>ACID：事务四大特性：原子性，一致性，隔离性，持久性</p>
</blockquote>
<h4 id="ibd文件"><a href="#ibd文件" class="headerlink" title="ibd文件"></a>ibd文件</h4><p>xxx.ibd：xxx是表名，innodb引擎的每个表都对应一个表空间文件，存储表的索引、数据和表结构（frm-&gt;sdi-&gt;ibd）</p>
<ul>
<li>参数：innodb_file_per_table：是否每个表都对应一个表空间文件（也有可能多个表共同享有一个表空间文件）</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">show variables like &#x27;innodb_file_per_table&#x27;;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>存放位置：<code>C:\ProgramData\MySQL\MySQL Server 8.0\Data</code>下面数据库名字对应的文件夹里存放ibd文件，无法直接打开（因为是二进制的）</p>
</li>
<li><p>查看方式：在终端对应文件夹上打开cmd，json文件形式</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ibd2sdi 名字.ibd</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015084028534.png" alt="image-20231015084028534"></p>
<h4 id="逻辑存储结构"><a href="#逻辑存储结构" class="headerlink" title="逻辑存储结构"></a>逻辑存储结构</h4><ul>
<li>数据表中数据存放在Page里面</li>
<li>一个page是磁盘操作的最小单元，大小也是固定的，16K</li>
<li>一个Extent大小是固定的，1M。存放64个页</li>
<li>ibd文件就是表空间文件</li>
</ul>
<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015084458743.png" alt="image-20231015084458743"></p>
<h3 id="MyISAM"><a href="#MyISAM" class="headerlink" title="MyISAM"></a>MyISAM</h3><h4 id="介绍-1"><a href="#介绍-1" class="headerlink" title="介绍"></a>介绍</h4><p>MySQL早期默认存储引擎</p>
<h4 id="特点-1"><a href="#特点-1" class="headerlink" title="特点"></a>特点</h4><ul>
<li>不支持事务，不支持外键</li>
<li>支持表锁，不支持行锁</li>
<li>访问速度快</li>
</ul>
<h4 id="在磁盘中的三种文件"><a href="#在磁盘中的三种文件" class="headerlink" title="在磁盘中的三种文件"></a>在磁盘中的三种文件</h4><p>MYD：存放数据</p>
<p>MYI：存放索引</p>
<p>SDI：存放表结构，一个文本文件，可以直接打开</p>
<ul>
<li>json.cn网站可格式化SDI文本信息</li>
</ul>
<h3 id="Memory"><a href="#Memory" class="headerlink" title="Memory"></a>Memory</h3><h4 id="介绍-2"><a href="#介绍-2" class="headerlink" title="介绍"></a>介绍</h4><p>表数据存储在内存中，受硬件或断电影响，只能将其作为临时表或缓存使用</p>
<h4 id="特点-2"><a href="#特点-2" class="headerlink" title="特点"></a>特点</h4><ul>
<li>由于存放位置-&gt;访问速度快</li>
<li>hash索引</li>
</ul>
<h4 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h4><p>SDI文件：只存放表结构</p>
<p>数据存放在内存</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><h4 id="面试题：InnoDB与MyISAM的区别"><a href="#面试题：InnoDB与MyISAM的区别" class="headerlink" title="面试题：InnoDB与MyISAM的区别"></a>面试题：InnoDB与MyISAM的区别</h4><ol>
<li>InnoDB支持事务，MyISAM不支持</li>
<li>InnoDB支持外键，MyISAM不支持</li>
<li>InnoDB锁机制支持行锁，MyISAM支持表锁</li>
</ol>
<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015085400389.png" alt="image-20231015085400389"></p>
<h2 id="存储引擎选择"><a href="#存储引擎选择" class="headerlink" title="存储引擎选择"></a>存储引擎选择</h2><h3 id="InnoDB-1"><a href="#InnoDB-1" class="headerlink" title="InnoDB"></a>InnoDB</h3><ul>
<li>事务完整性有高要求</li>
<li>对并发时数据一致性有要求</li>
</ul>
<h3 id="MyISAM-1"><a href="#MyISAM-1" class="headerlink" title="MyISAM"></a>MyISAM</h3><ul>
<li>大多执行插入和读操作，很少执行更新和删除操作</li>
<li>对事务完整性、并发性要求不高</li>
</ul>
<h4 id="举例"><a href="#举例" class="headerlink" title="举例"></a>举例</h4><ul>
<li>日志</li>
<li>电商的评论和浏览功能</li>
</ul>
<h4 id="现状"><a href="#现状" class="headerlink" title="现状"></a>现状</h4><ul>
<li>被noSQL数据库取代，例如mongoDB</li>
</ul>
<h3 id="Memory-1"><a href="#Memory-1" class="headerlink" title="Memory"></a>Memory</h3><ul>
<li>大小有限制</li>
<li>对数据的安全性无法保证</li>
</ul>
<h4 id="举例-1"><a href="#举例-1" class="headerlink" title="举例"></a>举例</h4><p>临时表及缓存</p>
<h4 id="现状-1"><a href="#现状-1" class="headerlink" title="现状"></a>现状</h4><ul>
<li>被noSQL数据库取代，例如redis</li>
</ul>
<h1 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h1><h2 id="linux的mysql连接DG"><a href="#linux的mysql连接DG" class="headerlink" title="linux的mysql连接DG"></a>linux的mysql连接DG</h2><h3 id="创建一个新用户"><a href="#创建一个新用户" class="headerlink" title="创建一个新用户"></a>创建一个新用户</h3><p>本来就存在mysql</p>
<p>故 直接开启服务</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo systemctl start mysql</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015115437862.png" alt="image-20231015115437862"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure>

<ul>
<li>之前在大数据原理课程已经设置了没有密码</li>
</ul>
<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015115534293.png" alt="image-20231015115534293"></p>
<ul>
<li><p>创建一个root用户，在所有主机上都能访问，并且密码为1</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">create user &#x27;root&#x27;@&#x27;%&#x27; IDENTIFIED WITH mysql_native_password BY &#x27;1&#x27;;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015120028169.png" alt="image-20231015120028169"></p>
<ul>
<li><p>分配所有权限</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">grant all on *.* to &#x27;root&#x27;@&#x27;%&#x27;;</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015120150925.png" alt="image-20231015120150925"></p>
</li>
</ul>
<h3 id="datagrip连接"><a href="#datagrip连接" class="headerlink" title="datagrip连接"></a>datagrip连接</h3><h3 id="DataGrip连接linux的mysql"><a href="#DataGrip连接linux的mysql" class="headerlink" title="DataGrip连接linux的mysql"></a>DataGrip连接linux的mysql</h3><ul>
<li>Linux的IP地址是 <code>192.168.109.128</code>。</li>
</ul>
<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015120450329.png" alt="image-20231015120450329"></p>
<h3 id="修改MySQL配置文件"><a href="#修改MySQL配置文件" class="headerlink" title="修改MySQL配置文件"></a>修改MySQL配置文件</h3><p>默认情况下，MySQL可能会绑定到localhost（127.0.0.1），这意味着只能从虚拟机本身访问MySQL。你需要配置MySQL以允许远程连接。修改MySQL配置文件（通常是<code>/etc/mysql/mysql.conf.d/mysqld.cnf</code>或<code>/etc/my.cnf</code>），将<code>bind-address</code>设置为虚拟机的IP地址，例如：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">bind-address = 192.168.109.128</span><br></pre></td></tr></table></figure>

<ul>
<li><p>我的MySQL配置文件存在于<code>/etc/mysql/mysql.conf.d/mysqld.cnf</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd /etc/mysql/mysql.conf.d</span><br><span class="line">sudo gedit mysqld.cnf</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015121502997.png" alt="image-20231015121502997"></p>
<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015152444168.png" alt="image-20231015152444168"></p>
</li>
</ul>
<h3 id="查看端口是否打开"><a href="#查看端口是否打开" class="headerlink" title="查看端口是否打开"></a>查看端口是否打开</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">telnet 虚拟机IP地址 端口号</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015122943337.png" alt="image-20231015122943337"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">netstat -tuln</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015122917807.png" alt="image-20231015122917807"></p>
<p>可以看出来3306端口开了，但是仍然是本机地址，无法远程连接</p>
<h3 id="防火墙查看"><a href="#防火墙查看" class="headerlink" title="防火墙查看"></a>防火墙查看</h3><p>发现没有防火墙</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">systemctl start firewalld</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015134318529.png" alt="image-20231015134318529"></p>
<h3 id="重启mysql"><a href="#重启mysql" class="headerlink" title="重启mysql"></a>重启mysql</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo systemctl restart mysql</span><br></pre></td></tr></table></figure>

<p>chatgpt之后发现，一直没连接上是因为没有重启mysql</p>
<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015133807786.png" alt="image-20231015133807786"></p>
<p>重新查看端口</p>
<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015144939661.png" alt="image-20231015144939661"></p>
<h3 id="进入mysql"><a href="#进入mysql" class="headerlink" title="进入mysql"></a>进入mysql</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure>



<h2 id="索引概述"><a href="#索引概述" class="headerlink" title="索引概述"></a>索引概述</h2><ul>
<li>帮助MySQL<strong>高效获取数据</strong>的<strong>有序</strong>的<strong>数据结构</strong></li>
</ul>
<p>这些数据结构以某种方式<strong>引用（指向）</strong>数据</p>
<ul>
<li><p>无索引：全表扫描，将所有满足条件的查找出来</p>
</li>
<li><p>有索引：搜索效率高</p>
<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015134959015.png" alt="image-20231015134959015"></p>
</li>
</ul>
<h2 id="索引优缺点"><a href="#索引优缺点" class="headerlink" title="索引优缺点"></a>索引优缺点</h2><h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><ul>
<li>帮助高效检索数据，降低数据库的IO成本</li>
<li>通过索引对数据进行排序，降低数据排序的成本，降低CPU的消耗</li>
</ul>
<h3 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h3><ul>
<li>索引列占空间（但是现在磁盘很便宜</li>
<li>大大提高查询效率的同时，降低了更新表的速度，影响增删改的效率降低（对于现在的业务而言，增删改的操作比较少，大部分是查询</li>
</ul>
<h2 id="索引结构"><a href="#索引结构" class="headerlink" title="索引结构"></a>索引结构</h2><h3 id="B-树索引"><a href="#B-树索引" class="headerlink" title="B+树索引"></a>B+树索引</h3><ul>
<li>innodb，memory，myisam都支持，最常见的索引类型</li>
</ul>
<h3 id="hash索引"><a href="#hash索引" class="headerlink" title="hash索引"></a>hash索引</h3><ul>
<li>底层数据结构使用哈希表实现，只有精确匹配索引列的查询才有效，不支持范围查询</li>
</ul>
<h3 id="R-tree（空间）索引"><a href="#R-tree（空间）索引" class="headerlink" title="R-tree（空间）索引"></a>R-tree（空间）索引</h3><ul>
<li>MyISAM引擎的一个特殊索引类型</li>
<li>主要用于地理空间数据类型，使用较少</li>
</ul>
<h3 id="Full-text（全文）索引"><a href="#Full-text（全文）索引" class="headerlink" title="Full-text（全文）索引"></a>Full-text（全文）索引</h3><ul>
<li>通过建立倒排索引快速匹配文档的方式，类似于Lucene，Solr，ES</li>
<li>使用较少</li>
</ul>
<h3 id="引擎和索引对应的支持情况"><a href="#引擎和索引对应的支持情况" class="headerlink" title="引擎和索引对应的支持情况"></a>引擎和索引对应的支持情况</h3><ul>
<li>InnoDB中具有自适应hash功能，mysql在指定条件下，会根据查询条件，自动将B+树索引构建为哈希索引</li>
</ul>
<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015140013512.png" alt="image-20231015140013512"></p>
<h3 id="Btree"><a href="#Btree" class="headerlink" title="Btree"></a>Btree</h3><h4 id="二叉树弊端"><a href="#二叉树弊端" class="headerlink" title="二叉树弊端"></a>二叉树弊端</h4><ul>
<li>顺序插入时，会形成一个链表，查询性能大大降低。【平衡问题】</li>
<li>大数据量情况下，层级较深，检索速度慢</li>
</ul>
<h4 id="红黑树弊端"><a href="#红黑树弊端" class="headerlink" title="红黑树弊端"></a>红黑树弊端</h4><p>红黑树：自平衡的二叉树</p>
<ul>
<li>大数据量情况下，层级较深，检索速度慢</li>
</ul>
<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015140912368.png" alt="image-20231015140912368"></p>
<h4 id="B树（多路平衡查找树）"><a href="#B树（多路平衡查找树）" class="headerlink" title="B树（多路平衡查找树）"></a>B树（多路平衡查找树）</h4><p>演变网站：<a href="https://www.cs.usfca.edu/~galles/visualization/Algorithms.html">https://www.cs.usfca.edu/~galles/visualization/Algorithms.html</a></p>
<p>以一颗最大度数为5（5阶）的b-tree为例，每个节点最多存储4个key，5个指针</p>
<ul>
<li>树的度数，是指一个结点的子节点个数</li>
<li>中间元素向上分裂</li>
</ul>
<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015141202584.png" alt="image-20231015141202584"></p>
<h4 id="B-树"><a href="#B-树" class="headerlink" title="B+树"></a>B+树</h4><p>以一颗最大度数为4（4阶）的b-tree为例，每个节点最多存储3个key，4个指针</p>
<ul>
<li>叶子节点存放数据，所有元素出现在叶子节点</li>
<li>所有叶子节点构成单向链表</li>
<li>非叶子节点只是起到索引的作用</li>
</ul>
<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015142707129.png" alt="image-20231015142707129"></p>
<h4 id="MySQL中的B-树"><a href="#MySQL中的B-树" class="headerlink" title="MySQL中的B+树"></a>MySQL中的B+树</h4><p>原B+树</p>
<ul>
<li>所有索引都出现在叶子节点</li>
<li>叶子节点形成单向列表</li>
</ul>
<p>在原B+树的基础上，增加一个指向相邻叶子节点的链表指针，形成带有顺序指针的B+树，提高区间访问的性能</p>
<ul>
<li>搜索效率稳定</li>
<li>双向链表便于范围搜索和排序</li>
</ul>
<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015142936796.png" alt="image-20231015142936796"></p>
<h3 id="hash索引-1"><a href="#hash索引-1" class="headerlink" title="hash索引"></a>hash索引</h3><p>利用一定的hash算法，将键值换算成新的hash值，映射到对应的槽位上，然后存储在hash表中</p>
<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015143621831.png" alt="image-20231015143621831"></p>
<h4 id="哈希冲突-x2F-碰撞"><a href="#哈希冲突-x2F-碰撞" class="headerlink" title="哈希冲突&#x2F;碰撞"></a>哈希冲突&#x2F;碰撞</h4><p>如果两个或多个键值，映射到一个相同的槽位时，就产生了哈希冲突&#x2F;碰撞，可以通过链表解决</p>
<h4 id="特点-3"><a href="#特点-3" class="headerlink" title="特点"></a>特点</h4><ul>
<li>只支持等值匹配（对等比较），不支持范围查询</li>
<li>计算的结果无序，所以无法利用索引完成排序操作</li>
<li>查询效率高，通常只需要一次检索（不出现哈希碰撞的情况），效率通常要高于B+树索引</li>
</ul>
<h4 id="支持哈希索引的引擎"><a href="#支持哈希索引的引擎" class="headerlink" title="支持哈希索引的引擎"></a>支持哈希索引的引擎</h4><ul>
<li>Memory引擎</li>
<li>InnoDB引擎自适应hash功能，hash索引是存储引擎根据B+Tree索引在指定条件下自动构建的</li>
</ul>
<h2 id="索引面试题：为什么InnoDB存储引擎使用B-树索引，而不是二叉树，红黑树，B树"><a href="#索引面试题：为什么InnoDB存储引擎使用B-树索引，而不是二叉树，红黑树，B树" class="headerlink" title="索引面试题：为什么InnoDB存储引擎使用B+树索引，而不是二叉树，红黑树，B树"></a>索引面试题：为什么InnoDB存储引擎使用B+树索引，而不是二叉树，红黑树，B树</h2><p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015144524283.png" alt="image-20231015144524283"></p>
<h2 id="索引分类"><a href="#索引分类" class="headerlink" title="索引分类"></a>索引分类</h2><p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015144710307.png" alt="image-20231015144710307"></p>
<h3 id="主键索引"><a href="#主键索引" class="headerlink" title="主键索引"></a>主键索引</h3><h3 id="唯一索引"><a href="#唯一索引" class="headerlink" title="唯一索引"></a>唯一索引</h3><h3 id="常规索引"><a href="#常规索引" class="headerlink" title="常规索引"></a>常规索引</h3><h3 id="全文索引"><a href="#全文索引" class="headerlink" title="全文索引"></a>全文索引</h3><h3 id="InnoDB引擎下的索引分类"><a href="#InnoDB引擎下的索引分类" class="headerlink" title="InnoDB引擎下的索引分类"></a>InnoDB引擎下的索引分类</h3><p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015144815537.png" alt="image-20231015144815537"></p>
<h4 id="聚集索引"><a href="#聚集索引" class="headerlink" title="聚集索引"></a>聚集索引</h4><p>无论如何一定存在</p>
<p>结构：叶子节点所挂的数据就是主键对应<strong>那一行的行数据</strong></p>
<ul>
<li>选取规则<ul>
<li>如果存在主键，默认<strong>主键索引</strong>就是聚集索引</li>
<li>如果不存在主键，使用<strong>唯一索引</strong>作为聚集索引</li>
<li>如果没有主键，也没有合适的唯一索引，innodb会自动生成一个<strong>rowid</strong>作为隐藏的聚集索引</li>
</ul>
</li>
</ul>
<h4 id="二级索引"><a href="#二级索引" class="headerlink" title="二级索引"></a>二级索引</h4><p>结构：叶子节点所挂的数据时主键</p>
<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015145444265.png" alt="image-20231015145444265"></p>
<h5 id="回表查询"><a href="#回表查询" class="headerlink" title="回表查询"></a>回表查询</h5><p>先走二级索引获得主键值，再通过主键索引找到主键所对应的行数据</p>
<h4 id="习题"><a href="#习题" class="headerlink" title="习题"></a>习题</h4><p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015150156548.png" alt="image-20231015150156548"></p>
<ul>
<li>检索效率很高</li>
</ul>
<h2 id="索引语法"><a href="#索引语法" class="headerlink" title="索引语法"></a>索引语法</h2><h3 id="创建索引"><a href="#创建索引" class="headerlink" title="创建索引"></a>创建索引</h3><ul>
<li>[UNIQUE|FULLTEXT]   不指定的话，默认是常规索引</li>
<li>一个索引可以关联多个字段：单列索引&#x2F; 联合（组合）索引</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CREATE [UNIQUE|FULLTEXT] INDEX index_name ON table_name (index_col_name,...);</span><br></pre></td></tr></table></figure>

<h3 id="查看索引"><a href="#查看索引" class="headerlink" title="查看索引"></a>查看索引</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SHOW INDEX FROM table_name;</span><br><span class="line">//或者</span><br><span class="line">SHOW INDEX FROM table_name\G;</span><br></pre></td></tr></table></figure>

<h3 id="删除索引"><a href="#删除索引" class="headerlink" title="删除索引"></a>删除索引</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DROP INDEX index_name ON table_name;</span><br></pre></td></tr></table></figure>

<h3 id="实践"><a href="#实践" class="headerlink" title="实践"></a>实践</h3><h4 id="查看数据库"><a href="#查看数据库" class="headerlink" title="查看数据库"></a>查看数据库</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">show databases;</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015150957732.png" alt="image-20231015150957732"></p>
<h4 id="新建数据库"><a href="#新建数据库" class="headerlink" title="新建数据库"></a>新建数据库</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">create database name;</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015151051100.png" alt="image-20231015151051100"></p>
<h4 id="进入指定数据库"><a href="#进入指定数据库" class="headerlink" title="进入指定数据库"></a>进入指定数据库</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">use name;</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015151201380.png" alt="image-20231015151201380"></p>
<h4 id="展示数据表"><a href="#展示数据表" class="headerlink" title="展示数据表"></a>展示数据表</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">show tables;</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015151234699.png" alt="image-20231015151234699"></p>
<h4 id="创建数据表"><a href="#创建数据表" class="headerlink" title="创建数据表"></a>创建数据表</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">create table table_name(column1 INT, column2 CHAR(20), column3 INT);</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015151403382.png" alt="image-20231015151403382"></p>
<h4 id="展示数据表-1"><a href="#展示数据表-1" class="headerlink" title="展示数据表"></a>展示数据表</h4><p>展示已经创建的数据表</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">show create table table_name;</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20231015151505608.png" alt="image-20231015151505608"></p>
<h2 id="SQL性能分析"><a href="#SQL性能分析" class="headerlink" title="SQL性能分析"></a>SQL性能分析</h2><h3 id="SQL执行频率"><a href="#SQL执行频率" class="headerlink" title="SQL执行频率"></a>SQL执行频率</h3><p>MYSQL客户端连接成功后，查询服务器状态信息可查看insert，delete，select等语句的频次</p>
<p>查看服务器状态信息，模糊匹配，一个下划线代表一个字段</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">show global status like &#x27;Com__&#x27;</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\MySQL原理.assets\94fd4fa0e88b834cda3161ba238d3e7.jpg" alt="94fd4fa0e88b834cda3161ba238d3e7"></p>
<p>查看会话的状态信息</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">show session status</span><br></pre></td></tr></table></figure>

<h3 id="慢查询日志"><a href="#慢查询日志" class="headerlink" title="慢查询日志"></a>慢查询日志</h3><p>记录所有执行时间超过指定参数（默认10秒）的所有SQL语句的日志</p>
<ul>
<li>在MySQL中默认没有开启，可在<code>etc/my.cnf</code>文件配置</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">show variables like &#x27;show_query_log&#x27;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#开启慢查询日志开关</span><br><span class="line">show_query_log = 1</span><br><span class="line">#设置慢日志的时间</span><br><span class="line">long_query_tim = 2</span><br></pre></td></tr></table></figure>

<ul>
<li>慢查询日志的存放位置：<code>var/lib/mysql/localhost-show.log</code></li>
</ul>
<h3 id="profile"><a href="#profile" class="headerlink" title="profile"></a>profile</h3><p>查看是否支持</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">show @@have_profiling</span><br></pre></td></tr></table></figure>

<p>查看是否开启</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select @@profiling</span><br></pre></td></tr></table></figure>

<p>设置开启</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">set profiling = 1</span><br></pre></td></tr></table></figure>

<p>查看当前所有执行语句的耗时情况</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">show profiles</span><br></pre></td></tr></table></figure>

<p>查看指定query_id的SQL语句每个阶段的耗时情况</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">show profile for query query_id</span><br></pre></td></tr></table></figure>

<p>查看指定query_id的SQL语句每个阶段cpu的耗时情况</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">show profile cpu for query query_id</span><br></pre></td></tr></table></figure>

<h3 id="explain执行计划"><a href="#explain执行计划" class="headerlink" title="explain执行计划"></a>explain执行计划</h3><p>EXPLAIN 或者 DESC命令获取MYSQL如何执行SELECT语句的信息，包括在SELECT语句执行过程中表如何连接和连接的顺序</p>
<ul>
<li>直接在select语句前面加上关键字explain&#x2F;desc</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">EXPLAIN SELECT 字段列表 FROM 表名 WHERE 条件</span><br></pre></td></tr></table></figure>

<h4 id="字段含义"><a href="#字段含义" class="headerlink" title="字段含义"></a>字段含义</h4><p><code>id</code>：select查询的序列号，标识查询中执行select子句或者是操作表的顺序（id相同，执行顺序从上到下，id不同，值越大，越先执行）</p>
<p><code>select type</code>：查询的类型，常见取值：SIMPLE（简单表，即不使用表连接或者子查询）、PRIMARY（主查询，即外层的查询）、UNION（UNION中的第二个或者后面的查询语句）、SUBQUERY（SELECT&#x2F;WHERE之后包含了子查询）等</p>
<p>【<code>type</code>】：连接类型，性能由好到差的连接类型为NULL，system，const，eq_ref，ref，range，index，all</p>
<ul>
<li>如果查询不访问任何表，则是NULL</li>
<li>访问系统表，则是system</li>
<li>一般业务使用主键或者唯一索引的连接类型是const</li>
<li>使用非唯一性的索引查询，则是ref</li>
<li>遍历整个索引树，则是index</li>
<li>全表扫描，则是all</li>
</ul>
<p>【<code>possible_key</code>】：在这张表上可能用到的索引，一个或多个</p>
<p><code>Key</code>：实际用到的索引，如果为NULL，则没有使用索引</p>
<p><code>Key_len</code>：索引中使用的字节数，该值为索引字段的最大可能长度，并非实际使用长度，在不损失精确性的前提下，长度越短越好</p>
<p><code>rows</code>：MySQL认为必须要执行查询的行数，在innoDB引擎的表中，是一个估计值，可能并不总是准确的</p>
<p><code>filtered</code>：表示返回结果的行数占需读取行数的百分比，值越大越好</p>
<p><code>Extra</code>：额外信息</p>
<h2 id="索引使用"><a href="#索引使用" class="headerlink" title="索引使用"></a>索引使用</h2><h3 id="验证索引效率"><a href="#验证索引效率" class="headerlink" title="验证索引效率"></a>验证索引效率</h3><h3 id="最左前缀法则"><a href="#最左前缀法则" class="headerlink" title="最左前缀法则"></a>最左前缀法则</h3><p>如果索引了多列（联合索引），要遵守最左前缀法则。只需要存在该列即可</p>
<p>概念：查询从索引的最左列开始，并且不跳过索引中的列。如果跳跃某一列，索引将部分失效（后面的字段索引失效）</p>
<h3 id="范围查询"><a href="#范围查询" class="headerlink" title="范围查询"></a>范围查询</h3><p>联合索引中，出现范围查询（&lt;，&gt;），范围查询右侧的列索引失效</p>
<p>在业务允许的情况下，尽量使用&gt;&#x3D;或者&lt;&#x3D;</p>
<h3 id="索引失效"><a href="#索引失效" class="headerlink" title="索引失效"></a>索引失效</h3><ul>
<li>在索引列上进行运算操作，索引将失效</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">explain select * from tb_user where substring(phone,10,2) = &#x27;15&#x27;</span><br></pre></td></tr></table></figure>

<ul>
<li>字符串类型字段使用时，不加引号，索引将失效</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">explain select * from tb_user where phone= 1234576849</span><br></pre></td></tr></table></figure>

<ul>
<li>如果仅仅是尾部模糊匹配，索引不会失效。如果是头部模糊匹配，索引将失效</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">explain select * from tb_user where profession like &#x27;软件%&#x27;</span><br></pre></td></tr></table></figure>

<ul>
<li>or连接的条件</li>
</ul>
<p>用or分割开的条件，如果or一侧的列有索引，一侧的列没有索引，那么涉及的索引都不会被用到</p>
<p>解决方法：对没有索引的列建立索引</p>
<ul>
<li>数据分布影响</li>
</ul>
<p>如果MySQL评估全表扫描比索引快，那么将不会使用索引</p>
<h3 id="SQL提示"><a href="#SQL提示" class="headerlink" title="SQL提示"></a>SQL提示</h3><p>概念：在SQL语句中加入一些人为的提示来达到优化操作的目的</p>
<p>优化数据库的一个重要手段</p>
<p>使用：在from表名后面加上关键字和索引</p>
<ul>
<li>使用索引，use是一种建议，MySQL进行评估后可以接受建议，也可以拒绝建议</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">explain select * from tb_user use index(idx_user_pro) where profession = &#x27;软件工程&#x27;</span><br></pre></td></tr></table></figure>

<ul>
<li>忽略索引</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">explain select * from tb_user ignore index(idx_user_pro) where profession = &#x27;软件工程&#x27;</span><br></pre></td></tr></table></figure>

<ul>
<li>强制使用该索引</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">explain select * from tb_user force index(idx_user_pro) where profession = &#x27;软件工程&#x27;</span><br></pre></td></tr></table></figure>

<h3 id="覆盖索引"><a href="#覆盖索引" class="headerlink" title="覆盖索引"></a>覆盖索引</h3><p>概念：查询使用了索引，并且需要返回的列在该索引中已经全部能够找到</p>
<ul>
<li><p>尽量使用覆盖索引，而不是select *</p>
</li>
<li><p>using index condition：查找使用了索引，但是需要回表查询数据</p>
</li>
<li><p>using where，using index：查找使用了索引，但是需要的数据都在索引列中能找到，不需要回表查询数据</p>
</li>
</ul>
<h3 id="前缀索引"><a href="#前缀索引" class="headerlink" title="前缀索引"></a>前缀索引</h3><p>当字段类型为字符串（varchar，text等）时，有时候需要索引很长的字符串，这会让索引变得很大，查询时，浪费大量的磁盘IO，影响查询效率。此时可以只将字符串的一部分前缀建立索引，这样可以大大节约索引空间，从而提高索引效率</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">create index idx_xxx on table_name(column(n))</span><br></pre></td></tr></table></figure>

<ul>
<li>前缀长度</li>
</ul>
<p>n表示要提取前多长的字段</p>
<p>可以根据索引的选择性来决定，选择性是指不重复的索引值（基数）和数据表的记录总数的比值，索引选择性越高则查询效率越高，唯一索引的选择性是1，这是最好的索引选择性，性能也是最好的。</p>
<ul>
<li>选择性</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select count(distinct email)/count(*) from table_name</span><br></pre></td></tr></table></figure>

<h3 id="单列-x2F-联合索引"><a href="#单列-x2F-联合索引" class="headerlink" title="单列&#x2F;联合索引"></a>单列&#x2F;联合索引</h3><p>在业务场景中，如果存在多个查询条件，考虑针对于查询字段建立索引时，建议建立联合索引，而非单列索引</p>
<h2 id="索引设计原则"><a href="#索引设计原则" class="headerlink" title="索引设计原则"></a>索引设计原则</h2><ol>
<li>针对于数据量较大（表超过一百多万条数据），且查询比较频繁的表建立索引</li>
<li>针对于常作为查询条件、排序、分组操作的字段建立索引</li>
<li>尽量选择区分度高的列作为索引，尽量建立唯一索引，区分度越高，索引的效率越高</li>
<li>如果是字符串类型的字段，字段的长度较长，可以针对于该字段的特点建立前缀索引</li>
<li>尽量使用联合索引，减少单列索引，查询时，联合索引很多时候可以覆盖索引，可以节省存储空间，避免回表，提高查询效率</li>
<li>要控制索引的数量，索引越多，维护索引结构的代价也越大，会影响增删改的效率</li>
<li>如果索引列不能存储NULL值，请在创建表时使用NOT NULL约束它，当优化器知道每列是否包含NULL值时，它可以更好地确定哪个索引最有效地用于查询</li>
</ol>
<h1 id="SQL优化"><a href="#SQL优化" class="headerlink" title="SQL优化"></a>SQL优化</h1><h2 id="插入数据"><a href="#插入数据" class="headerlink" title="插入数据"></a>插入数据</h2><h3 id="insert"><a href="#insert" class="headerlink" title="insert"></a>insert</h3><ol>
<li><p>批量插入，但建议500~1000条</p>
</li>
<li><p>手动提交事务</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">start transaction</span><br><span class="line">多条批量插入语句</span><br><span class="line">commit</span><br></pre></td></tr></table></figure>
</li>
<li><p>主键顺序插入，性能较高</p>
</li>
</ol>
<h3 id="load"><a href="#load" class="headerlink" title="load"></a>load</h3><ul>
<li>适合大批量一次性插入数据，如果使用insert，性能较低</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#客户端连接服务器时，加上参数--local-infile</span><br><span class="line">mysql --local-infile -u root -p</span><br><span class="line">#设置全局参数local_infile为1，开启从本地加载文件导入数据的开关</span><br><span class="line">set global local_infile=1</span><br><span class="line">#执行load指令将准备好的数据加载到表结构中</span><br><span class="line">load data local infile &#x27;/root/sql1.log&#x27; into table &#x27;tb_user&#x27; fields terminated by &#x27;,&#x27; lines terminated by &#x27;\n&#x27;</span><br></pre></td></tr></table></figure>

<h2 id="主键优化"><a href="#主键优化" class="headerlink" title="主键优化"></a>主键优化</h2><h3 id="数据组织方式"><a href="#数据组织方式" class="headerlink" title="数据组织方式"></a>数据组织方式</h3><p>在innoDB存储引擎中，表数据都是根据主键顺序组织存放的，这种存储方式的表称为索引组织表（IOT）</p>
<h3 id="页分裂"><a href="#页分裂" class="headerlink" title="页分裂"></a>页分裂</h3><p>页可以为空，也可以存储一般，也可以存储100%。每个页包含2-N行数据（如果一行数据太大，会导致行溢出），根据主键排列</p>
<ul>
<li>如果一页只包含1行数据，那就不是页，而是一个链表</li>
</ul>
<p><img src="D:\blog\source_posts\MySQL原理.assets\4e060f9b007b93185b2f25cba1d20c3.jpg" alt="4e060f9b007b93185b2f25cba1d20c3"></p>
<p><img src="D:\blog\source_posts\MySQL原理.assets\a7675344827bbcd7024aa80214ce5f9.jpg" alt="a7675344827bbcd7024aa80214ce5f9"></p>
<ul>
<li>23，47原本在第一页，50是要插入的数据</li>
<li>因为50应该在47和55中间，但是第一页空间不大无法插入，因此第一页将一般的数据放在新的一页里面，然后再新的页里加入新数据，再修改链表指针</li>
</ul>
<h3 id="页合并"><a href="#页合并" class="headerlink" title="页合并"></a>页合并</h3><p>当删除一行记录时，实际上记录并没有被物理删除，只是记录被标记(flaged)为删除并且它的空间变得允许被其他记录声明使用</p>
<p>当页中删除的记录达到 MERGE THRESHOLD(默认为页的50%)，innoDB会开始寻找最靠近的页(前或后)看看是否可以将两个页合并以优化空间使用</p>
<p><img src="D:\blog\source_posts\MySQL原理.assets\image-20240128174756214.png" alt="image-20240128174756214"></p>
<p>合并页的阙值MERGE THRESHOLD可以自己设置，在创建表或者创建索引时指定</p>
<h3 id="主键设计原则"><a href="#主键设计原则" class="headerlink" title="主键设计原则"></a>主键设计原则</h3><ul>
<li>在满足业务需求的情况下，尽量降低主键的长度</li>
<li>插入数据时，尽量选择顺序插入，选择使用AUTO_INCREMENT自增主键</li>
<li>尽量不要使用UUID作主键，或者其他自然主键，例如身份证号。无序的主键会乱序插入，且长度太长</li>
<li>业务操作时，避免对主键的修改</li>
</ul>
<h2 id="order-by优化"><a href="#order-by优化" class="headerlink" title="order by优化"></a>order by优化</h2><ul>
<li>根据排序字段建立合适的索引，多字段排序时，也遵循最左前缀法则</li>
<li>尽量使用覆盖索引</li>
<li>多字段排序，一个升序，一个降序此时需要注意联合索引在创建时的规则（ASC&#x2F;DESC）</li>
<li>如果不可避免地出现filesort，大数据量排序时，可以适当增大排序缓冲区大小sort_buffer_size（默认256K）</li>
</ul>
<h3 id="Using-filesort"><a href="#Using-filesort" class="headerlink" title="Using filesort"></a>Using filesort</h3><p>概念：通过表的索引或全表扫描，读取满足条件的数据行， 然后在排序缓冲区sort buffer中完成排序操作，所有不是用过索引直接返回排序结果的排序都叫FileSort排序</p>
<h3 id="Using-index"><a href="#Using-index" class="headerlink" title="Using index"></a>Using index</h3><p>概念：通过有序索引顺序扫描直接返回有序数据，不需要额外排序，操作效率高</p>
<h2 id="group-by优化"><a href="#group-by优化" class="headerlink" title="group by优化"></a>group by优化</h2><ul>
<li>可以通过索引来提高效率</li>
<li>索引的使用应满足最左前缀法则</li>
</ul>
<h2 id="limit优化"><a href="#limit优化" class="headerlink" title="limit优化"></a>limit优化</h2><p>应用场景：分页时查询大数据量的某些数据</p>
<p>方案：覆盖索引+子查询</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">explain select * from table1 t，(select id from table2 order by id limit 20000000,10) a where t.id=a.id</span><br></pre></td></tr></table></figure>

<h2 id="count优化"><a href="#count优化" class="headerlink" title="count优化"></a>count优化</h2><ul>
<li>MyISAM引擎把一个表的总行数存在磁盘上，因此执行count(*)的时候会直接返回这个数，效率很高</li>
<li>InnoDB引擎执行count(*)的时候，需要把数据一行一行地从引擎里面读出来，然后累计计数</li>
</ul>
<p>解决方案：</p>
<p>自己计数</p>
<ul>
<li><p>概念：集合函数，对于返回的结果集，一行行判断，如果count函数的参数不是NULL，累计值就+1，否则不加，最后返回累计值</p>
</li>
<li><p>用法：</p>
<ol>
<li>count(*)：innodb引擎并不会把全部字段取出来，而是专门做了优化，不取值，服务层直接按行进行累加</li>
<li>count(主键)：innodb引擎会遍历整张表，把每一行的主键id都取出来，返回给服务层，服务层拿到主键后，直接按行进行累加（主键不可能为NULL）</li>
<li>count(字段)：①没有not null约束：innodb引擎会遍历整张表，把每一行的字段值都取出来，返回给服务层，服务层判断是否为null，不为null，计数累加②有not null约束：innodb引擎会遍历整张表，把每一行的字段值都取出来，返回给服务层，服务层直接按行进行累加</li>
<li>count(1)：innodb引擎会遍历整张表，但不取值，服务层对于返回的每一行，放一个数字“1”进去，直接按行进行累加</li>
</ol>
<p>按性能进行排序：count(字段)&lt;count(主键id)&lt;count(1)&#x3D;count(*)</p>
</li>
</ul>
<h2 id="update优化"><a href="#update优化" class="headerlink" title="update优化"></a>update优化</h2><p>innodb引擎的行是针对索引加的锁，不是针对记录加的锁，并且该索引不能失效，否则会从行锁升级为表锁</p>
<h1 id="视图-x2F-存储过程-x2F-触发器-x2F-存储函数"><a href="#视图-x2F-存储过程-x2F-触发器-x2F-存储函数" class="headerlink" title="视图&#x2F;存储过程&#x2F;触发器&#x2F;存储函数"></a>视图&#x2F;存储过程&#x2F;触发器&#x2F;存储函数</h1><h1 id="锁"><a href="#锁" class="headerlink" title="锁"></a>锁</h1><p><strong>概念</strong>：计算机协调多个进程或线程并发访问某一资源的机制</p>
<p>在数据库中，除传统的计算机资源（CPU\、RAM、I&#x2F;O）的争用意外，数据也是一种供许多用户共享的资源。</p>
<p><strong>分类</strong>：按锁的粒度分，分为全局锁，表级锁，行级锁</p>
<p><strong>作用</strong>：在并发访问时，解决数据访问的一致性、有效性问题</p>
<h2 id="全局锁"><a href="#全局锁" class="headerlink" title="全局锁"></a>全局锁</h2><p>概念：锁定数据库中的所有表，对整个数据库实例加锁，加锁后整个实例就处于只读状态，后续的DML的写语句，DDL语句，已经更新操作的事务提交语句都将被阻塞</p>
<p>典型使用场景：做全库的逻辑备份，对所有表进行锁定，从而获取一致性视图，保证数据的完整性</p>
<p>逻辑备份：将数据库中的数据备份成一个sql文件，备份到磁盘中</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#加全局锁</span><br><span class="line">flush tables with read lock</span><br><span class="line">#逻辑备份，在windows命令行执行</span><br><span class="line">mysqldump -uroot -p1234 itcast&gt;itcast.sql</span><br><span class="line">#解锁</span><br><span class="line">unlock tables</span><br></pre></td></tr></table></figure>

<p>弊端：</p>
<ul>
<li>在主库上备份，那么在备份期间都不能执行更新，业务基本上就得停摆</li>
<li>在从库上备份，那么备份期间从库不能执行主库同步过来的二进制日志（binlog），会导致主从延迟</li>
</ul>
<p>在innoDB引擎中，可以在备份时加上参数–single-transaction来完成不加锁的一致性数据备份</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysqldump --single-transaction -uroot -p1234 itcast&gt;itcast.sql</span><br></pre></td></tr></table></figure>

<h2 id="表级锁"><a href="#表级锁" class="headerlink" title="表级锁"></a>表级锁</h2><p><strong>概念</strong>：每次操作锁住整张表。锁定粒度大，发生锁冲突的概率最高，并发度最低，应用在MyISAM、innoDB、BDB等存储引擎中</p>
<p><strong>分类</strong>：表锁，元数据锁（MDL），意向锁</p>
<h3 id="表锁"><a href="#表锁" class="headerlink" title="表锁"></a>表锁</h3><p><strong>分类</strong>：表共享读锁（读锁），表独占写锁（写锁）</p>
<p><strong>语法</strong>：</p>
<ol>
<li>加锁：lock tables 表名（可以是多张表） read&#x2F;write</li>
<li>解锁：unlock tables &#x2F;客户端断开连接</li>
</ol>
<h3 id="元数据锁"><a href="#元数据锁" class="headerlink" title="元数据锁"></a>元数据锁</h3><p><strong>概念</strong>：meta data lock，MDL，MDL加锁过程是系统自动控制，无需显式使用，在访问一张表的时候会自动加上</p>
<p><strong>作用</strong>：维护表元数据的数据一致性，在表上有活动事务的时候，不可以对元数据进行写入操作。（即表如果存在未提交的事务，则不可以修改该表。）为了避免DML和DDL冲突，保证读写的正确性。</p>
<ul>
<li>DML：数据操作语言，例如insert，update，delete</li>
<li>DDL：数据库模式定义语言，例如：创建数据库</li>
<li>元数据：表结构</li>
</ul>
<p>在MYSQL5.5引入了MDL，当对一张表进行增删改查的时候，加MDL读锁（共享），当对表结构进行变更操作的时候，加MDL写锁（排他）</p>
<h3 id="意向锁"><a href="#意向锁" class="headerlink" title="意向锁"></a>意向锁</h3><p><strong>概念</strong>：为了避免DML在执行时，加的行锁与表锁的冲突，在InnoDB中引入意向锁，使得表锁不用检查每行数据是否加锁，使用意向锁来减少表锁的检查</p>
<p><strong>分类</strong>：</p>
<ol>
<li>意向共享锁（IS）：由语句select lock in share mode添加。和读锁兼容，和写锁互斥</li>
<li>意向排他锁（IX）：由insert update delete select for update添加。和读锁、写锁都互斥，意向锁之间不会互斥</li>
</ol>
<h2 id="行级锁"><a href="#行级锁" class="headerlink" title="行级锁"></a>行级锁</h2><p>默认情况下，InnoDB在REPETABLE READ事务隔离级别运行，InnoDB使用next-key锁进行搜索和索引扫描，以防止幻读</p>
<p><strong>概念</strong>：每次操作锁住对应的行数据，锁定粒度最小，发生锁冲突的概率最低，并发度最高，应用在InnoDB存储引擎中</p>
<p>InnoDB的数据基于索引组织的，行锁是通过对索引上的索引项加锁来实现的，而不是对记录加的锁。</p>
<p><strong>分类</strong>：</p>
<ol>
<li><p>行锁：锁定单个记录的锁，防止其他事务对此进行update，delete。在RC、RR隔离级别下都支持</p>
<p>RC：read commit</p>
<p>RR：repetable read</p>
</li>
<li><p>间隙锁：锁定索引记录间隙（不含该记录），确保索引记录间隙不变，防止其他事务在这个间隙进行insert，产生幻读，在RR隔离级别下都支持</p>
<p>间隙：两个记录之间的间隙</p>
</li>
<li><p>临键锁：行锁和间隙锁组合，同时锁住数据，并锁住数据前面的间隙gap，在RR隔离级别下支持</p>
</li>
</ol>
<h3 id="行锁"><a href="#行锁" class="headerlink" title="行锁"></a>行锁</h3><p><strong>分类</strong>：</p>
<ol>
<li>共享锁（S）：允许一个事务去读一行，阻止其他事务获得相同数据集的排他锁</li>
<li>排他锁（X）：允许获取排他锁的事务更新数据，阻止其他事务获得相同数据集的共享锁和排他锁</li>
</ol>
<p>select不加任何锁</p>
<ol>
<li>使用唯一索引进行检索时，对已存在的记录进行等值匹配时，将会自动优化为行锁</li>
<li>InnoDB行锁是针对索引加的锁，不通过索引条件检索数据。那么InnoDB将对表中所有的记录加锁，此时就会<strong>升级为表锁</strong></li>
</ol>
<h3 id="间隙锁"><a href="#间隙锁" class="headerlink" title="间隙锁"></a>间隙锁</h3><ol>
<li>索引上的等值查询（唯一&#x2F;主键索引），给不存在的记录加锁时，优化为间隙锁</li>
<li>索引上的等值查询（普通索引），向右遍历时最后一个值不满足查询需求时，next-key lock退化为间隙锁</li>
</ol>
<p><strong>目的</strong>：防止其他事务插入间隙，间隙锁可以共存，一个事务采用的间隙锁不会阻止另一个事务在同一间隙上采用间隙锁</p>
<h3 id="临键锁"><a href="#临键锁" class="headerlink" title="临键锁"></a>临键锁</h3><p>临键锁：next-key lock</p>
<ol>
<li>索引上的范围查询（唯一索引），会访问到不满足条件的第一个值为止</li>
</ol>
<h1 id="InnoDB引擎"><a href="#InnoDB引擎" class="headerlink" title="InnoDB引擎"></a>InnoDB引擎</h1><ul>
<li>作为默认引擎重要因素：支持事务</li>
</ul>
<h2 id="逻辑存储结构-1"><a href="#逻辑存储结构-1" class="headerlink" title="逻辑存储结构"></a>逻辑存储结构</h2><p>表空间-段-区-页-行</p>
<p><strong>表空间（ibd文件）</strong>：一个mysql实例可以对应多个表空间，用于存储记录和索引等数据</p>
<p><strong>段</strong>：分类：数据段（B+树的叶子节点），索引段（B+树的非叶子节点），回滚段。InnoDB是索引组织表，段用来管理多个区</p>
<p><strong>区</strong>：表空间的单元结构，默认大小为1M，一个页默认大小为16K，因此1区&#x3D;64页</p>
<p><strong>页</strong>：InnoDB存储引擎磁盘存储的最小单位，默认大小为16K，为了保证页的连续性，每次都申请4-5页。表结构中的记录和索引都存储在页中</p>
<p><strong>行</strong>：InnoDB以行为单位存储数据</p>
<p><strong>行的隐藏字段</strong>：</p>
<ol>
<li>Trx_id：最后一次操作事务的id</li>
<li>Roll_pointer：类似于指针，通过这个指针找到增删改前的数据</li>
</ol>
<h2 id="内存结构"><a href="#内存结构" class="headerlink" title="内存结构"></a>内存结构</h2><p><strong>架构图</strong>：</p>
<p><img src="D:\blog\source_posts\MySQL原理.assets\1d30221409121391e5788a6f2d97781.jpg" alt="1d30221409121391e5788a6f2d97781"></p>
<h3 id="Buffer-Pool"><a href="#Buffer-Pool" class="headerlink" title="Buffer Pool"></a>Buffer Pool</h3><p><strong>概念</strong>：缓冲池（主内存的一个区域），存放经常访问的数据，如果访问的数据不再缓冲池中，那么回去磁盘里读出数据存放在缓冲池中，并对缓冲池的数据进行修改。缓冲池以一定的频率将数据刷入磁盘中，减少IO，加快处理速度</p>
<p><strong>底层</strong>：以页为单位，底层采用链表结构管理页</p>
<p><strong>页的分类</strong>：</p>
<ul>
<li>free page：空白页，申请了空间，但还没有被使用</li>
<li>clean page：被使用页，但是数据没有被修改过</li>
<li>dirty page：脏页，被使用且数据被修改过，与磁盘的数据不一致</li>
</ul>
<h3 id="Change-Buffer"><a href="#Change-Buffer" class="headerlink" title="Change Buffer"></a>Change Buffer</h3><p><strong>概念</strong>：更改缓冲区，针对非唯一二级索引，执行DML（增删改）语句时，如果数据不在Buffer Pool中，那么不会直接操作磁盘，而是会先将数据变更存在于Change Buffer中，等到需要读取数据的时候，再将Change Buffer和Buffer Pool合并，再刷回磁盘</p>
<p><strong>意义</strong>：DML语句操作非唯一二级索引的IO顺序是随机的，因此会影响相邻的page二级索引页，采用上述操作可以减少IO</p>
<h3 id="Adaptive-Hash-Index"><a href="#Adaptive-Hash-Index" class="headerlink" title="Adaptive Hash Index"></a>Adaptive Hash Index</h3><p><strong>概念</strong>：自适应哈希索引，优化对Buffer Pool数据的查询，InnoDB引擎会监控索引页的查询，如果发现使用hash索引可以加快查询速度，就会创建hash索引，没有人工干预。</p>
<p><strong>开关</strong>：Adaptive_ hash_index</p>
<h3 id="Log-Buffer"><a href="#Log-Buffer" class="headerlink" title="Log Buffer"></a>Log Buffer</h3><p><strong>概念</strong>：日志缓冲区，默认大小16MB，日志先保存在Log Buffer中，以一定频率自动刷到磁盘里面，减少IO</p>
<p><strong>分类</strong>：redo log，undo log</p>
<p><strong>参数</strong>：</p>
<p>innodb_log_buffer_size：缓冲区大小</p>
<p>innodb_flush_log_at_trx_commit：日志刷新到磁盘的时机</p>
<p>1：每次提交事务后写入并刷新</p>
<p>0：每秒写入并刷新</p>
<p>2：每次提交事务后写入，每秒刷新</p>
<h2 id="磁盘结构"><a href="#磁盘结构" class="headerlink" title="磁盘结构"></a>磁盘结构</h2><p><strong>系统表空间</strong>：更改缓冲区的存储区域，如果表在系统表空间下创建而不是每个表的表空间下创建，则也可能包含数据和索引</p>
<p><strong>每张表的表空间</strong>：存储单张表的索引和数据，并存储在文件系统上的单个数据文件中</p>
<p><strong>General Tablespaces</strong>：通用表空间，需要使用CREATE TABLESPACES自己手动创建，在创建表时也可以指定表空间</p>
<p><strong>Undo Log</strong>：撤销表空间，MySQL在初始化时创建两个默认的undo表空间（默认大小16M），用于存储undo log日志</p>
<p><strong>Temporary Tablespaces</strong>：会话临时表空间和全局临时表空间，存储用户创建的临时表</p>
<p><strong>Doublewrite Buffer Files</strong>：双写缓冲区，在将Buffer Pool里面的数据刷写到磁盘前，先将数据保存在双写缓冲区，保证数据的安全，方便在系统崩溃时。文件类型：dblwr</p>
<p><strong>Redo Log</strong>：重做日志，实现事务的永久性。组成：日志缓冲区Redo Log Buffer和重做日志Redo Log。前者在内存中，后者在磁盘中。提交事务后，会将所有修改信息存入该日志中，在刷写脏页到磁盘出现错误时，可以进行数据恢复。特点：不会永久保存，是循环写的，因为它的目的就是保证事务正常提交，如果成功，就清理Redo Log</p>
<h2 id="后台线程"><a href="#后台线程" class="headerlink" title="后台线程"></a>后台线程</h2><p><strong>Master线程</strong>：核心后台线程，负责调度其他线程，负责将其他的缓冲池的数据刷写到磁盘中，保证数据的一致性，包括：脏页的刷新，合并插入缓存，undo页的回收</p>
<p><strong>AIO</strong>：异步非阻塞IO</p>
<p><strong>IO线程</strong>：</p>
<ol>
<li><strong>概念</strong>：通过AIO来处理IO请求，提高数据库的性能，IO线程负责这些AIO的回调</li>
<li><strong>分类</strong>：</li>
</ol>
<ul>
<li><strong>Read Thread</strong>：读操作，默认4个</li>
<li><strong>Write Thread</strong>：写操作，默认4个</li>
<li><strong>Log Thread</strong>：将日志刷写到磁盘，默认1个</li>
<li><strong>Insert Buffer Thread</strong>：将缓冲区的数据刷写到磁盘，默认1个</li>
</ul>
<p><strong>Purge Thread</strong>：回收事务已经提交的undo Log</p>
<p><strong>Page Cleaner Thread</strong>：辅助Master Thread，保证</p>
<h2 id="事务管理"><a href="#事务管理" class="headerlink" title="事务管理"></a>事务管理</h2><p><strong>事务概念</strong>：是一组操作的集合，不可分割，将所有操作作为整体向系统提交或者同意撤销，要么同时成功，要么同时失败</p>
<p><strong>特性</strong>：ACID</p>
<ul>
<li><strong>原子性</strong>：是不可分割的最小操作单位，要么全部成功，要么全部失败</li>
<li><strong>一致性</strong>：事务完成后，要保证所有数据的一致状态，包括数据一致性，约束。如果事务回滚，要保证事务前后一致性，如果事务提交，要保证数据是更新过的</li>
<li><strong>隔离性</strong>：数据库系统提供的隔离机制，保证事务在不受外部并发环境的影响下运行</li>
<li><strong>持久性</strong>：事务执行或回滚后，对数据库的操作是不可恢复的，对数据的改变是永久性的</li>
</ul>
<p><strong>隔离级别</strong>：</p>
<ol>
<li><strong>Read Uncommitted读未提交</strong>：最低隔离级别，一个事务可以读取另一个事务未提交的数据</li>
<li><strong>Read Committed读已提交</strong>：常用隔离级别，一个事务只能读取另一个事务已经提交的数据，但无法避免不可重复读和幻读问题</li>
<li><strong>Repeatable Read重复读</strong>：广泛采用的隔离级别，可以解决不可重复的问题，一个事务多次读取同一数据，可以保证数据的一致性，但无法解决幻读问题</li>
<li><strong>Serializable串行化</strong>：最高隔离级别，让事务串行执行，保证数据的一致性和完整性，并发性差</li>
</ol>
<p><strong>原理</strong>：使用redo log保证事务的持久性，使用undo log保证事务的原子性，使用redo log、undo log共同保证事务的一致性，使用锁，MVCC保证事务的隔离性</p>
<h3 id="Redo-Log"><a href="#Redo-Log" class="headerlink" title="Redo Log"></a>Redo Log</h3><p><strong>概念</strong>：重做日志，记录数据页的物理修改，包括重做日志缓冲，重做日志文件，前者在内存，后者在磁盘。事务提交之后把所有的修改信息记录到Redo Log里面，用于在刷写缓存区的数据到磁盘，发生错误，以供数据恢复</p>
<p><strong>过程</strong>：</p>
<ol>
<li>当事务提交成功以后，会将脏页的数据变化记录在内存中的Redo Log中，Redo Log再刷新到磁盘中</li>
<li>过一段时间后，缓冲区的数据再刷新到磁盘中</li>
<li>如果刷新操作失败，则使用Redo Log对磁盘中的数据进行恢复，保证数据的持久性</li>
</ol>
<p><strong>原理</strong>：</p>
<ul>
<li>缓冲区的数据刷新到磁盘中，是随机操作数据页的，会涉及到大量的随机IO，性能不好</li>
<li><strong>WAL（Write Ahead Logging）</strong>：日志文件是追加的，涉及的是顺序IO，因此刷新到磁盘中，性能更好一些</li>
<li>每隔一段时间会清理Redo Log</li>
</ul>
<p><img src="D:\blog\source_posts\MySQL原理.assets\046d3d2d167a3b52708b07cd5e2ff9e.jpg" alt="046d3d2d167a3b52708b07cd5e2ff9e"></p>
<h3 id="Undo-Log"><a href="#Undo-Log" class="headerlink" title="Undo Log"></a>Undo Log</h3><p><strong>概念</strong>：用于记录数据被修改前的信息，作用：提供回滚和MVCC（多版本并发控制）</p>
<p><strong>与Redo Log的区别</strong>：</p>
<ul>
<li>Redo Log是记录物理日志，Undo Log是逻辑日志</li>
<li>假设执行delete操作，那么Undo Log会存储一条insert操作；假设执行update操作，那么Undo Log会存储一条对应相反的update操作，方便在执行回滚时，执行这条操作快速返回事务提交前的数据</li>
</ul>
<p><strong>销毁</strong>：在事务执行时产生，在事务提交后过段时间才删除，因为还要查看其是否还用于MVCC</p>
<p><strong>存储</strong>：采用段的方式进行管理和记录，存储在回滚段中，包含1024个区</p>
<h2 id="MVCC实现原理"><a href="#MVCC实现原理" class="headerlink" title="MVCC实现原理"></a>MVCC实现原理</h2><p><strong>当前读</strong>：当数据被读取最新版本的时候，要保证数据不能被其他事务修改，要对读取的数据加排他锁</p>
<p><strong>快照读</strong>：简单的select（不加锁）就是快照读，读取的是当前数据的可见版本，可能是历史数据，不加锁，是非阻塞读</p>
<ul>
<li><strong>Read Committed读已提交</strong>：每次select都生成一个快照读</li>
<li><strong>Repeatable Read重复读</strong>：当事务第一条select语句，获取当前数据的可见版本，这个是快照读，后续的select读取时，读的是第一条select语句读取的数据</li>
<li><strong>Serializable串行化</strong>：退化成当前读</li>
</ul>
<p><strong>概念</strong>：多版本并发控制，维护一个数据的多个版本，使得读写操作没有冲突，快照读为MySQL实现MVCC提供了一个非阻塞读的功能。</p>
<p><strong>具体实现依靠</strong>：数据库记录的三个隐藏字段，undo log，readview</p>
<h3 id="三个隐藏字段"><a href="#三个隐藏字段" class="headerlink" title="三个隐藏字段"></a>三个隐藏字段</h3><ol>
<li><strong>DB_TRX_ID</strong>：最近修改事务ID，记录修改&#x2F;插入这条记录的事务ID</li>
<li><strong>DB_ROLL_PTR</strong>：PTR是指针的缩写，回滚指针，指向这条记录的上一个版本，配合undo log</li>
<li><strong>DB_ROW_ID</strong>：隐藏主键，当这张表没有主键时，会自动生成该隐藏字段，如果表有主键，则该字段不会出现</li>
</ol>
<ul>
<li>数据库在创建表时，会增添两个隐藏字段DB_TRX_ID，DB_ROLL_PTR</li>
<li>还有DB_ROW_ID</li>
</ul>
<h3 id="undo-log"><a href="#undo-log" class="headerlink" title="undo log"></a>undo log</h3><p><strong>概念</strong>：回滚日志，在执行insert，update，delete操作时生成的undo log日志文件</p>
<p><strong>什么时候删除</strong>：</p>
<ul>
<li>insert操作，undo log日志只在事务回滚时需要，因此事务提交后，可被立即删除</li>
<li>update和delete操作，undo log日志在事务回滚和快照读时候需要，因此不会被立即删除</li>
</ul>
<p><strong>版本链</strong>：</p>
<p><img src="D:\blog\source_posts\MySQL原理.assets\d53858a151d2b975eebb66f390986d5.jpg" alt="d53858a151d2b975eebb66f390986d5"></p>
<h3 id="readview"><a href="#readview" class="headerlink" title="readview"></a>readview</h3><p><strong>概念</strong>：读视图，快照读SQL执行时MVCC读取数据的依据，记录并维护系统当前活跃事务（未提交事务）的id</p>
<p><strong>核心字段</strong>：</p>
<ol>
<li><strong>m_ids</strong>：当前活跃事务id集合</li>
<li><strong>min_trx_id</strong>：最小活跃事务id</li>
<li><strong>max_trx_id</strong>：预分配事务id，是最大事务id+1（因为事务id自增）</li>
<li><strong>creator_trx_id</strong>：readview创建者的事务ID</li>
</ol>
<p><strong>版本链数据访问规则</strong>：</p>
<p>trx_id是当前事务ID</p>
<ol>
<li><strong>trx_id&#x3D;&#x3D;creator_trx_id</strong>：可以访问该版本，因为这个数据是该事务创建的</li>
<li><strong>trx_id&lt;min_trx_id</strong>：可以访问该版本，因为数据已经提交</li>
<li><strong>trx_id&gt;max_trx_id</strong>：不可以访问该版本，因为该事务还没有提交</li>
<li><strong>min_trx_id&lt;&#x3D;trx_id&lt;&#x3D;max_trx_id ? 如果trx_id在m_ids中</strong>：可以访问该版本，说明事务已经提交</li>
</ol>
<p><strong>生成ReadView机制</strong>：</p>
<ul>
<li><strong>READ COMMITED</strong>：在事务中每执行一次快照读都生成ReadView</li>
<li><strong>Repeatable Read重复读</strong>：只有在事务第一次执行快照读才生成ReadView，后续复用ReadView</li>
</ul>
<h1 id="【问题】redo-log和undo-log的区别"><a href="#【问题】redo-log和undo-log的区别" class="headerlink" title="【问题】redo log和undo log的区别"></a>【问题】redo log和undo log的区别</h1><h1 id="MySQL管理"><a href="#MySQL管理" class="headerlink" title="MySQL管理"></a>MySQL管理</h1>]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>ThreadLocal</title>
    <url>/2024/02/22/ThreadLocal/</url>
    <content><![CDATA[<h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><p><strong>概念</strong>：线程内的局部变量，不同线程之间不会互相干扰，通常在并发的场景下，解决同一线程通过多组件多方法调用公共变量的问题。</p>
<p><strong>功能</strong>：</p>
<ol>
<li>线程并发</li>
<li>提供数据</li>
<li>线程隔离</li>
</ol>
<h1 id="内部结构"><a href="#内部结构" class="headerlink" title="内部结构"></a>内部结构</h1><p><strong>原来</strong>：多个线程共用一个由ThreadLocal维护的ThreadLocalMap，map的key是线程，value是线程变量。</p>
<p><strong>现在</strong>：JDK8以后每个线程内部由Thread维护一个ThreadLocalMap，map的key是变量名，value是线程变量值，这样就实现了线程隔离。<strong>优点</strong>：1.一般Thread的数量多于ThreadLocal，因此这个版本减少了entry（ThreadLocalMap存放的每一个元素）的数量，降低哈希冲突发生概率 2.Thread销毁以后，它对应的ThreadLocalMap也会销毁，减少了内存的开销</p>
<h1 id="核心方法源码"><a href="#核心方法源码" class="headerlink" title="核心方法源码"></a>核心方法源码</h1><ul>
<li>如果有Entry的key为null，那么调用set，get，remove方法时，会将Entry的value也设置为null，最后Entry会被垃圾回收器回收</li>
</ul>
<h2 id="initialValue"><a href="#initialValue" class="headerlink" title="initialValue"></a>initialValue</h2><ol>
<li>可重写，使用protected修饰，可被子类继承重写</li>
<li>默认情况下返回null</li>
<li>只有在set方法还未调用，而get方法先被调用时才会执行，且只执行1次</li>
</ol>
<h2 id="set"><a href="#set" class="headerlink" title="set"></a>set</h2><ol>
<li>先获取ThreadLocalMap对象，判断是否为空</li>
<li>若为空则先创建ThreadLocalMap，并初始化map</li>
<li>将ThreadLocal和value的值进行绑定</li>
</ol>
<h2 id="get"><a href="#get" class="headerlink" title="get"></a>get</h2><ol>
<li>先获取ThreadLocalMap对象，判断是否为空</li>
<li>若为空则先创建ThreadLocalMap，并初始化map</li>
<li>若不为空则根据ThreadLocal作为key，查询map里面是否有这个entry</li>
<li>如果有，则直接获取值</li>
<li>如果没有，则调用initialValue初始化值，并返回值</li>
</ol>
<h2 id="remove"><a href="#remove" class="headerlink" title="remove"></a>remove</h2><ol>
<li>先获取ThreadLocalMap对象，判断是否为空</li>
<li>若不为空则移除ThreadLocal的key</li>
</ol>
<h1 id="内存泄露"><a href="#内存泄露" class="headerlink" title="内存泄露"></a>内存泄露</h1><h2 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h2><p><strong>内存溢出</strong>：没有足够的内存供申请者使用</p>
<p><strong>内存泄露</strong>：程序中已动态分配的堆内存未释放或无法释放，内存大量被浪费，导致系统运行缓慢或崩溃</p>
<p>引用类型分为强，软，弱，虚</p>
<p><strong>强引用</strong>：最常见的对象引用，即使内存空间不足，也不会被系统回收。例如new出来的对象</p>
<p><strong>弱引用</strong>：即使内存空间充裕，也会被垃圾回收器回收。如果被强引用对象引用，则不会被回收</p>
<h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><ol>
<li>内存泄漏与ThreadLocalMap的key是强引用还是弱引用无关，如果是强引用，Entry的key和value值不会改变，但是如果是弱引用，Entry的值不改变，key会变成null，因为ThreadLocal会被回收</li>
<li>Map由Thread创建，索引被一直引用，直到Thread被销毁。但是Thread不会被销毁，会回到线程池里。</li>
<li>防止内存泄露最有效的办法：当不使用ThreadLocal中的Entry时，手动删除该Entry</li>
<li>建议使用弱引用，因为它比强引用多一层保障，当key为null，调用set，get，remove方法时，会将Entry的value也设置为null，最后Entry会被垃圾回收器回收</li>
</ol>
<h1 id="哈希冲突【未整理】"><a href="#哈希冲突【未整理】" class="headerlink" title="哈希冲突【未整理】"></a>哈希冲突【未整理】</h1><p><strong>解决方案</strong>：</p>
<h1 id="线程安全的ThreadLocal【未整理】"><a href="#线程安全的ThreadLocal【未整理】" class="headerlink" title="线程安全的ThreadLocal【未整理】"></a>线程安全的ThreadLocal【未整理】</h1><p><strong>线程安全</strong>：</p>
<p><strong>阿里TTL</strong>：</p>
<h1 id="如何平衡性能安全和线程安全【未整理】"><a href="#如何平衡性能安全和线程安全【未整理】" class="headerlink" title="如何平衡性能安全和线程安全【未整理】"></a>如何平衡性能安全和线程安全【未整理】</h1><h1 id="ThreadLocal和synchronized的区别"><a href="#ThreadLocal和synchronized的区别" class="headerlink" title="ThreadLocal和synchronized的区别"></a>ThreadLocal和synchronized的区别</h1><p><strong>synchronized加锁</strong>：保证的是多个进程对资源的访问，资源只有一份，多进程排队访问资源，采用“时间换空间”的策略</p>
<p><strong>ThreadLocal</strong>：保证的是多个进程并发访问，每个线程都有各自的资源，实现线程隔离，采用“空间换时间”的策略</p>
<h2 id="传统方案"><a href="#传统方案" class="headerlink" title="传统方案"></a>传统方案</h2><p>使用：传参+加锁synchronized</p>
<h2 id="现在方案"><a href="#现在方案" class="headerlink" title="现在方案"></a>现在方案</h2><p>使用：ThreadLocal</p>
<p>优点：</p>
<ol>
<li>直接代码耦合度，直接调用所需要的参数</li>
<li>保证线程之间的并发性</li>
</ol>
]]></content>
      <categories>
        <category>ThreadLocal</category>
      </categories>
      <tags>
        <tag>ThreadLocal</tag>
      </tags>
  </entry>
  <entry>
    <title>Nginx</title>
    <url>/2024/02/21/Nginx/</url>
    <content><![CDATA[<h1 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h1><ol>
<li><a href="https://zhuanlan.zhihu.com/p/599854970">原理</a></li>
<li><a href="https://www.bmabk.com/index.php/post/166419.html">面试题</a></li>
<li><a href="https://www.bilibili.com/read/cv24637280/">工作原理</a></li>
<li></li>
</ol>
<h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><p><strong>概念</strong>：Nginx是一个高性能的HTTP和反向代理web服务器</p>
<p><strong>优点</strong>：</p>
<ol>
<li>成本低廉</li>
<li>适应高并发场景</li>
<li>跨平台</li>
<li>配置简单</li>
<li>占用内存小</li>
</ol>
<p><strong>使用单线程的原因</strong>：</p>
<ol>
<li>不必为每个请求都去请求cpu和内存资源</li>
<li>避免上下文切换带来的开销</li>
</ol>
<h1 id="代理模式"><a href="#代理模式" class="headerlink" title="代理模式"></a>代理模式</h1><h2 id="正向代理"><a href="#正向代理" class="headerlink" title="正向代理"></a>正向代理</h2><p><strong>概念</strong>：代理服务器位于客户端和目标服务器之间的一种代理方式，客户端通过正向代理服务器来访问目标服务器，隐藏了客户端的真实IP地址。用户通过代理服务器访问目标网站，类似于VPN，当我们想要访问国外的网站时，我们并不关注VPN的地址，VPN接收到我们的请求之后替我们去访问外国服务器。</p>
<h2 id="反向代理"><a href="#反向代理" class="headerlink" title="反向代理"></a>反向代理</h2><p><strong>概念</strong>：反向代理是代理服务器位于目标服务器和客户端之间的一种代理方式，客户端通过反向代理服务器来访问目标服务器，隐藏了目标服务器的真实IP地址。传统的访问方式是客户端直接访问服务器，但是在大并发量的情况下，单个服务器的效率低且容易宕机，宕机后就无法提供服务，这很影响用户体验，因此在客户端和服务器之间设置了一个代理服务器，所有的请求都先发送到类似于Nginx的代理服务器中，然后Nginx再转发请求到多个服务器上，这就很好地实现负载均衡。</p>
<h2 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h2><ol>
<li>代理对象不同，正向代理代理对象是客户端，反向代理代理对象是服务端 </li>
<li>作用不同，正向代理提高了访问效率，节约网络带宽，并且能监控用户的行为日志；反向代理是提高了访问的并发量，降低服务器宕机的影响。</li>
</ol>
<h1 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h1><p><img src="D:\blog\source_posts\Nginx.assets\image-20240221115518487.png" alt="image-20240221115518487"></p>
<h1 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h1><ol>
<li>内部有1个master和多个worker，master管理多个worker</li>
<li>worker的数量最好是与CPU数量一致，超过的话会导致许多进程竞争CPU资源</li>
<li>worker就是一个进程，一个进程只有一个主线程</li>
<li>1个请求只能分配给一个worker</li>
<li>当Nginx重新启动时，master先加载配置文件，然后开启新的worker，并向原来的worker发送停止信号，原来的worker处理完其对应的事务后就会下班</li>
</ol>
<h1 id="工作原理"><a href="#工作原理" class="headerlink" title="工作原理"></a>工作原理</h1><p>工作原理可以概括为以下几个步骤：</p>
<p>接收客户端请求： 当客户端发起HTTP请求时，Nginx会监听指定的端口（默认是80）并接收请求。</p>
<p>解析配置文件： Nginx在启动时会加载并解析配置文件，其中包含了服务器的设置、反向代理规则、缓存配置等。</p>
<p>处理请求： 当收到客户端请求后，Nginx会根据配置文件中的规则进行处理。它可以根据请求的URL将请求分发给不同的后端服务器（如反向代理），或者直接提供静态文件。</p>
<p>请求处理阶段： 在请求处理阶段，Nginx会对请求进行一系列的处理操作，包括：访问控制、URL重写、gzip压缩、SSL&#x2F;TLS加密等。这些操作可以根据配置文件中的指令进行自定义设置。</p>
<p>反向代理： 如果配置文件中定义了反向代理规则，Nginx会将请求转发给后端的真实服务器，并将响应返回给客户端。这样可以实现负载均衡和高可用性。</p>
<p>静态文件服务： 对于静态文件的请求，Nginx可以直接提供文件服务，而无需将请求转发给后端服务器。这样可以提高效率并减轻后端服务器的负载。</p>
<p>返回响应： 最后，Nginx将处理后的响应返回给客户端，完成请求-响应的过程 </p>
<h2 id="Nginx热加载"><a href="#Nginx热加载" class="headerlink" title="Nginx热加载"></a>Nginx热加载</h2><p><strong>热加载概念</strong>：在不重启Java虚拟机（JVM）的情况下，能够自动检测class文件的变化并重新编译运行。</p>
<p><strong>Nginx热加载概念</strong>：</p>
<ol>
<li>当master接收到reload热加载命令时，会开启新的监听端口，开启新一轮的worker进程</li>
<li>新的worker进程可以运行以后，就开始接收客户端的连接请求</li>
<li>原来的worker进程不再接收新请求，且处理完当前的任务以后，就会主动断开连接</li>
<li>故实现处理前端业务连接的服务并不停止</li>
</ol>
<p><strong>Nginx热加载缺点</strong>：</p>
<ol>
<li>频繁热加载会导致连接不稳定，业务缺失</li>
<li>旧进程的回收可能耗时较长，虽然接收到master的退出指令，但是还是要等待连接异常，或者另一方主动断开连接，才能停止。这会导致进程过多，竞争资源</li>
<li>如果热加载的周期长，像是每天，每周，则reload可以满足需求，但如果是每小时每分钟，Nginx就无法满足需求</li>
</ol>
<p>**Nginx热加载替代方案Apache APISIX **：</p>
<p><strong>概念</strong>：基于Nginx和lua的微服务API网关</p>
<p><strong>优点</strong>：在不重启Nginx的情况下，能够添加新域名的反向代理</p>
<h1 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h1><ol>
<li>接收用户发来的请求</li>
<li>根据配置文件将请求均匀地转发给服务器</li>
<li>Nginx会定时检查其代理的服务器的健康状态，如果某个服务器宕机，则不会将请求转发给它</li>
</ol>
<h1 id="负载均衡"><a href="#负载均衡" class="headerlink" title="负载均衡"></a>负载均衡</h1><h2 id="策略"><a href="#策略" class="headerlink" title="策略"></a>策略</h2><ol>
<li><strong>轮询</strong>：按照时间顺序逐个给服务器分配请求</li>
<li><strong>权重</strong>：在配置文件里面设置每个服务器的权重，权重越大，分配到的概率越大</li>
<li><strong>最少连接</strong>：每次都先分配给最少连接的服务器</li>
<li><strong>hash</strong>：利用hash函数对ip求结果，根据结果分配给服务器，保证每个用户访问同一个后端服务</li>
</ol>
<h1 id="动静态资源分离"><a href="#动静态资源分离" class="headerlink" title="动静态资源分离"></a>动静态资源分离</h1><p><strong>概念</strong>：动态网页中有一些资源是不变的，这些称为静态资源。将静态资源和动态资源分开存储在不同服务器上</p>
<p><strong>优点</strong>：</p>
<ol>
<li>提高访问速度</li>
</ol>
<h1 id="限流策略"><a href="#限流策略" class="headerlink" title="限流策略"></a>限流策略</h1><ol>
<li><strong>控制访问频率</strong>：使用漏桶算法设置处理单个IP单位时间内的访问请求</li>
<li><strong>控制并发连接数</strong>：设置单位时间内最大可并发连接数</li>
<li><strong>设置白名单</strong>：通过白名单对IP进行分别设置是否限流</li>
</ol>
]]></content>
      <categories>
        <category>Nginx</category>
      </categories>
      <tags>
        <tag>Nginx</tag>
      </tags>
  </entry>
  <entry>
    <title>drawio指南</title>
    <url>/2023/08/17/drawio%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<p>下载网址：<a href="https://www.drawio.com/">https://www.drawio.com/</a></p>
<p>学习教程：<a href="https://www.bilibili.com/video/BV1Tu411U7v7/?from=search&seid=12303164196256071800&spm_id_from=333.337.0.0">https://www.bilibili.com/video/BV1Tu411U7v7/?from=search&amp;seid=12303164196256071800&amp;spm_id_from=333.337.0.0</a></p>
<h1 id="一些不成文的规定"><a href="#一些不成文的规定" class="headerlink" title="一些不成文的规定"></a>一些不成文的规定</h1><blockquote>
<p>圆角矩形：代表流程的开始&#x2F;结束</p>
<p>菱形：决策&#x2F;判断</p>
<p>平行四边形：资料的输入和输出</p>
<p>带有波浪的长方形：列印出来的文件</p>
<p>外框为虚线的矩形：针对流程图的某些步骤进行注解和说明</p>
</blockquote>
<h1 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h1><blockquote>
<p>ctrl+G：使图形变成容器，可以往里面放置其他图案</p>
<p>ctrl+按蓝色箭头即可实现图形的复制</p>
<p><img src="D:\blog\source_posts\drawio使用.assets\image-20230817205508970.png" alt="image-20230817205508970"></p>
<p>shift+按蓝色箭头即可实现两个图形之间连线</p>
<p>ctrl+shift进行复制</p>
</blockquote>
]]></content>
  </entry>
  <entry>
    <title>git命令详解</title>
    <url>/2023/10/12/git%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/</url>
    <content><![CDATA[<h1 id="git-init"><a href="#git-init" class="headerlink" title="git init"></a>git init</h1><ul>
<li>使用git命令的第一步是在工作目录上面打开git bash，之后的第一条命令是初始化，生成.git文件夹</li>
<li>命令：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\git命令详解.assets\0d99fde25bc2771968c93bfd14ef722.png" alt="0d99fde25bc2771968c93bfd14ef722"></p>
<h1 id="拉取项目"><a href="#拉取项目" class="headerlink" title="拉取项目"></a>拉取项目</h1><h2 id="普通的拉取项目clone"><a href="#普通的拉取项目clone" class="headerlink" title="普通的拉取项目clone"></a>普通的拉取项目clone</h2><p>如果你想运行一个GitHub或者gitee的项目，那么你首先应当对项目进行克隆</p>
<p>注意：</p>
<ul>
<li><p>这个命令不是在git bash里面运行，是在系统终端（cmd）里面运行</p>
</li>
<li><p>生成相应的文件夹以后，里面已经有.git文件夹，因此不需要运行<code>git init</code>命令</p>
</li>
<li><p>最常用的命令是</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git clone https://(项目的链接)</span><br></pre></td></tr></table></figure>

<ul>
<li>作用是：完整拉取项目，并且自动建立本地仓库与远程仓库的连接，做完这步之后不需要使用git remote add命令</li>
</ul>
<h2 id="在本地新建分支拉取项目"><a href="#在本地新建分支拉取项目" class="headerlink" title="在本地新建分支拉取项目"></a>在本地新建分支拉取项目</h2><p>如果你的工作目录已经有文件，那么你应该先建立与远程仓库的连接，之后再提交文件。</p>
<p>需要注意的是，你不能通过<code>git branch name</code>命令先新建一个分支，这样下面的命令无法重新建立一个同名的分支</p>
<ul>
<li>新建分支并拉取项目的命令是：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git checkout -b name origin/master</span><br></pre></td></tr></table></figure>

<ul>
<li>name代表的是 你想要新建的分支名，这里的sec是我取的新分支名字</li>
<li>origin代表的是在本地仓库中，你给远程仓库的代名称，在<code>git remote</code>命令中有提到，具体可查看<code>git remote</code>命令</li>
<li>master代表的是在远程仓库中，你想要拉取的那个分支名字</li>
</ul>
<p><img src="D:\blog\source_posts\git命令详解.assets\b1ac032c63c78b9e3dd7cc31fe6029e.png" alt="b1ac032c63c78b9e3dd7cc31fe6029e"></p>
<h2 id="中前期拉取项目更改的内容git-pull"><a href="#中前期拉取项目更改的内容git-pull" class="headerlink" title="中前期拉取项目更改的内容git pull"></a>中前期拉取项目更改的内容git pull</h2><ul>
<li>如果你新建项目，或者你原本就有文件，你可以使用下面的命令拉取项目</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git pull origin secondMaster</span><br></pre></td></tr></table></figure>

<ul>
<li><p>origin代表的是在本地仓库中，你给远程仓库的代名称，在<code>git remote</code>命令中有提到，具体可查看<code>git remote</code>命令</p>
</li>
<li><p>secondMaster代表的是远程仓库中你想要拉取的分支的名字</p>
</li>
<li><p>直接拉取以后，会自动在本地仓库中创建一个和远程仓库分支名字相同的分支，例如，执行该命令前，我的本地仓库（原本没有secondMaster分支），执行该命令后，我的本地仓库中有secondMaster分支，并且里面存放的文件和远程仓库上面的文件相同</p>
</li>
</ul>
<p><img src="D:\blog\source_posts\git命令详解.assets\890dd37b494d82b651c97f1a724e1d5.png" alt="890dd37b494d82b651c97f1a724e1d5"></p>
<h1 id="git-fetch"><a href="#git-fetch" class="headerlink" title="git fetch"></a>git fetch</h1><h1 id="git-merge"><a href="#git-merge" class="headerlink" title="git merge"></a>git merge</h1><ul>
<li>name是分支名，代表将name这个分支合并至当前的分支</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git merge name</span><br></pre></td></tr></table></figure>

<h1 id="git-remote"><a href="#git-remote" class="headerlink" title="git remote"></a>git remote</h1><h2 id="远程仓库建立连接"><a href="#远程仓库建立连接" class="headerlink" title="远程仓库建立连接"></a>远程仓库建立连接</h2><p>如果当前工作目录已经有文件，而且你想要上传至远程仓库，那第一步不应该将所有文件上传至本地仓库，反而应该先建立与远程仓库的连接</p>
<ul>
<li>最常用的命令是</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git remote add origin https://(项目的链接)</span><br></pre></td></tr></table></figure>

<ul>
<li>作用是：建立本地仓库与远程仓库的连接</li>
<li>origin代表的是拉取的远程仓库 在本地仓库的 <code>代名称</code></li>
</ul>
<p>这里的link是我给的代名称，一般使用origin会更好一些</p>
<p><img src="D:\blog\source_posts\git命令详解.assets\49e81ca440914fa26e9e6e972543df5-1697092559668-9.png" alt="49e81ca440914fa26e9e6e972543df5"></p>
<h2 id="建立连接是否成功"><a href="#建立连接是否成功" class="headerlink" title="建立连接是否成功"></a>建立连接是否成功</h2><p>想查看有没有建立连接成功，运行下面的指令：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git remote -v</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\git命令详解.assets\49e81ca440914fa26e9e6e972543df5.png" alt="49e81ca440914fa26e9e6e972543df5"></p>
<h1 id="git-add"><a href="#git-add" class="headerlink" title="git add"></a>git add</h1><h2 id="提交到暂存区"><a href="#提交到暂存区" class="headerlink" title="提交到暂存区"></a>提交到暂存区</h2><ul>
<li>最常用的命令是</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git add .</span><br></pre></td></tr></table></figure>

<ul>
<li>作用：提交当前工作目录下全部文件到暂存区</li>
</ul>
<h1 id="git-commit"><a href="#git-commit" class="headerlink" title="git commit"></a>git commit</h1><h2 id="提交到本地仓库"><a href="#提交到本地仓库" class="headerlink" title="提交到本地仓库"></a>提交到本地仓库</h2><ul>
<li>最常用的命令是</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git commit -m &quot;你想要备注的信息&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li>作用：将所有暂存区的文件提交到本地仓库上</li>
<li>m代表message的意思</li>
</ul>
<p><img src="D:\blog\source_posts\git命令详解.assets\7574c502fb50dddf8759f0120157302.png" alt="7574c502fb50dddf8759f0120157302"></p>
<h1 id="git-status"><a href="#git-status" class="headerlink" title="git status"></a>git status</h1><h2 id="查看文件的状态"><a href="#查看文件的状态" class="headerlink" title="查看文件的状态"></a>查看文件的状态</h2><ul>
<li>如果你不确定自己的文件有没有提交到本地仓库中，你可以使用下面的命令：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\git命令详解.assets\9e51551ff4142a03bcfea246d2e34b9.png" alt="9e51551ff4142a03bcfea246d2e34b9"></p>
<h1 id="git-branch"><a href="#git-branch" class="headerlink" title="git branch"></a>git branch</h1><h2 id="查看分支个数及名称"><a href="#查看分支个数及名称" class="headerlink" title="查看分支个数及名称"></a>查看分支个数及名称</h2><ul>
<li>如果此时你想查看本地仓库下面有几个分支，可以使用下面的命令：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git branch</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\git命令详解.assets\0d99fde25bc2771968c93bfd14ef722-1697092511570-4.png" alt="0d99fde25bc2771968c93bfd14ef722"></p>
<h2 id="创建分支"><a href="#创建分支" class="headerlink" title="创建分支"></a>创建分支</h2><ul>
<li>如果你想创建分支，name需要替换成你想要的分支名</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git branch name</span><br></pre></td></tr></table></figure>

<h2 id="切换分支"><a href="#切换分支" class="headerlink" title="切换分支"></a>切换分支</h2><ul>
<li>如果你想要切换分支，假设我想切换成master(分支的名字)分支</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git switch master</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\git命令详解.assets\31dd4b3717e40e34a2ab6e402f99b6b.png" alt="31dd4b3717e40e34a2ab6e402f99b6b"></p>
<h2 id="删除分支"><a href="#删除分支" class="headerlink" title="删除分支"></a>删除分支</h2><ul>
<li>如果你想要删除某个分支，name需要替换成你想要删除的分支名</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git branch -d name</span><br></pre></td></tr></table></figure>

<h1 id="推送项目"><a href="#推送项目" class="headerlink" title="推送项目"></a>推送项目</h1><h2 id="如果本地分支名与远程分支名不同"><a href="#如果本地分支名与远程分支名不同" class="headerlink" title="如果本地分支名与远程分支名不同"></a>如果本地分支名与远程分支名不同</h2><ul>
<li>你可以使用下面的命令推送项目</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git push origin master:secondMaster</span><br></pre></td></tr></table></figure>

<ul>
<li><p>origin代表的是在本地仓库中，你给远程仓库的代名称，在<code>git remote</code>命令中有提到，具体可查看<code>git remote</code>命令</p>
</li>
<li><p>master代表的是你希望存放远程分支项目文件的本地分支</p>
</li>
<li><p>secondMaster代表的是远程仓库中你想要拉取的分支的名字</p>
</li>
</ul>
<p><img src="D:\blog\source_posts\git命令详解.assets\2e069ce114157ddb12b8831a41985b4.png" alt="2e069ce114157ddb12b8831a41985b4"></p>
<h2 id="如果本地分支名与远程分支名相同"><a href="#如果本地分支名与远程分支名相同" class="headerlink" title="如果本地分支名与远程分支名相同"></a>如果本地分支名与远程分支名相同</h2><ul>
<li>你可以使用下面的命令推送项目</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git push origin master</span><br></pre></td></tr></table></figure>

<ul>
<li>origin代表的是在本地仓库中，你给远程仓库的代名称，在<code>git remote</code>命令中有提到，具体可查看<code>git remote</code>命令</li>
<li>master代表的是你本地仓库与远程仓库相同的分支名</li>
</ul>
<h1 id="合并远程仓库分支"><a href="#合并远程仓库分支" class="headerlink" title="合并远程仓库分支"></a>合并远程仓库分支</h1><p>思路：将远程仓库的所有分支拉取，之后在本地仓库进行分支合并，并解决其带来的冲突，解决以后，再将所有合并一起的master分支进行推送，之后远程仓库的所有分支便合并到master分支中。</p>
<p><img src="D:\blog\source_posts\git命令详解.assets\image-20231012150513695.png" alt="image-20231012150513695"></p>
<p><img src="D:\blog\source_posts\git命令详解.assets\image-20231012150531427.png" alt="image-20231012150531427"></p>
]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>go语言指南</title>
    <url>/2023/07/25/go%E8%AF%AD%E8%A8%80%E6%8C%87%E5%8D%97/</url>
    <content><![CDATA[<h1 id="开发环境"><a href="#开发环境" class="headerlink" title="开发环境"></a>开发环境</h1><h2 id="下载安装"><a href="#下载安装" class="headerlink" title="下载安装"></a>下载安装</h2><p>网址：<a href="https://go.dev/">https://go.dev/</a></p>
<p>直接根据需要下载即可</p>
<p>代码网址：<a href="https://wangkechun-gobyexample-46xfxd9o5oh.ws-us102.gitpod.io/">https://wangkechun-gobyexample-46xfxd9o5oh.ws-us102.gitpod.io/</a></p>
<h2 id="配置集成开发环境"><a href="#配置集成开发环境" class="headerlink" title="配置集成开发环境"></a>配置集成开发环境</h2><p>vscode 下载go插件</p>
<p>goland 付费软件</p>
<h1 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h1><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main <span class="comment">//表示程序的入口包、入口文件</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span> <span class="comment">//输入输出字符串</span></span><br><span class="line">)<span class="comment">//导入格式包</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//或者</span></span><br><span class="line"><span class="comment">//import &quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line">&#125; <span class="comment">//main函数</span></span><br></pre></td></tr></table></figure>

<h2 id="编译运行"><a href="#编译运行" class="headerlink" title="编译运行"></a>编译运行</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">go build +文件路径 //编译</span><br><span class="line">go run +文件路径（举例：/workspace/go-by-example/example/01-hello） //运行</span><br></pre></td></tr></table></figure>

<h2 id="变量申明"><a href="#变量申明" class="headerlink" title="变量申明"></a>变量申明</h2><h3 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&quot;initial&quot;</span> </span><br><span class="line"><span class="comment">//格式：var name= value ，这会自动推导格式类型</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b, c <span class="type">int</span> = <span class="number">1</span>, <span class="number">2</span></span><br><span class="line"><span class="comment">//也可以显式说明变量类型</span></span><br></pre></td></tr></table></figure>

<h3 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line">f := <span class="type">float32</span>(e)</span><br><span class="line"><span class="comment">//格式： 变量名 := 值</span></span><br></pre></td></tr></table></figure>

<h2 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">//go会自动确定常量的类型</span></span><br><span class="line"><span class="keyword">const</span> s <span class="type">string</span> = <span class="string">&quot;constant&quot;</span></span><br><span class="line"><span class="keyword">const</span> h = <span class="number">500000000</span></span><br><span class="line"><span class="keyword">const</span> i = <span class="number">3e20</span> / h</span><br><span class="line"><span class="comment">//格式： const 常量名 =值</span></span><br></pre></td></tr></table></figure>

<h2 id="if-else"><a href="#if-else" class="headerlink" title="if-else"></a>if-else</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">//if后面没有括号</span></span><br><span class="line"><span class="keyword">if</span> <span class="number">7</span>%<span class="number">2</span> == <span class="number">0</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;7 is even&quot;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;7 is odd&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> num := <span class="number">9</span>; num &lt; <span class="number">0</span> &#123;</span><br><span class="line">		fmt.Println(num, <span class="string">&quot;is negative&quot;</span>)</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> num &lt; <span class="number">10</span> &#123;</span><br><span class="line">		fmt.Println(num, <span class="string">&quot;has 1 digit&quot;</span>)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		fmt.Println(num, <span class="string">&quot;has multiple digits&quot;</span>)</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<h2 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">//只有for循环</span></span><br><span class="line"><span class="comment">//for后面没有括号</span></span><br><span class="line"><span class="comment">//有break（退出）和continue（继续）</span></span><br><span class="line"><span class="keyword">for</span> j := <span class="number">7</span>; j &lt; <span class="number">9</span>; j++ &#123;</span><br><span class="line">    fmt.Println(j)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="switch"><a href="#switch" class="headerlink" title="switch"></a>switch</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">//不需要再每一个case后面加上break</span></span><br><span class="line"><span class="comment">//可以使用不同的类型，甚至是结构体</span></span><br><span class="line"><span class="keyword">switch</span> a &#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;one&quot;</span>)</span><br><span class="line">	<span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;two&quot;</span>)</span><br><span class="line">	<span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;three&quot;</span>)</span><br><span class="line">	<span class="keyword">case</span> <span class="number">4</span>, <span class="number">5</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;four or five&quot;</span>)</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;other&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line"><span class="comment">//也可以代替if-else</span></span><br><span class="line"><span class="keyword">switch</span> &#123;</span><br><span class="line">	<span class="keyword">case</span> t.Hour() &lt; <span class="number">12</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;It&#x27;s before noon&quot;</span>)</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;It&#x27;s after noon&quot;</span>)</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">//长度固定</span></span><br><span class="line"><span class="comment">//一维整型数组</span></span><br><span class="line"><span class="keyword">var</span> a [<span class="number">5</span>]<span class="type">int</span></span><br><span class="line">a[<span class="number">4</span>] = <span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义时确定数组内容</span></span><br><span class="line">b := [<span class="number">5</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">good := []<span class="type">string</span>&#123;<span class="string">&quot;g&quot;</span>, <span class="string">&quot;o&quot;</span>, <span class="string">&quot;o&quot;</span>, <span class="string">&quot;d&quot;</span>&#125;</span><br><span class="line">fmt.Println(b)</span><br><span class="line"></span><br><span class="line"><span class="comment">//二维数组</span></span><br><span class="line"><span class="keyword">var</span> twoD [<span class="number">2</span>][<span class="number">3</span>]<span class="type">int</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">2</span>; i++ &#123;</span><br><span class="line">    <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="number">3</span>; j++ &#123;</span><br><span class="line">        twoD[i][j] = i + j</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="切片"><a href="#切片" class="headerlink" title="切片"></a>切片</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">//可变长度数组</span></span><br><span class="line"><span class="comment">//make创建切片</span></span><br><span class="line">s := <span class="built_in">make</span>([]<span class="type">string</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//append添加元素，必须要赋值回去</span></span><br><span class="line">s = <span class="built_in">append</span>(s, <span class="string">&quot;d&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//copy复制</span></span><br><span class="line"><span class="built_in">copy</span>(c, s)</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取元素</span></span><br><span class="line">fmt.Println(s[<span class="number">2</span>:<span class="number">5</span>]) <span class="comment">// [c d e]</span></span><br><span class="line">fmt.Println(s[:<span class="number">5</span>])  <span class="comment">// [a b c d e]</span></span><br><span class="line">fmt.Println(s[<span class="number">2</span>:])  <span class="comment">// [c d e f]</span></span><br></pre></td></tr></table></figure>

<h2 id="map"><a href="#map" class="headerlink" title="map"></a>map</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">//make创建空map，make（map[key的类型]value的类型）</span></span><br><span class="line">m := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建已知内容切片</span></span><br><span class="line">m2 := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>&#123;<span class="string">&quot;one&quot;</span>: <span class="number">1</span>, <span class="string">&quot;two&quot;</span>: <span class="number">2</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//写入</span></span><br><span class="line">m[<span class="string">&quot;two&quot;</span>] = <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//读取</span></span><br><span class="line">fmt.Println(m[<span class="string">&quot;one&quot;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除</span></span><br><span class="line"><span class="built_in">delete</span>(m, <span class="string">&quot;one&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//读取时，ok判断是否有key存在</span></span><br><span class="line">r, ok := m[<span class="string">&quot;unknow&quot;</span>]</span><br><span class="line">fmt.Println(r, ok) <span class="comment">// 0 false</span></span><br></pre></td></tr></table></figure>

<h2 id="range"><a href="#range" class="headerlink" title="range"></a>range</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">//遍历数组时：索引 值</span></span><br><span class="line"><span class="keyword">for</span> i, num := <span class="keyword">range</span> nums &#123;</span><br><span class="line">    sum += num</span><br><span class="line">    <span class="keyword">if</span> num == <span class="number">2</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;index:&quot;</span>, i, <span class="string">&quot;num:&quot;</span>, num) <span class="comment">// index: 0 num: 2</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//遍历map时：key value</span></span><br><span class="line"><span class="keyword">for</span> k, v := <span class="keyword">range</span> m &#123;</span><br><span class="line">    fmt.Println(k, v) <span class="comment">// b 8; a A</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> k := <span class="keyword">range</span> m &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;key&quot;</span>, k) <span class="comment">// key a; key b</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">//两种方式</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(a <span class="type">int</span>, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add2</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//第一个返回值，第二个返回信息</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">exists</span><span class="params">(m <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>, k <span class="type">string</span>)</span></span> (v <span class="type">string</span>, ok <span class="type">bool</span>) &#123;</span><br><span class="line">	v, ok = m[k]</span><br><span class="line">	<span class="keyword">return</span> v, ok</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">//对传入参数修改</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add2</span><span class="params">(n <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">	n += <span class="number">2</span></span><br><span class="line">&#125;<span class="comment">//传入的参数是拷贝</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add2ptr</span><span class="params">(n *<span class="type">int</span>)</span></span> &#123;</span><br><span class="line">	*n += <span class="number">2</span><span class="comment">//运算时加*</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	n := <span class="number">5</span></span><br><span class="line">	add2(n)</span><br><span class="line">	fmt.Println(n) <span class="comment">// 5</span></span><br><span class="line">	add2ptr(&amp;n)<span class="comment">//需要调用&amp;</span></span><br><span class="line">	fmt.Println(n) <span class="comment">// 7</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="结构体"><a href="#结构体" class="headerlink" title="结构体"></a>结构体</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">//定义</span></span><br><span class="line"><span class="keyword">type</span> user <span class="keyword">struct</span> &#123;</span><br><span class="line">	name     <span class="type">string</span></span><br><span class="line">	password <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化时需要传入初始值，默认是空值</span></span><br><span class="line">a := user&#123;name: <span class="string">&quot;wang&quot;</span>, password: <span class="string">&quot;1024&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义</span></span><br><span class="line"><span class="keyword">var</span> d user</span><br><span class="line"></span><br><span class="line"><span class="comment">//调用参数</span></span><br><span class="line">d.name = <span class="string">&quot;wang&quot;</span></span><br><span class="line">d.password = <span class="string">&quot;1024&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">checkPassword</span><span class="params">(u user, password <span class="type">string</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> u.password == password</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用指针可以减少大结构体拷贝时的开销</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">checkPassword2</span><span class="params">(u *user, password <span class="type">string</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> u.password == password</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="结构体方法"><a href="#结构体方法" class="headerlink" title="结构体方法"></a>结构体方法</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(u user)</span></span> checkPassword(password <span class="type">string</span>) <span class="type">bool</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> u.password == password</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//带指针</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(u *user)</span></span> resetPassword(password <span class="type">string</span>) &#123;</span><br><span class="line">	u.password = password</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//调用</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	a := user&#123;name: <span class="string">&quot;wang&quot;</span>, password: <span class="string">&quot;1024&quot;</span>&#125;</span><br><span class="line">	a.resetPassword(<span class="string">&quot;2048&quot;</span>)</span><br><span class="line">	fmt.Println(a.checkPassword(<span class="string">&quot;2048&quot;</span>)) <span class="comment">// true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a>错误处理</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findUser</span><span class="params">(users []user, name <span class="type">string</span>)</span></span> (v *user, err <span class="type">error</span>) &#123;</span><br><span class="line">	<span class="keyword">for</span> _, u := <span class="keyword">range</span> users &#123;</span><br><span class="line">		<span class="keyword">if</span> u.name == name &#123;</span><br><span class="line">			<span class="keyword">return</span> &amp;u, <span class="literal">nil</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">nil</span>, errors.New(<span class="string">&quot;not found&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">u, err := findUser([]user&#123;&#123;<span class="string">&quot;wang&quot;</span>, <span class="string">&quot;1024&quot;</span>&#125;&#125;, <span class="string">&quot;wang&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(u.name) <span class="comment">// wang</span></span><br></pre></td></tr></table></figure>

<h2 id="字符串操作"><a href="#字符串操作" class="headerlink" title="字符串操作"></a>字符串操作</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line">a := <span class="string">&quot;hello&quot;</span></span><br><span class="line"><span class="comment">//包含操作</span></span><br><span class="line">fmt.Println(strings.Contains(a, <span class="string">&quot;ll&quot;</span>))                <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//字符串计数</span></span><br><span class="line">fmt.Println(strings.Count(a, <span class="string">&quot;l&quot;</span>))                    <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line">fmt.Println(strings.HasPrefix(a, <span class="string">&quot;he&quot;</span>))               <span class="comment">// true</span></span><br><span class="line">fmt.Println(strings.HasSuffix(a, <span class="string">&quot;llo&quot;</span>))              <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//查找字符串位置</span></span><br><span class="line">fmt.Println(strings.Index(a, <span class="string">&quot;ll&quot;</span>))                   <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//来连接字符串</span></span><br><span class="line">fmt.Println(strings.Join([]<span class="type">string</span>&#123;<span class="string">&quot;he&quot;</span>, <span class="string">&quot;llo&quot;</span>&#125;, <span class="string">&quot;-&quot;</span>)) <span class="comment">// he-llo</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//重复字符串</span></span><br><span class="line">fmt.Println(strings.Repeat(a, <span class="number">2</span>))                     <span class="comment">// hellohello</span></span><br><span class="line">fmt.Println(strings.Replace(a, <span class="string">&quot;e&quot;</span>, <span class="string">&quot;E&quot;</span>, <span class="number">-1</span>))         <span class="comment">// hEllo</span></span><br><span class="line">fmt.Println(strings.Split(<span class="string">&quot;a-b-c&quot;</span>, <span class="string">&quot;-&quot;</span>))              <span class="comment">// [a b c]</span></span><br><span class="line">fmt.Println(strings.ToLower(a))                       <span class="comment">// hello</span></span><br><span class="line">fmt.Println(strings.ToUpper(a))                       <span class="comment">// HELLO</span></span><br><span class="line">fmt.Println(<span class="built_in">len</span>(a))                                   <span class="comment">// 5</span></span><br></pre></td></tr></table></figure>

<h2 id="字符串格式化"><a href="#字符串格式化" class="headerlink" title="字符串格式化"></a>字符串格式化</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">//打印多个变量，并且换行</span></span><br><span class="line">fmt.Println(s, n)</span><br><span class="line"></span><br><span class="line"><span class="comment">//%v表示任意类型变量，%+v，%#v输出信息越来越详细</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;s=%v\n&quot;</span>, s)  <span class="comment">// s=hello</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;p=%v\n&quot;</span>, p)  <span class="comment">// p=&#123;1 2&#125;</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;p=%+v\n&quot;</span>, p) <span class="comment">// p=&#123;x:1 y:2&#125;</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;p=%#v\n&quot;</span>, p) <span class="comment">// p=main.point&#123;x:1, y:2&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="json"><a href="#json" class="headerlink" title="json"></a>json</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">//结构体每个属性字段的第一个字母时大写</span></span><br><span class="line"><span class="keyword">type</span> userInfo <span class="keyword">struct</span> &#123;</span><br><span class="line">	Name  <span class="type">string</span></span><br><span class="line">	Age   <span class="type">int</span> <span class="string">`json:&quot;age&quot;`</span><span class="comment">//字段名变小写</span></span><br><span class="line">	Hobby []<span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//可以使用json.Marshal进行序列化</span></span><br><span class="line">a := userInfo&#123;Name: <span class="string">&quot;wang&quot;</span>, Age: <span class="number">18</span>, Hobby: []<span class="type">string</span>&#123;<span class="string">&quot;Golang&quot;</span>, <span class="string">&quot;TypeScript&quot;</span>&#125;&#125;</span><br><span class="line">	buf, err := json.Marshal(a)</span><br><span class="line"></span><br><span class="line"><span class="comment">//反序列化</span></span><br><span class="line">err = json.Unmarshal(buf, &amp;b)</span><br></pre></td></tr></table></figure>

<h2 id="time"><a href="#time" class="headerlink" title="time"></a>time</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">//当前时间</span></span><br><span class="line">now := time.Now()</span><br><span class="line"></span><br><span class="line"><span class="comment">//其他时间</span></span><br><span class="line">t := time.Date(<span class="number">2022</span>, <span class="number">3</span>, <span class="number">27</span>, <span class="number">1</span>, <span class="number">25</span>, <span class="number">36</span>, <span class="number">0</span>, time.UTC)</span><br><span class="line"></span><br><span class="line"><span class="comment">//时间减法</span></span><br><span class="line">diff := t2.Sub(t)</span><br><span class="line"></span><br><span class="line"><span class="comment">//格式为时间字符串</span></span><br><span class="line">fmt.Println(t.Format(<span class="string">&quot;2006-01-02 15:04:05&quot;</span>))  </span><br><span class="line"></span><br><span class="line"><span class="comment">//获取时间详细信息</span></span><br><span class="line">fmt.Println(t.Year(), t.Month(), t.Day(), t.Hour(), t.Minute())</span><br><span class="line"></span><br><span class="line"><span class="comment">//解析时间</span></span><br><span class="line">t3, err := time.Parse(<span class="string">&quot;2006-01-02 15:04:05&quot;</span>, <span class="string">&quot;2022-03-27 01:25:36&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//时间戳</span></span><br><span class="line">fmt.Println(now.Unix()) <span class="comment">// 1648738080</span></span><br></pre></td></tr></table></figure>

<h2 id="数字解析"><a href="#数字解析" class="headerlink" title="数字解析"></a>数字解析</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">//导入包</span></span><br><span class="line"><span class="string">&quot;strconv&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//解析字符串</span></span><br><span class="line">f, _ := strconv.ParseFloat(<span class="string">&quot;1.234&quot;</span>, <span class="number">64</span>)</span><br><span class="line">fmt.Println(f) <span class="comment">// 1.234</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//参数依次是数值，进制，返回数值</span></span><br><span class="line">n, _ := strconv.ParseInt(<span class="string">&quot;111&quot;</span>, <span class="number">10</span>, <span class="number">64</span>)</span><br><span class="line">fmt.Println(n) <span class="comment">// 111</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//十进制字符串转化为数字</span></span><br><span class="line">n2, _ := strconv.Atoi(<span class="string">&quot;123&quot;</span>)</span><br><span class="line">fmt.Println(n2) <span class="comment">// 123</span></span><br><span class="line"></span><br><span class="line">n2, err := strconv.Atoi(<span class="string">&quot;AAA&quot;</span>)</span><br><span class="line">fmt.Println(n2, err) <span class="comment">// 0 strconv.Atoi: parsing &quot;AAA&quot;: invalid syntax</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="进程信息"><a href="#进程信息" class="headerlink" title="进程信息"></a>进程信息</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">//获取命令行参数</span></span><br><span class="line"><span class="comment">// go run example/20-env/main.go a b c d</span></span><br><span class="line">fmt.Println(os.Args)           <span class="comment">// [/var/folders/8p/n34xxfnx38dg8bv_x8l62t_m0000gn/T/go-build3406981276/b001/exe/main（临时目录） a b c d]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//获取环境变量</span></span><br><span class="line">fmt.Println(os.Getenv(<span class="string">&quot;PATH&quot;</span>)) <span class="comment">// /usr/local/go/bin...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//写入环境变量</span></span><br><span class="line">fmt.Println(os.Setenv(<span class="string">&quot;AA&quot;</span>, <span class="string">&quot;BB&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">//快速启动子进程</span></span><br><span class="line">buf, err := exec.Command(<span class="string">&quot;grep&quot;</span>, <span class="string">&quot;127.0.0.1&quot;</span>, <span class="string">&quot;/etc/hosts&quot;</span>).CombinedOutput()</span><br></pre></td></tr></table></figure>

<h1 id="实战"><a href="#实战" class="headerlink" title="实战"></a>实战</h1><h2 id="猜谜游戏"><a href="#猜谜游戏" class="headerlink" title="猜谜游戏"></a>猜谜游戏</h2><h3 id="v1"><a href="#v1" class="headerlink" title="v1"></a>v1</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;math/rand&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	maxNum := <span class="number">100</span></span><br><span class="line">	secretNumber := rand.Intn(maxNum) <span class="comment">//rand是代码包，Intn随机选取一个整数</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;The secret number is &quot;</span>, secretNumber)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>这部分和老师说的不太一样，老师说这部分代码应该输出的结果是相同的，但是我每次运行的结果都不相同，如下：<img src="D:\blog\source_posts\go语言指南.assets\image-20230810103132169.png" alt="image-20230810103132169"></p>
</blockquote>
<h3 id="v2"><a href="#v2" class="headerlink" title="v2"></a>v2</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;math/rand&quot;</span></span><br><span class="line">	<span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	maxNum := <span class="number">100</span></span><br><span class="line">	rand.Seed(time.Now().UnixNano())<span class="comment">//使用时间戳来初始化随机数种子</span></span><br><span class="line">	secretNumber := rand.Intn(maxNum)</span><br><span class="line">	fmt.Println(<span class="string">&quot;The secret number is &quot;</span>, secretNumber)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>这部分代码运行出来也是不一样的数</p>
<p><img src="D:\blog\source_posts\go语言指南.assets\image-20230810103338275.png" alt="image-20230810103338275"></p>
</blockquote>
<h3 id="v3"><a href="#v3" class="headerlink" title="v3"></a>v3</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;bufio&quot;</span></span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;math/rand&quot;</span></span><br><span class="line">	<span class="string">&quot;os&quot;</span></span><br><span class="line">	<span class="string">&quot;strconv&quot;</span></span><br><span class="line">	<span class="string">&quot;strings&quot;</span></span><br><span class="line">	<span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	maxNum := <span class="number">100</span></span><br><span class="line">	rand.Seed(time.Now().UnixNano())</span><br><span class="line">	secretNumber := rand.Intn(maxNum)</span><br><span class="line">	fmt.Println(<span class="string">&quot;The secret number is &quot;</span>, secretNumber)</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">&quot;Please input your guess&quot;</span>)<span class="comment">//读取用户输入</span></span><br><span class="line">	reader := bufio.NewReader(os.Stdin)<span class="comment">// 创建一个读取器来读取用户输入</span></span><br><span class="line">	input, err := reader.ReadString(<span class="string">&#x27;\n&#x27;</span>)<span class="comment">// 读取用户输入的字符串，直到遇到换行符</span></span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;An error occured while reading input. Please try again&quot;</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	input = strings.Trim(input, <span class="string">&quot;\r\n&quot;</span>)<span class="comment">// 去除输入中的换行符和回车符</span></span><br><span class="line"></span><br><span class="line">	guess, err := strconv.Atoi(input)<span class="comment">// 将用户输入的字符串转换成整数类型</span></span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;Invalid input. Please enter an integer value&quot;</span>)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;You guess is&quot;</span>, guess)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>运行结果如下：</p>
<p><img src="D:\blog\source_posts\go语言指南.assets\image-20230810105254592.png" alt="image-20230810105254592"></p>
<p>中途遇到无法在终端里面输入，可查看下面连接解决：<a href="https://cloud.tencent.com/developer/article/2196813">【6】VScode 无法在终端输入问题，提示：无法在只读编辑器中编辑-腾讯云开发者社区-腾讯云 (tencent.com)</a></p>
</blockquote>
<h4 id="nil"><a href="#nil" class="headerlink" title="nil"></a>nil</h4><blockquote>
<p>在 Go 编程语言中，<code>nil</code> 是一个预定义的标识符，表示一个空值或者零值。它通常用于表示指针、接口、映射、切片、通道和函数类型的零值。在不同的上下文中，<code>nil</code> 表示不同的含义，但总的来说，它代表了一个值的缺失或者不存在。</p>
<p>以下是一些常见情况下 <code>nil</code> 的使用：</p>
<ol>
<li><strong>指针类型</strong>：在 Go 中，一个指针变量指向某个值的内存地址。当一个指针没有被初始化时，它的值为 <code>nil</code>，表示它不指向任何有效的内存地址。</li>
<li><strong>接口类型</strong>：一个接口变量在没有被赋值时，其值为 <code>nil</code>，表示它不持有任何值。</li>
<li><strong>切片、映射和通道</strong>：在没有被初始化时，切片、映射和通道的零值都是 <code>nil</code>。</li>
<li><strong>函数类型</strong>：函数变量在没有被赋值时，其值为 <code>nil</code>，表示它不引用任何函数。</li>
</ol>
<p>总之，<code>nil</code> 在 Go 中代表了值的缺失或者不存在，它在不同类型的变量中具有不同的含义，但都表示了一个空值状态。</p>
</blockquote>
<h3 id="v4"><a href="#v4" class="headerlink" title="v4"></a>v4</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;bufio&quot;</span></span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;math/rand&quot;</span></span><br><span class="line">	<span class="string">&quot;os&quot;</span></span><br><span class="line">	<span class="string">&quot;strconv&quot;</span></span><br><span class="line">	<span class="string">&quot;strings&quot;</span></span><br><span class="line">	<span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	maxNum := <span class="number">100</span></span><br><span class="line">	rand.Seed(time.Now().UnixNano())</span><br><span class="line">	secretNumber := rand.Intn(maxNum)</span><br><span class="line">	fmt.Println(<span class="string">&quot;The secret number is &quot;</span>, secretNumber)</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">&quot;Please input your guess&quot;</span>)</span><br><span class="line">	reader := bufio.NewReader(os.Stdin)</span><br><span class="line">	input, err := reader.ReadString(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;An error occured while reading input. Please try again&quot;</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	input = strings.Trim(input, <span class="string">&quot;\r\n&quot;</span>)</span><br><span class="line"></span><br><span class="line">	guess, err := strconv.Atoi(input)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;Invalid input. Please enter an integer value&quot;</span>)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;You guess is&quot;</span>, guess)</span><br><span class="line">    <span class="comment">//判断猜测的数字大小</span></span><br><span class="line">	<span class="keyword">if</span> guess &gt; secretNumber &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;Your guess is bigger than the secret number. Please try again&quot;</span>)</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> guess &lt; secretNumber &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;Your guess is smaller than the secret number. Please try again&quot;</span>)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;Correct, you Legend!&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>运行的结果：</p>
<p><img src="D:\blog\source_posts\go语言指南.assets\image-20230810105640754.png" alt="image-20230810105640754"></p>
</blockquote>
<h3 id="v5"><a href="#v5" class="headerlink" title="v5"></a>v5</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;bufio&quot;</span></span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;math/rand&quot;</span></span><br><span class="line">	<span class="string">&quot;os&quot;</span></span><br><span class="line">	<span class="string">&quot;strconv&quot;</span></span><br><span class="line">	<span class="string">&quot;strings&quot;</span></span><br><span class="line">	<span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	maxNum := <span class="number">100</span></span><br><span class="line">	rand.Seed(time.Now().UnixNano())</span><br><span class="line">	secretNumber := rand.Intn(maxNum)</span><br><span class="line">	<span class="comment">// fmt.Println(&quot;The secret number is &quot;, secretNumber)</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">&quot;Please input your guess&quot;</span>)</span><br><span class="line">	reader := bufio.NewReader(os.Stdin)</span><br><span class="line">    <span class="comment">//增加游戏循环</span></span><br><span class="line">	<span class="keyword">for</span> &#123;</span><br><span class="line">		input, err := reader.ReadString(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">			fmt.Println(<span class="string">&quot;An error occured while reading input. Please try again&quot;</span>, err)</span><br><span class="line">            <span class="comment">//如果输入错误，则重新输入</span></span><br><span class="line">			<span class="keyword">continue</span></span><br><span class="line">		&#125;</span><br><span class="line">		input = strings.Trim(input, <span class="string">&quot;\r\n&quot;</span>)</span><br><span class="line"></span><br><span class="line">		guess, err := strconv.Atoi(input)</span><br><span class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">			fmt.Println(<span class="string">&quot;Invalid input. Please enter an integer value&quot;</span>)</span><br><span class="line">			<span class="keyword">continue</span></span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Println(<span class="string">&quot;You guess is&quot;</span>, guess)</span><br><span class="line">		<span class="keyword">if</span> guess &gt; secretNumber &#123;</span><br><span class="line">			fmt.Println(<span class="string">&quot;Your guess is bigger than the secret number. Please try again&quot;</span>)</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> guess &lt; secretNumber &#123;</span><br><span class="line">			fmt.Println(<span class="string">&quot;Your guess is smaller than the secret number. Please try again&quot;</span>)</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			fmt.Println(<span class="string">&quot;Correct, you Legend!&quot;</span>)</span><br><span class="line">			<span class="keyword">break</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>运行结果：<img src="D:\blog\source_posts\go语言指南.assets\image-20230810110227372.png" alt="image-20230810110227372"></p>
</blockquote>
<h2 id="在线词典介绍"><a href="#在线词典介绍" class="headerlink" title="在线词典介绍"></a>在线词典介绍</h2><p>找到彩云翻译的网站：<a href="https://fanyi.caiyunapp.com/#/">https://fanyi.caiyunapp.com/#/</a></p>
<p>右键“检查”，点击“Network”，在右边栏找到dict，查看它的method是不是POST，是的话，找到它的Payload</p>
<p><img src="D:\blog\source_posts\go语言指南.assets\image-20230810225441590.png" alt="image-20230810225441590"></p>
<blockquote>
<p>Payload写的是：</p>
<p>{trans_type: “en2zh”, source: “good”}</p>
<p>​		source: “good”</p>
<ol>
<li>trans_type: “en2zh”&#x2F;&#x2F;表示是从英文转到中文。</li>
</ol>
</blockquote>
]]></content>
      <categories>
        <category>go</category>
      </categories>
      <tags>
        <tag>go</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2023/07/14/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
  </entry>
  <entry>
    <title>java学习</title>
    <url>/2023/10/04/java%E5%AD%A6%E4%B9%A0/</url>
    <content><![CDATA[<h2 id="学习进度："><a href="#学习进度：" class="headerlink" title="学习进度："></a>学习进度：</h2><blockquote>
<p>学习课程：韩顺平 0基础学java</p>
<p>2023&#x2F;10&#x2F;5： 11&#x2F;910</p>
<p>2023&#x2F;10&#x2F;6： 21&#x2F;910</p>
<p>2023&#x2F;10&#x2F;7： 45&#x2F;910</p>
<p>2023&#x2F;10&#x2F;8： 82&#x2F;910</p>
<p>2023&#x2F;10&#x2F;9： 122&#x2F;910</p>
<p>2023&#x2F;10&#x2F;10： 127&#x2F;910</p>
<p>2023&#x2F;10&#x2F;11： 135&#x2F;910</p>
<p>2023&#x2F;10&#x2F;12： -&#x2F;910</p>
<p>2023&#x2F;10&#x2F;13： -&#x2F;910</p>
<p>2023&#x2F;10&#x2F;14： 156&#x2F;910</p>
<p>2023&#x2F;10&#x2F;15： &#x2F;910</p>
<p>2023&#x2F;10&#x2F;16： &#x2F;910</p>
<p>2023&#x2F;10&#x2F;17： &#x2F;910</p>
<p>2023&#x2F;10&#x2F;18： &#x2F;910</p>
<p>2023&#x2F;10&#x2F;19： &#x2F;910</p>
<p>2023&#x2F;10&#x2F;20： &#x2F;910</p>
</blockquote>
<h1 id="Java全栈知识体系"><a href="#Java全栈知识体系" class="headerlink" title="Java全栈知识体系"></a>Java全栈知识体系</h1><p>参考文档:<a href="https://pdai.tech/md/resource/tools.html">https://pdai.tech/md/resource/tools.html</a></p>
<h1 id="学习路线"><a href="#学习路线" class="headerlink" title="学习路线"></a>学习路线</h1><p>参考：<a href="https://yuyuanweb.feishu.cn/wiki/RxC8w2uFQiHspQk4L3qcyjBunZd">https://yuyuanweb.feishu.cn/wiki/RxC8w2uFQiHspQk4L3qcyjBunZd</a></p>
<h1 id="在线练习"><a href="#在线练习" class="headerlink" title="在线练习"></a>在线练习</h1><p>网址：<a href="https://codegym.cc/zh/">https://codegym.cc/zh/</a></p>
<h1 id="如何快速学习"><a href="#如何快速学习" class="headerlink" title="如何快速学习"></a>如何快速学习</h1><h1 id="程序运行"><a href="#程序运行" class="headerlink" title="程序运行"></a>程序运行</h1><p>一个.java文件如何在终端运行？</p>
<p>在终端输入：（进行编译）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">javac test.java</span><br></pre></td></tr></table></figure>

<p>之后得到一个.class文件，这是编译后的文件，计算机执行程序是执行.class文件。</p>
<p>运行：本质是将.class文件装载到jvm机执行 </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">java test</span><br><span class="line">//java test.class会报错 因为找到的应该是主类</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\java学习.assets\image-20231006184704528.png" alt="image-20231006184704528"></p>
<p>.java文件首先进行编译，生成一个字节码文件.class文件，此时并不能被机器直接运行，当启动jvm虚拟机以后，再运行程序，.class文件会在jvm虚拟机里面运行。</p>
<h1 id="Java基础知识"><a href="#Java基础知识" class="headerlink" title="Java基础知识"></a>Java基础知识</h1><h2 id="Java之父"><a href="#Java之父" class="headerlink" title="Java之父"></a>Java之父</h2><p>gosling</p>
<h2 id="Java第一个版本诞生年份"><a href="#Java第一个版本诞生年份" class="headerlink" title="Java第一个版本诞生年份"></a>Java第一个版本诞生年份</h2><p>1995</p>
<h2 id="Java最新版本"><a href="#Java最新版本" class="headerlink" title="Java最新版本"></a>Java最新版本</h2><p>15</p>
<h2 id="Java最常用版本"><a href="#Java最常用版本" class="headerlink" title="Java最常用版本"></a>Java最常用版本</h2><p>8 和 11</p>
<h2 id="公司"><a href="#公司" class="headerlink" title="公司"></a>公司</h2><p>甲骨文</p>
<h1 id="Java技术体系平台"><a href="#Java技术体系平台" class="headerlink" title="Java技术体系平台"></a>Java技术体系平台</h1><p>Java SE 标准版 standard edition</p>
<p>Java EE 企业版 enterprise edition</p>
<p>Java ME小型版 micro edition</p>
<h1 id="Java重要特点"><a href="#Java重要特点" class="headerlink" title="Java重要特点"></a>Java重要特点</h1><p>面向对象（oop）</p>
<p>语言是健壮的：强类型机制，异常处理，垃圾的自动收集</p>
<blockquote>
<p>强类型：必须指定每个数据的类型，并且在内存分配不同大小的内存空间</p>
</blockquote>
<p>跨平台：.class文件可以通过JVM（java虚拟机，安装了jdk，jvm也顺带安装了），一个解释器，在windows和linux等不同操作系统上面运行</p>
<p>解释型语言：操作系统会提供一个解释器，对.class文件进行解释</p>
<blockquote>
<p>解释型语言：java，js，php 编译后的代码，要由解释器来执行，不能通过机器执行</p>
<p>编译型语言：c，c++ 编译后的代码是二进制的，可以直接由机器执行</p>
<p>上面两种的性能，不好说，需要根据语言和解释器来判断性能</p>
</blockquote>
<h1 id="JVM"><a href="#JVM" class="headerlink" title="JVM"></a>JVM</h1><p>java virtual machine</p>
<p>虚拟的计算机，拥有指令集并使用不同的存储区域，负责执行指令，存储数据，包含于JDK</p>
<p>一次编译，到处执行</p>
<h1 id="JDK"><a href="#JDK" class="headerlink" title="JDK"></a>JDK</h1><p>Java development kit </p>
<p>Java开发工具包</p>
<p>JDK &#x3D; JRE（Java Runtime Environment） + Java开发工具（java，javac，javadoc，javap等）</p>
<p>JRE &#x3D; JVM +Java核心类库</p>
<blockquote>
<p>终端里面运行的 javac test.java 的“javac”就是一项开发工具</p>
</blockquote>
<h2 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h2><p>当前执行的程序在当前目录下如果不存在，操作系统会在系统中已有的path环境变量指定的目录中寻找。如果未找到，会报错“不是内部或外部命令，也不是可运行程序或批处理文件”</p>
<p>作用：为了让dos的任意目录可以使用java，javac等命令</p>
<p>用户变量：是对当前用户生效</p>
<p>系统变量：是对所有用户都生效</p>
<h1 id="编译器"><a href="#编译器" class="headerlink" title="编译器"></a>编译器</h1><p>编译器是一个特殊的程序，它可将用编程语言编写的程序转换成一系列的机器代码。</p>
<h1 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h1><p>参考网址：<a href="https://blog.csdn.net/weixin_45490021/article/details/129411170">https://blog.csdn.net/weixin_45490021/article/details/129411170</a></p>
<p>问题：下载sublime Text以后无法设置文件编码，参考上面网址，成功解决。</p>
<h1 id="原则"><a href="#原则" class="headerlink" title="原则"></a>原则</h1><p>每个命令都单独占用一行。分号必须放在命令的末尾。</p>
<p>“一个程序不能只包含命令。”在 Java 编程语言中，命令不能单独存在。它是函数的一部分（在 Java 语言中，‘函数’也称为‘方法’）。方法是类的一部分。换句话说，类被划分为多个方法，而方法被划分为多个命令。因此，类就是一个公寓楼，函数&#x2F;方法是一个公寓，而命令是一个房间。</p>
<p>对大小写敏感</p>
<blockquote>
<p><code>int a</code> 和 <code>Int a</code> 不同</p>
</blockquote>
<h1 id="程序组成"><a href="#程序组成" class="headerlink" title="程序组成"></a>程序组成</h1><p>Java 中的程序由类组成。 可能有数万个类。最小程序含有一个类。对于每个类，都创建一个单独的文件。文件的名称与类的名称相匹配。</p>
<p>一个类的代码由‘类名’和‘类主体’组成。类主体写在大括号内。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Home</span>&#123;</span><br><span class="line">    类主体</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>类主体可能包含多个变量（也称为数据）和方法（‘函数’）。</p>
<p>一个最小程序必须至少包含一个类，该类必须包含至少一个方法&#x2F;函数才能使程序运行。这个方法必须命名为‘main’。最小程序没有任何命令。这就是为什么它被称为‘最小’。启动程序的类可以有任何名称，但用于启动程序的‘main’方法必须始终保持相同。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//最小程序</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Home</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span> <span class="params">(String[] args)</span><span class="comment">//主方法，程序的入口</span></span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 方法的主体由命令组成。方法就是一组被赋予名称（方法名称）的命令。</p>
<p>一个源文件最多只能与一个public类，其他类不限。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Home</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span> <span class="params">(String[] args)</span><span class="comment">//主方法，程序的入口</span></span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dog</span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Cat</span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>编译以后，每一个类对应一个.class文件</p>
<p>源文件的public类和文件名需要一样</p>
<p>可以将main方法写在非public类中，因此入口函数是非public类的main方法</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dog</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Cat</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">java Dog//运行Dog的主方法，以Dog的方法作为程序入口</span><br><span class="line">java Hello//运行Hello的主方法，以Hello的方法作为程序入口</span><br><span class="line">java Cat//运行Cat的主方法，以Cat的方法作为程序入口</span><br></pre></td></tr></table></figure>



<h1 id="输出命令"><a href="#输出命令" class="headerlink" title="输出命令"></a>输出命令</h1><p><code>System.out.println()</code> 命令，每次打印完会换行。 <code>System.out.print()</code> 命令，打印不换行。</p>
<h1 id="命名"><a href="#命名" class="headerlink" title="命名"></a>命名</h1><p>.java文件是源文件</p>
<p>.class文件是字节码文件</p>
<h1 id="转义符"><a href="#转义符" class="headerlink" title="转义符"></a>转义符</h1><blockquote>
<p>\t 制表位，实现对齐</p>
<p>\n 换行符</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">\\ ：\</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">\&quot; ：&quot;&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">\&#x27; ：&#x27;</span><br></pre></td></tr></table></figure>

<p>\r :回车，光标会回到当前行的第一个字符，并且替换后面的字符</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">韩顺平\r北京      最后输出：北京平</span><br></pre></td></tr></table></figure>

</blockquote>
<h1 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h1><p>注释的文字不会被jvm执行</p>
<p>多行注释里面不可以嵌套多行注释</p>
<h2 id="文档注释"><a href="#文档注释" class="headerlink" title="文档注释"></a>文档注释</h2><p>注释内容可以被javadoc解析，生成一套以网页文件形式体现的该程序的说明文档。一般写在类</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">javadoc -d 文件名 -xx -yy test.java</span><br></pre></td></tr></table></figure>

<p>-xx是标签 -yy也是标签，需要全部列举</p>
<h1 id="javadoc标签"><a href="#javadoc标签" class="headerlink" title="javadoc标签"></a>javadoc标签</h1><p><a href="https://blog.csdn.net/qq_43085982/article/details/130381243">https://blog.csdn.net/qq_43085982/article/details/130381243</a></p>
<p>标签	含义<br>@author	指定作者<br>{@code}	使用代码字体以原样显示信息，不处理HTML样式<br>@deprecated	指定程序元素已经过时<br>{@docRoot}	指定当前文档的根目录路径<br>@exception	标识由方法或构造函数抛出的异常<br>{@inheritDoc}	从直接超类中继承注释<br>{@link}	插入指向另外一个主题的内联链接<br>{@linkplain}	插入指向另外一个主题的内联链接，但是链接以明文显示<br>{@literal}	以原样显示信息，不处理 HTML 样式<br>@param	文档化参数<br>@return	文档化方法的返回值<br>@see	指定到另一个主题的链接<br>@serial	文档化默认的可串行化文本域<br>@serialData	文档化由 writeObject()或writeExternal()方法写入的数据<br>@serialField	文档化ObjectStreamField组件<br>@since	当引入特定的变化时，声明发布版本<br>@throws	与@exception 相同<br>{@value}	显示常量的值，常量必须是static 类型<br>@version	指定类的版本</p>
<h3 id="查看javadoc的版本"><a href="#查看javadoc的版本" class="headerlink" title="查看javadoc的版本"></a>查看javadoc的版本</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">javadoc -J-version</span><br></pre></td></tr></table></figure>

<h3 id="运行javadoc报错不合法参数"><a href="#运行javadoc报错不合法参数" class="headerlink" title="运行javadoc报错不合法参数"></a>运行javadoc报错不合法参数</h3><p>参考文档：<a href="https://blog.csdn.net/xiaokui9/article/details/110177341">maven编译时javadoc报错java.lang.IllegalArgumentException</a></p>
<p>以下是我运行指令的报错：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">javadoc -d d:\javaStudy\doc -author -version javaDocComment.java</span><br></pre></td></tr></table></figure>

<blockquote>
<p>java.lang.IllegalArgumentException        at sun.net.<a href="http://www.ParseUtil.decode(ParseUtil.java:202)">www.ParseUtil.decode(ParseUtil.java:202)</a>        at sun.misc.URLClassPath$FileLoader.<init>(URLClassPath.java:1322)        at sun.misc.URLClassPath$3.run(URLClassPath.java:571)        at sun.misc.URLClassPath$3.run(URLClassPath.java:566)        at java.security.AccessController.doPrivileged(Native Method)        at sun.misc.URLClassPath.getLoader(URLClassPath.java:565)        at sun.misc.URLClassPath.getLoader(URLClassPath.java:530)        at sun.misc.URLClassPath.getNextLoader(URLClassPath.java:495)        at sun.misc.URLClassPath.access$100(URLClassPath.java:67)        at sun.misc.URLClassPath$1.next(URLClassPath.java:277)        at sun.misc.URLClassPath$1.hasMoreElements(URLClassPath.java:288)        at java.net.URLClassLoader$3$1.run(URLClassLoader.java:609)        at java.net.URLClassLoader$3$1.run(URLClassLoader.java:607)        at java.security.AccessController.doPrivileged(Native Method)        at java.net.URLClassLoader$3.next(URLClassLoader.java:606)        at java.net.URLClassLoader$3.hasMoreElements(URLClassLoader.java:631)        at sun.misc.CompoundEnumeration.next(CompoundEnumeration.java:45)        at sun.misc.CompoundEnumeration.hasMoreElements(CompoundEnumeration.java:54)        at java.util.ServiceLoader$LazyIterator.hasNextService(ServiceLoader.java:354)        at java.util.ServiceLoader$LazyIterator.hasNext(ServiceLoader.java:393)        at java.util.ServiceLoader$1.hasNext(ServiceLoader.java:474)        at javax.xml.parsers.FactoryFinder$1.run(FactoryFinder.java:293)        at java.security.AccessController.doPrivileged(Native Method)        at javax.xml.parsers.FactoryFinder.findServiceProvider(FactoryFinder.java:289)        at javax.xml.parsers.FactoryFinder.find(FactoryFinder.java:267)        at javax.xml.parsers.SAXParserFactory.newInstance(SAXParserFactory.java:127)        at com.sun.tools.doclets.internal.toolkit.builders.LayoutParser.parseXML(LayoutParser.java:89)        at com.sun.tools.doclets.internal.toolkit.builders.ClassBuilder.build(ClassBuilder.java:120)        at com.sun.tools.doclets.formats.html.HtmlDoclet.generateClassFiles(HtmlDoclet.java:189)        at com.sun.tools.doclets.internal.toolkit.AbstractDoclet.generateClassFiles(AbstractDoclet.java:207)        at com.sun.tools.doclets.internal.toolkit.AbstractDoclet.generateClassFiles(AbstractDoclet.java:191)        at com.sun.tools.doclets.internal.toolkit.AbstractDoclet.startGeneration(AbstractDoclet.java:139)        at com.sun.tools.doclets.internal.toolkit.AbstractDoclet.start(AbstractDoclet.java:82)        at com.sun.tools.doclets.formats.html.HtmlDoclet.start(HtmlDoclet.java:80)        at com.sun.tools.doclets.standard.Standard.start(Standard.java:39)        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)        at java.lang.reflect.Method.invoke(Method.java:498)        at com.sun.tools.javadoc.DocletInvoker.invoke(DocletInvoker.java:310)        at com.sun.tools.javadoc.DocletInvoker.start(DocletInvoker.java:189)        at com.sun.tools.javadoc.Start.parseAndExecute(Start.java:366)        at com.sun.tools.javadoc.Start.begin(Start.java:219)        at com.sun.tools.javadoc.Start.begin(Start.java:205)        at com.sun.tools.javadoc.Main.execute(Main.java:64)        at com.sun.tools.javadoc.Main.main(Main.java:54) javadoc: 错误 - java.lang.IllegalArgumentException报错</p>
</blockquote>
<p>我的环境变量是这样的：</p>
<p><img src="D:\blog\source_posts\java学习.assets\image-20231007142137709.png" alt="image-20231007142137709"></p>
<p>将环境变量换成绝对路径后，成功</p>
<p><img src="D:\blog\source_posts\java学习.assets\image-20231007142356883.png" alt="image-20231007142356883"></p>
<p>成功生成：</p>
<p><img src="D:\blog\source_posts\java学习.assets\image-20231007142507123.png" alt="image-20231007142507123"></p>
<h1 id="代码规范"><a href="#代码规范" class="headerlink" title="代码规范"></a>代码规范</h1><p>对类和方法的注释用javadoc来写</p>
<p>普通注释给代码维护者看的：如何修改，写的思路，要注意什么问题</p>
<p>运算符和&#x3D;号两边加个空格、</p>
<p>代码编写风格：次行风格，行尾风格。（看“{”的位置）</p>
<p>代码使用utf-8编码</p>
<h1 id="DOS"><a href="#DOS" class="headerlink" title="DOS"></a>DOS</h1><p>Disk Operating System磁盘操作系统</p>
<blockquote>
<p>md 创建目录</p>
<p>rd 删除目录</p>
<p>dir 查看当前目录</p>
<p>cd 切换目录</p>
<p>cd \切换回根目录</p>
<p>..\ 切换上一级目录</p>
<p>tree d: 查看下面的所有子目录</p>
<p>cls 清屏</p>
<p>exit 退出</p>
<p>copy 拷贝文件</p>
<p>del 删除文件</p>
<p>echo 输入内容到文件</p>
<p>type 输入一个空文件</p>
<p>move 移动&#x2F;剪切</p>
</blockquote>
<h1 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h1><p>变量是用来存储数据的特殊实体。</p>
<h2 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h2><p>类型、名称和值</p>
<p>值是存储在变量中的特定对象、数据或信息。</p>
<p>变量名不能包含空格、加号、减号等。最好在一个变量名中只使用字母和数字</p>
<h1 id="加号"><a href="#加号" class="headerlink" title="加号"></a>加号</h1><p>运算顺序：从左到右</p>
<p>两个数值型相加：加法运算</p>
<p>有任意一方是字符串：拼接运算</p>
<h1 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h1><h2 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h2><h3 id="数值型"><a href="#数值型" class="headerlink" title="数值型"></a>数值型</h3><h4 id="整数型"><a href="#整数型" class="headerlink" title="整数型"></a>整数型</h4><p>byte 基础存储单位，1字节，-128~127</p>
<blockquote>
<p>bit是最小存储单位，1byte&#x3D;8bit</p>
</blockquote>
<p>short 2字节，-（2^15）<del>2^15 -1（-32768</del>32767）</p>
<p>int 4字节，-（2^31）<del>2^31 -1（-2147483648</del>2147483647）</p>
<blockquote>
<p>注意：声明常量默认是int型</p>
</blockquote>
<p>long 8字节，-（2^63）~2^63 -1</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">n1</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="type">long</span> <span class="variable">n2</span> <span class="operator">=</span> <span class="number">1L</span>;<span class="comment">//声明long型变量时，“L/l是必须加上的”</span></span><br><span class="line"><span class="type">long</span> <span class="variable">n2</span> <span class="operator">=</span> <span class="number">1l</span>;</span><br></pre></td></tr></table></figure>

<h4 id="浮点（小数）类型"><a href="#浮点（小数）类型" class="headerlink" title="浮点（小数）类型"></a>浮点（小数）类型</h4><p>单精度float 4字节，-3.403E38~3.403E38</p>
<p>双精度double 8字节，-1.798E308~1.798E308</p>
<blockquote>
<h5 id="细节："><a href="#细节：" class="headerlink" title="细节："></a>细节：</h5><p>面试可能会问：</p>
<p>浮点数在机器中存放形式：浮点数&#x3D;符号位+指数位+尾数位</p>
<p>尾数部分可能丢失，造成精度损失（小数都是近似值）</p>
<h5 id="注意：声明常量默认是double型"><a href="#注意：声明常量默认是double型" class="headerlink" title="注意：声明常量默认是double型"></a>注意：声明常量默认是double型</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">float</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">1.1f</span>;<span class="comment">//声明float变量时，“f/F”是必须要加上的</span></span><br><span class="line"><span class="type">float</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">1.1F</span>;</span><br><span class="line"><span class="type">double</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">1.1</span>;</span><br><span class="line"><span class="type">double</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">1.1f</span>;<span class="comment">//是可以的</span></span><br><span class="line"><span class="type">double</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">.1f</span>;<span class="comment">//也是可以的，相当于0.1f</span></span><br><span class="line"><span class="comment">//科学计数法</span></span><br><span class="line"><span class="type">double</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">5.12e2</span>;<span class="comment">//5.12*(10^2)</span></span><br><span class="line"><span class="type">double</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">5.12e-2</span>;<span class="comment">//5.12/(10^2)</span></span><br></pre></td></tr></table></figure>

<h5 id="2-7和8-1-x2F-3比较"><a href="#2-7和8-1-x2F-3比较" class="headerlink" title="2.7和8.1&#x2F;3比较"></a>2.7和8.1&#x2F;3比较</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">double</span> <span class="variable">num1</span> <span class="operator">=</span> <span class="number">2.7</span>;<span class="comment">//2.7</span></span><br><span class="line"><span class="type">double</span> <span class="variable">num2</span> <span class="operator">=</span> <span class="number">8.1</span> / <span class="number">3</span>;<span class="comment">//2.6999999999999997</span></span><br><span class="line"><span class="comment">//计算机认为8.1后面可能还有一些数值，因此是以精度的方式进行存储，返回的自然也是包含精度的数值</span></span><br></pre></td></tr></table></figure>

<p><strong>危险☠：</strong>当我们对运算结果是小数的进行相等判断时，要小心</p>
<p>应该将两数相减，判断结果的绝对值是否在某个精度的范围内</p>
</blockquote>
<h3 id="字符型"><a href="#字符型" class="headerlink" title="字符型"></a>字符型</h3><p>char 2字节，存放单个字符，或者单个汉字</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> <span class="variable">ch</span> <span class="operator">=</span> <span class="number">97</span>;</span><br><span class="line"><span class="type">char</span> <span class="variable">ch</span> <span class="operator">=</span> <span class="string">&#x27;\t&#x27;</span>;<span class="comment">//字符类型可以直接存放一个数字</span></span><br></pre></td></tr></table></figure>

<blockquote>
<h5 id="细节：-1"><a href="#细节：-1" class="headerlink" title="细节："></a>细节：</h5><p>字符常量是用单引号括起来的单个字符（如果是双引号，则是String字符串类型）</p>
<p>“\t”表示的是转义字符而不是\和t这两个拼接在一起</p>
<p>char类型的本质是数字，输出的时候是Unicode对应数字的字符</p>
<p>char类型可以进行运算</p>
<h5 id="字符类型的本质：（面试可能会问）"><a href="#字符类型的本质：（面试可能会问）" class="headerlink" title="字符类型的本质：（面试可能会问）"></a>字符类型的本质：（面试可能会问）</h5><p><strong>字符型底层逻辑：</strong>字符型是一个字母，首先会将其转为对应Unicode编码上面的数字，之后将数字转化为二进制存储在计算机中；之后读取的时候会先将二进制读取出来，之后转化为数字，再对应Unicode转化为字母</p>
<p><strong>常用字母编码表：</strong></p>
<p><strong>ASCII</strong> 一个字节表示，一共128个字符（实际上可以表示256个字符，26个英文字母不需要这么多</p>
<p><strong>Unicode</strong> 固定大小的编码，世界上所有符号都纳入其中，使用两个字节表示，字母和汉字都是占用两个字节。<strong>Unicode码兼容ASCII码</strong></p>
<p><strong>utf-8</strong> <strong>大小可变</strong>的编码，范围：1~6字节，字母使用一个字节，汉字使用三个字节。<strong>使用最广泛的编码</strong></p>
<p><strong>gbk</strong> 可以表示汉字，范围广，字母使用一个字节，汉字使用两个字节，汉字范围表示小于utf-8</p>
<p><strong>gb2312</strong> 可以表示汉字，gb2312&lt;gbk，表示的汉字少一些</p>
<p><strong>big5码</strong> 可以表示繁体字</p>
</blockquote>
<h3 id="布尔型"><a href="#布尔型" class="headerlink" title="布尔型"></a>布尔型</h3><p>boolean 1字节，true和false</p>
<blockquote>
<h5 id="细节：-2"><a href="#细节：-2" class="headerlink" title="细节："></a>细节：</h5><p>不可以用0和非0的整数代替true和false</p>
</blockquote>
<h3 id="自动类型转换"><a href="#自动类型转换" class="headerlink" title="自动类型转换"></a>自动类型转换</h3><p>在Java程序运算或赋值时，精度小的数据类型可以自动转换为精度大的数据类型</p>
<h4 id="低精度（容量）向高精度（容量）的自动转换路线"><a href="#低精度（容量）向高精度（容量）的自动转换路线" class="headerlink" title="低精度（容量）向高精度（容量）的自动转换路线"></a>低精度（容量）向高精度（容量）的自动转换路线</h4><p>char-&gt;int-&gt;long-&gt;float-&gt;double</p>
<p>byte-&gt;short&#x2F;-&gt;int-&gt;long-&gt;float-&gt;double</p>
<h4 id="细节"><a href="#细节" class="headerlink" title="细节"></a>细节</h4><ul>
<li>有多种类型的数据混合计算时，系统首先自动将所有数据转换为精度（容量）最大的数据类型，再进行计算</li>
</ul>
<blockquote>
<p>1.1是double类型的数据，因为声明的时候默认是double型，加上f才是float型</p>
</blockquote>
<ul>
<li><p>精度大的数据类型赋值给精度小的数据类型会报错</p>
</li>
<li><p>(byte,short)和char之间不会发生自动转换</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">byte</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">10</span>;<span class="comment">//正确，-128~127</span></span><br><span class="line"><span class="comment">//赋值的过程：编译器先判断所赋的值的范围是否符合，如果符合则复制成功</span></span><br><span class="line"></span><br><span class="line"><span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> b;<span class="comment">//错误</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>byte,short,char任意两种进行运算时，会先被转换为int数据类型。就算两个都是一种数据类型，也会先被转换为int数据类型。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">byte</span> <span class="variable">b1</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="type">byte</span> <span class="variable">b2</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="type">byte</span> <span class="variable">b3</span> <span class="operator">=</span> b1 + b2;<span class="comment">//报错</span></span><br><span class="line"><span class="type">int</span> <span class="variable">b3</span> <span class="operator">=</span> b1 + b2;<span class="comment">//正确</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>boolean<strong>不参与自动转换</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="variable">b</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> b;<span class="comment">//报错</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>自动提升原则：表达式结果的类型自动提升为 <strong>操作数中最大的类型</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">byte b = 1;</span><br><span class="line">short s = 3;</span><br><span class="line">int i = 100;</span><br><span class="line">double d = 1.1;</span><br><span class="line">b + s + i + d</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="强制类型转换"><a href="#强制类型转换" class="headerlink" title="强制类型转换"></a>强制类型转换</h3><p>自动类型转换的逆过程，将精度（容量）大的数据类型转换为精度（容量）小的数据类型。可能会造成精度降低或溢出。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> (<span class="type">int</span>)<span class="number">1.9</span>;<span class="comment">//造成精度损失</span></span><br><span class="line"><span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line"><span class="type">byte</span> <span class="variable">b1</span> <span class="operator">=</span> (<span class="type">byte</span>)j;<span class="comment">//造成数据溢出</span></span><br></pre></td></tr></table></figure>

<p><strong>强转符号只针对最近的操作数有效</strong>，可以使用小括号提升优先级</p>
<p>char类型可以保存int的常量值，但是不能保存int的变量值，需要强转</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> <span class="variable">c1</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line"><span class="type">char</span> <span class="variable">c2</span> <span class="operator">=</span> n;<span class="comment">//报错</span></span><br><span class="line"><span class="type">char</span> <span class="variable">c2</span> <span class="operator">=</span> (<span class="type">char</span>)n;<span class="comment">//正确</span></span><br></pre></td></tr></table></figure>

<h3 id="基本数据类型和String类型的转换"><a href="#基本数据类型和String类型的转换" class="headerlink" title="基本数据类型和String类型的转换"></a>基本数据类型和String类型的转换</h3><h4 id="基本数据类型-gt-String类型"><a href="#基本数据类型-gt-String类型" class="headerlink" title="基本数据类型-&gt;String类型"></a>基本数据类型-&gt;String类型</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">string</span> <span class="variable">s</span> <span class="operator">=</span> 基本数据类型 + <span class="string">&quot;&quot;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="String类型-gt-基本数据类型"><a href="#String类型-gt-基本数据类型" class="headerlink" title="String类型-&gt;基本数据类型"></a>String类型-&gt;基本数据类型</h4><p>语法：通过基本数据类型的包装类调用parseXX方法</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Integer.parseInt(<span class="string">&quot;124&quot;</span>);<span class="comment">//124</span></span><br><span class="line">Float.parseFloat(<span class="string">&quot;124&quot;</span>);<span class="comment">//124.0</span></span><br><span class="line">Double.parseDouble(<span class="string">&quot;124&quot;</span>);<span class="comment">//124.0</span></span><br></pre></td></tr></table></figure>

<p>字符串转为字符-&gt;通常是取字符串的第一个字符</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">s = <span class="string">&quot;124&quot;</span>;</span><br><span class="line">s.charAt(<span class="number">0</span>);<span class="comment">//1</span></span><br></pre></td></tr></table></figure>

<h4 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> <span class="variable">a</span> <span class="operator">=</span> <span class="string">&#x27;男&#x27;</span>;</span><br><span class="line"><span class="type">char</span> <span class="variable">b</span> <span class="operator">=</span> <span class="string">&#x27;女&#x27;</span>;</span><br><span class="line">System.out.println(a+b);<span class="comment">//输出 “男”的字节码值+“女”的字节码值。是一个整数</span></span><br></pre></td></tr></table></figure>



<h2 id="引用数据类型"><a href="#引用数据类型" class="headerlink" title="引用数据类型"></a>引用数据类型</h2><h3 id="类class"><a href="#类class" class="headerlink" title="类class"></a>类class</h3><blockquote>
<p>string不算是基本数据类型，反而被划分为类的内容</p>
</blockquote>
<h3 id="接口interface"><a href="#接口interface" class="headerlink" title="接口interface"></a>接口interface</h3><h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><h1 id="API"><a href="#API" class="headerlink" title="API"></a>API</h1><p>应用程序编程接口Application Programming Interface，Java设计者为我们提供的类和方法</p>
<p>文档：<a href="https://www.matools.com/">https://www.matools.com/</a></p>
<h2 id="Java类的组织形式："><a href="#Java类的组织形式：" class="headerlink" title="Java类的组织形式："></a>Java类的组织形式：</h2><p><img src="D:\blog\source_posts\java学习.assets\f4144f61788e1ee1f40995154a02853.jpg" alt="f4144f61788e1ee1f40995154a02853"></p>
<h1 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h1><h2 id="算数运算符"><a href="#算数运算符" class="headerlink" title="算数运算符"></a>算数运算符</h2><p><img src="D:\blog\source_posts\java学习.assets\380b9664636024df2dd8cc6d3723cf4.jpg" alt="380b9664636024df2dd8cc6d3723cf4"></p>
<h3 id="x2F-整除"><a href="#x2F-整除" class="headerlink" title="&#x2F;整除"></a>&#x2F;整除</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">System.out.println(<span class="number">10</span> / <span class="number">4</span>);<span class="comment">//2，因为两个整数相除，得到的也是整数</span></span><br><span class="line">System.out.println(<span class="number">10.0</span> / <span class="number">4</span>);<span class="comment">//2.5</span></span><br><span class="line"><span class="type">double</span> <span class="variable">d</span> <span class="operator">=</span> <span class="number">10</span> / <span class="number">4</span>;<span class="comment">//2.0</span></span><br></pre></td></tr></table></figure>

<h3 id="取余"><a href="#取余" class="headerlink" title="%取余"></a>%取余</h3><p>本质： a % b &#x3D; a - a&#x2F;b *b</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">System.out.println(<span class="number">10</span> % <span class="number">3</span>);<span class="comment">//1</span></span><br><span class="line">System.out.println(-<span class="number">10</span> % <span class="number">3</span>);<span class="comment">//-1</span></span><br><span class="line">System.out.println(<span class="number">10</span> % -<span class="number">3</span>);<span class="comment">//1</span></span><br><span class="line">System.out.println(-<span class="number">10</span> % -<span class="number">3</span>);<span class="comment">//-1</span></span><br></pre></td></tr></table></figure>

<p>如果a是一个小数，本质： a % b &#x3D; a - （int）a&#x2F;b *b</p>
<p>有小数参与运算，得到的值是一个近似值</p>
<blockquote>
<p>-10.5%3 &#x3D; -10.5 - （-10）&#x2F;3*3 &#x3D; -10.5 + 9 &#x3D; -1.5</p>
</blockquote>
<h2 id="自增面试题"><a href="#自增面试题" class="headerlink" title="自增面试题"></a>自增面试题</h2><h3 id="1、i-x3D-i"><a href="#1、i-x3D-i" class="headerlink" title="1、i&#x3D;i++"></a>1、i&#x3D;i++</h3><blockquote>
<p>结果是多少？为什么</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">i = i++;</span><br><span class="line">System.out.println(i);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>运算步骤：</p>
<p>1、temp &#x3D; i</p>
<p>2、i &#x3D; i + 1</p>
<p>3、i &#x3D; temp</p>
<p>结果是 1</p>
</blockquote>
<h3 id="2、i-x3D-i"><a href="#2、i-x3D-i" class="headerlink" title="2、i&#x3D;++i"></a>2、i&#x3D;++i</h3><blockquote>
<p>结果是多少？为什么</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">i = ++i;</span><br><span class="line">System.out.println(i);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>运算步骤：</p>
<p>1、i &#x3D; i + 1</p>
<p>2、temp &#x3D; i</p>
<p>3、 i &#x3D; temp</p>
<p>结果是：2</p>
</blockquote>
<h2 id="关系运算符（比较运算符）"><a href="#关系运算符（比较运算符）" class="headerlink" title="关系运算符（比较运算符）"></a>关系运算符（比较运算符）</h2><p>关系表达式的结果一定是boolean型</p>
<p><img src="D:\blog\source_posts\java学习.assets\微信图片_20231008183032.jpg" alt="微信图片_20231008183032"></p>
<h2 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h2><h3 id="短路与、逻辑与、短路或、逻辑或"><a href="#短路与、逻辑与、短路或、逻辑或" class="headerlink" title="短路与、逻辑与、短路或、逻辑或"></a>短路与、逻辑与、短路或、逻辑或</h3><p><img src="D:\blog\source_posts\java学习.assets\微信图片_20231008183446.jpg" alt="微信图片_20231008183446"></p>
<p><img src="D:\blog\source_posts\java学习.assets\微信图片_20231008183747.jpg" alt="微信图片_20231008183747"></p>
<h3 id="短路与逻辑的区别"><a href="#短路与逻辑的区别" class="headerlink" title="短路与逻辑的区别"></a>短路与逻辑的区别</h3><ul>
<li><p>短路与：第一个条件是false，则第二个条件不判断</p>
</li>
<li><p>逻辑与：第一个条件是false，第二个条件仍要判断</p>
</li>
<li><p>短路或：第一个条件是true，则第二个条件不判断</p>
</li>
<li><p>逻辑或：第一个条件是true，第二个条件仍要判断</p>
</li>
</ul>
<h3 id="取反"><a href="#取反" class="headerlink" title="取反"></a>取反</h3><p>! </p>
<h3 id="异或"><a href="#异或" class="headerlink" title="异或"></a>异或</h3><p>^</p>
<p>当两者不同时，结果为true，否则为false</p>
<h3 id="练习-1"><a href="#练习-1" class="headerlink" title="练习"></a>练习</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">x = <span class="literal">true</span>;</span><br><span class="line">z = <span class="number">48</span>;</span><br><span class="line"><span class="keyword">if</span>((x = flase) || (++z == <span class="number">49</span>)) z++;<span class="comment">//z=50。x = false执行完这一条命令，x 是false的，所以为假。</span></span><br></pre></td></tr></table></figure>

<h2 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h2><h3 id="基本赋值运算符"><a href="#基本赋值运算符" class="headerlink" title="基本赋值运算符"></a>基本赋值运算符</h3><p>&#x3D;</p>
<h3 id="复合赋值运算符"><a href="#复合赋值运算符" class="headerlink" title="复合赋值运算符"></a>复合赋值运算符</h3><p>+&#x3D;，-&#x3D;，*&#x3D;，&#x2F;&#x3D;，%&#x3D;</p>
<h3 id="细节-1"><a href="#细节-1" class="headerlink" title="细节"></a>细节</h3><ul>
<li><p>运算顺序：从右向左，先计算右边，再赋值给左边</p>
</li>
<li><p>复合赋值运算符会进行类型转换</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">byte</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line"><span class="comment">//情况一：</span></span><br><span class="line">b = b + <span class="number">3</span>;</span><br><span class="line">System.out.println(b);<span class="comment">//报错，因为 3 是一个int类型，int类型的值无法赋值给byte变量</span></span><br><span class="line"><span class="comment">//情况二：</span></span><br><span class="line">b += <span class="number">3</span>;</span><br><span class="line">System.out.println(b);<span class="comment">//正确，b += 3等价于 b = (byte)(b+3)</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="三元运算符"><a href="#三元运算符" class="headerlink" title="三元运算符"></a>三元运算符</h2><p>条件表达式 ? 表达式1:表达式2</p>
<p>条件表达式为真执行表达式1，条件表达式为假执行表达式2</p>
<h2 id="运算符优先级"><a href="#运算符优先级" class="headerlink" title="运算符优先级"></a>运算符优先级</h2><p>单目运算符：只针对一个运算符进行运算，例如++a，–a</p>
<p>只有单目运算符、赋值运算符，是从右向左运算</p>
<p><img src="D:\blog\source_posts\java学习.assets\微信图片_20231008222110.jpg" alt="微信图片_20231008222110"></p>
<h1 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h1><h2 id="命名规则和规范"><a href="#命名规则和规范" class="headerlink" title="命名规则和规范"></a>命名规则和规范</h2><p>概念：对各种变量、方法、类等命名时使用的字符序列</p>
<h3 id="命名规则"><a href="#命名规则" class="headerlink" title="命名规则"></a>命名规则</h3><ul>
<li>由26个字母大小写，0-9，_，$组成</li>
<li>数字不可以开头</li>
</ul>
<h3 id="命名规范"><a href="#命名规范" class="headerlink" title="命名规范"></a>命名规范</h3><ul>
<li>包名：多个单词组成的所有字母都小写</li>
<li>类名、接口名：多个单词组成时，所有单词首字母大写【大驼峰】</li>
<li>变量名、方法名：多个单词组成时，第一个单词首字母小写，后面的单词首字母大写【小驼峰&#x2F;驼峰】</li>
<li>常量名：所有字母都大写，多单词时每个单词用_连接</li>
</ul>
<h1 id="键盘输入"><a href="#键盘输入" class="headerlink" title="键盘输入"></a>键盘输入</h1><p>类对象：简单文本扫描器，Scanner，在java.util包</p>
<h2 id="使用步骤"><a href="#使用步骤" class="headerlink" title="使用步骤"></a>使用步骤</h2><ol>
<li><p>导入该类所在的包</p>
</li>
<li><p>创建该类对象（声明变量）</p>
</li>
<li><p>调用里面的功能</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;<span class="comment">//表示把包下面的类引入</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">javaDocComment</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> scanner.next();</span><br><span class="line">        <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line">        <span class="type">String</span> <span class="variable">sex</span> <span class="operator">=</span> scanner.next();</span><br><span class="line">        <span class="type">double</span> <span class="variable">score</span> <span class="operator">=</span> scanner.nextDouble();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="接收字符"><a href="#接收字符" class="headerlink" title="接收字符"></a>接收字符</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> <span class="variable">gender</span> <span class="operator">=</span> scanner.next().charAt(<span class="number">0</span>);</span><br></pre></td></tr></table></figure>



<h1 id="进制"><a href="#进制" class="headerlink" title="进制"></a>进制</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">n1</span> <span class="operator">=</span> <span class="number">0b1010</span>;<span class="comment">//二进制</span></span><br><span class="line"><span class="type">int</span> <span class="variable">n2</span> <span class="operator">=</span> <span class="number">01010</span>;<span class="comment">//八进制</span></span><br><span class="line"><span class="type">int</span> <span class="variable">n3</span> <span class="operator">=</span> <span class="number">1010</span>;<span class="comment">//十进制</span></span><br><span class="line"><span class="type">int</span> <span class="variable">n4</span> <span class="operator">=</span> <span class="number">0x1010</span>;<span class="comment">//十六进制</span></span><br></pre></td></tr></table></figure>

<h2 id="进制转换"><a href="#进制转换" class="headerlink" title="进制转换"></a>进制转换</h2><h3 id="二进制-gt-十进制"><a href="#二进制-gt-十进制" class="headerlink" title="二进制-&gt;十进制"></a>二进制-&gt;十进制</h3><ul>
<li>规则：从右边开始，将每个数依次提取，乘以2的（位数-1）次方</li>
</ul>
<h3 id="八进制-gt-十进制"><a href="#八进制-gt-十进制" class="headerlink" title="八进制-&gt;十进制"></a>八进制-&gt;十进制</h3><ul>
<li>规则：从右边开始，将每个数依次提取，乘以8的（位数-1）次方</li>
</ul>
<h3 id="十六进制-gt-十进制"><a href="#十六进制-gt-十进制" class="headerlink" title="十六进制-&gt;十进制"></a>十六进制-&gt;十进制</h3><ul>
<li>规则：从右边开始，将每个数依次提取，乘以16的（位数-1）次方</li>
</ul>
<h3 id="十进制-gt-二进制"><a href="#十进制-gt-二进制" class="headerlink" title="十进制-&gt;二进制"></a>十进制-&gt;二进制</h3><ul>
<li>规则：将该数不断除以2，然后将每步得到的余数倒过来，就是对应的二进制。</li>
</ul>
<h3 id="十进制-gt-八进制"><a href="#十进制-gt-八进制" class="headerlink" title="十进制-&gt;八进制"></a>十进制-&gt;八进制</h3><ul>
<li>规则：将该数不断除以8，然后将每步得到的余数倒过来，就是对应的二进制。</li>
</ul>
<h3 id="十进制-gt-十六进制"><a href="#十进制-gt-十六进制" class="headerlink" title="十进制-&gt;十六进制"></a>十进制-&gt;十六进制</h3><ul>
<li>规则：将该数不断除以16，然后将每步得到的余数倒过来，就是对应的二进制。</li>
</ul>
<h3 id="二进制-gt-八进制"><a href="#二进制-gt-八进制" class="headerlink" title="二进制-&gt;八进制"></a>二进制-&gt;八进制</h3><ul>
<li>规则：从低位开始，每三位一组，转成对应的八进制</li>
</ul>
<h3 id="二进制-gt-十六进制"><a href="#二进制-gt-十六进制" class="headerlink" title="二进制-&gt;十六进制"></a>二进制-&gt;十六进制</h3><ul>
<li>规则：从低位开始，每四位一组，转成对应的十六进制</li>
</ul>
<h3 id="八进制-gt-二进制"><a href="#八进制-gt-二进制" class="headerlink" title="八进制-&gt;二进制"></a>八进制-&gt;二进制</h3><ul>
<li>规则：把八进制每一位转为对应的3位二进制。</li>
</ul>
<h3 id="十六进制-gt-二进制"><a href="#十六进制-gt-二进制" class="headerlink" title="十六进制-&gt;二进制"></a>十六进制-&gt;二进制</h3><ul>
<li>规则：把八进制每一位转为对应的3位二进制。</li>
</ul>
<h2 id="原码、反码、补码"><a href="#原码、反码、补码" class="headerlink" title="原码、反码、补码"></a>原码、反码、补码</h2><p>对于有符号的数值而言：</p>
<ul>
<li>整数的原码、反码、补码都一样</li>
<li>负数的反码 &#x3D; 它的符号位不变，其他位取反</li>
<li>负数的补码 &#x3D; 它的反码 + 1</li>
<li>0的反码、补码都是0</li>
<li>Java没有无符号数，所以<strong>Java的数都是有符号的</strong></li>
<li>计算机运算时，都<strong>以补码的方式运算</strong></li>
<li>当我们看运算结果的时候，要看它的原码</li>
</ul>
<h2 id="位运算"><a href="#位运算" class="headerlink" title="位运算"></a>位运算</h2><p>7个位运算符：按位与&amp; 按位或| 按位异或^ 按位取反~ 算术右移&gt;&gt; 算术左移&lt;&lt; 无符号右移（逻辑右移）&gt;&gt;&gt;</p>
<p>&lt;&lt;：符号位不变，低位补零</p>
<p>“&gt;&gt;”：低位溢出，符号位不变，用符号位补溢出的高位</p>
<p>“&gt;&gt;&gt;”：低位溢出，高位补0</p>
<h3 id="例题-amp-："><a href="#例题-amp-：" class="headerlink" title="例题&amp;："></a>例题&amp;：</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1.得到2的补码，也就是2的原码：00000000 00000000 00000000 00000010 int类型的数值是4个字节，32bit</span></span><br><span class="line"><span class="comment">//2.得到3的补码，也就是3的原码：00000000 00000000 00000000 00000011</span></span><br><span class="line"><span class="comment">//3.运算后的补码 00000000 00000000 00000000 00000010</span></span><br><span class="line"><span class="comment">//4.得到运算后的原码，并返回结果 2</span></span><br><span class="line"><span class="number">2</span>&amp;<span class="number">3</span></span><br></pre></td></tr></table></figure>

<h3 id="例题-："><a href="#例题-：" class="headerlink" title="例题~："></a>例题~：</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1.得到2的补码，也就是2的原码：00000000 00000000 00000000 00000010 int类型的数值是4个字节，32bit</span></span><br><span class="line"><span class="comment">//2.得到~2的补码：1111111 11111111 11111111 11111101</span></span><br><span class="line"><span class="comment">//3.因为是负数，所以先得到~2的反码 1111111 11111111 11111111 11111100</span></span><br><span class="line"><span class="comment">//4.得到运算后的原码10000000 00000000 00000000 00000011，并返回结果-3</span></span><br><span class="line">~<span class="number">2</span></span><br></pre></td></tr></table></figure>

<h3 id="例题-gt-gt-和-gt-gt-gt-：【存疑】"><a href="#例题-gt-gt-和-gt-gt-gt-：【存疑】" class="headerlink" title="例题&gt;&gt;和&gt;&gt;&gt;：【存疑】"></a>例题&gt;&gt;和&gt;&gt;&gt;：【存疑】</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">8</span>,b = -<span class="number">8</span>;</span><br><span class="line">System.out.println(a&gt;&gt;<span class="number">2</span>);<span class="comment">//2 00000000 00000000 00000000 00001000 -&gt;</span></span><br><span class="line"><span class="comment">//                           00000000 00000000 00000000 00000010</span></span><br><span class="line">System.out.println(a&gt;&gt;&gt;<span class="number">2</span>);<span class="comment">//2</span></span><br><span class="line">System.out.println(b&gt;&gt;<span class="number">2</span>);<span class="comment">//-2 10000000 00000000 00000000 00001000（原码） -&gt;</span></span><br><span class="line"><span class="comment">//                            11111111 11111111 11111111 11110111（反码） -&gt;</span></span><br><span class="line"><span class="comment">//                            11111111 11111111 11111111 11111000（补码） -&gt;</span></span><br><span class="line"><span class="comment">//                            11111111 11111111 11111111 11111110（右移以后得到的补码） -&gt;</span></span><br><span class="line"><span class="comment">//                            11111111 11111111 11111111 11111101（右移以后得到的反码） -&gt;</span></span><br><span class="line"><span class="comment">//                            10000000 00000000 00000000 00000010（右移以后得到的原码）-&gt; -2</span></span><br><span class="line">System.out.println(b&gt;&gt;&gt;<span class="number">2</span>);<span class="comment">//1073741823：00111111 11111111 11111111 11111111</span></span><br><span class="line"><span class="comment">//过程：</span></span><br><span class="line"><span class="comment">//                            10000000 00000000 00000000 00001000（原码） -&gt;</span></span><br><span class="line"><span class="comment">//                            11111111 11111111 11111111 11110111（反码） -&gt;</span></span><br><span class="line"><span class="comment">//                            11111111 11111111 11111111 11111000（补码） -&gt;</span></span><br><span class="line"><span class="comment">//                            00111111 11111111 11111111 11111110（右移以后得到的补码也就是结果的原码） -&gt;</span></span><br><span class="line"><span class="comment">//                            1073741822</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>问题1：右移以后的反码是无符号数吗？反码转为原码的时候，符号数是否需要改变</p>
<p>个人思考：应当是不需要改变的，因为无符号数右移的意思仅是高位补零的意思，但是补完零就说明它是一个正数，因为Java的所有数值都是有符号数。因此反码转为原码的时候，符号数不应该改变</p>
<p>问题2：得到的答案<strong>与正确答案相差4</strong>？</p>
<p>我原本的过程如图：</p>
<p><img src="D:\blog\source_posts\java学习.assets\image-20231009184900962.png" alt="image-20231009184900962"></p>
<p>后来发现，当逻辑右移的时候得到补码，这个时候已经将负数变成正数了，因此得到的补码，就是结果的原码。之后得到结果：1073741823，<strong>还是和最终答案相差1</strong></p>
</blockquote>
<h1 id="控制结构"><a href="#控制结构" class="headerlink" title="控制结构"></a>控制结构</h1><h2 id="顺序控制"><a href="#顺序控制" class="headerlink" title="顺序控制"></a>顺序控制</h2><h2 id="分支控制"><a href="#分支控制" class="headerlink" title="分支控制"></a>分支控制</h2><h3 id="if-else"><a href="#if-else" class="headerlink" title="if-else"></a>if-else</h3><p>多分支可以没有else</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>()&#123;</span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>()&#123;</span><br><span class="line">    </span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="错题"><a href="#错题" class="headerlink" title="错题"></a>错题</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="variable">b</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">if</span>(b = <span class="literal">false</span>)&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(b)&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;b&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(!b)&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;c&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;d&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>原本的答案：a</p>
<p>原本的思路：执行了if的语句，我认为是进入了if的执行入口，这也是<strong>我疑惑的地方</strong>，为什么没有进入第一个入口。</p>
<p>思考以后，我认为应当是令b&#x3D;false，if(b)仍然是false，因此无法进入这个if入口</p>
<p>标准答案：c</p>
</blockquote>
<h3 id="switch"><a href="#switch" class="headerlink" title="switch"></a>switch</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">switch</span>()&#123;</span><br><span class="line">    <span class="keyword">case</span> 常量<span class="number">1</span>:</span><br><span class="line">        <span class="comment">//语句;</span></span><br><span class="line">        <span class="keyword">break</span>;<span class="comment">//跳出switch语句，没有写break，会导致“穿透”</span></span><br><span class="line">    <span class="keyword">case</span> 常量<span class="number">2</span>:</span><br><span class="line">        <span class="comment">//语句;</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="comment">//语句;</span></span><br><span class="line">        <span class="keyword">break</span>;<span class="comment">//这一句可有可无</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="细节-2"><a href="#细节-2" class="headerlink" title="细节"></a>细节</h4><ol>
<li>表达式的数据类型应当与case后面的常量类型一致，或者可以自动转换为可以相互比较的类型</li>
<li>表达式的返回值必须是以下几种：byte，short，int，char，enum【枚举】，String</li>
<li>case语句中的值不能是变量，只能是常量或者常量表达式</li>
</ol>
<h2 id="循环控制"><a href="#循环控制" class="headerlink" title="循环控制"></a>循环控制</h2><h3 id="for"><a href="#for" class="headerlink" title="for"></a>for</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(循环变量初始化;循环条件;循环变量迭代)&#123;</span><br><span class="line">	<span class="comment">//循环操作;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="细节：-3"><a href="#细节：-3" class="headerlink" title="细节："></a>细节：</h4><ol>
<li>循环条件是返回布尔值的表达式</li>
<li>初始化语句和变量迭代可以写到其他地方</li>
<li>可以有多条初始化语句</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(;;)&#123;<span class="comment">//表示无限循环</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//多条初始化语句</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>,j = <span class="number">0</span>;i &lt; <span class="number">10</span>; i++,j +=<span class="number">2</span>)&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="while"><a href="#while" class="headerlink" title="while"></a>while</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//循环条件初始化</span></span><br><span class="line"><span class="keyword">while</span>(循环条件)&#123;</span><br><span class="line">	<span class="comment">//循环体结构</span></span><br><span class="line">    <span class="comment">//迭代变量</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="细节-3"><a href="#细节-3" class="headerlink" title="细节"></a>细节</h4><ul>
<li>循环条件返回的是一个布尔值</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span>(<span class="number">1</span>)&#123;<span class="comment">//boolean不参与自动转换，因此报错，如下截图</span></span><br><span class="line">	System.out.println(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(<span class="literal">true</span>)&#123;<span class="comment">//正确</span></span><br><span class="line">	System.out.println(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\java学习.assets\image-20231011124743529.png" alt="image-20231011124743529"></p>
<ul>
<li>while循环先判断再循环</li>
</ul>
<h3 id="do…while"><a href="#do…while" class="headerlink" title="do…while"></a>do…while</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">while</span>();</span><br></pre></td></tr></table></figure>

<h4 id="细节-4"><a href="#细节-4" class="headerlink" title="细节"></a>细节</h4><ul>
<li>循环条件返回的是一个布尔值</li>
<li>先执行再判断，至少执行1次</li>
<li>最后有一个分号</li>
<li>应用场景，举例：菜单</li>
</ul>
<h2 id="break"><a href="#break" class="headerlink" title="break"></a>break</h2><h3 id="label标签"><a href="#label标签" class="headerlink" title="label标签"></a>label标签</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">label1:</span><br><span class="line"><span class="keyword">for</span>(;;)&#123;</span><br><span class="line">label2:	<span class="keyword">for</span>(;;)&#123;</span><br><span class="line">label3:		<span class="keyword">for</span>(;;)&#123;</span><br><span class="line">				...</span><br><span class="line">				<span class="keyword">break</span> label2;</span><br><span class="line">				...</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="细节-5"><a href="#细节-5" class="headerlink" title="细节"></a>细节</h4><ul>
<li>break可以决定退出哪一层</li>
<li>label1是标签名字，可指定其他名字</li>
<li>指定哪层标签就退出哪一层</li>
<li>在实际开发中尽量不使用</li>
<li>如果不指定标签，默认退出最近的循环体</li>
</ul>
<h2 id="continue"><a href="#continue" class="headerlink" title="continue"></a>continue</h2><p>概念：结束本次循环，继续执行下一次循环</p>
<h3 id="label标签-1"><a href="#label标签-1" class="headerlink" title="label标签"></a>label标签</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">label1:</span><br><span class="line"><span class="keyword">for</span>(;;)&#123;</span><br><span class="line">label2:</span><br><span class="line">	<span class="keyword">for</span>(;;)&#123;</span><br><span class="line">		<span class="keyword">if</span>()&#123;</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="细节-6"><a href="#细节-6" class="headerlink" title="细节"></a>细节</h4><ul>
<li>如果不指定标签，默认退出最近的循环体</li>
</ul>
<h2 id="return"><a href="#return" class="headerlink" title="return"></a>return</h2><p>跳出所在的方法，如果实在main方法中，会退出程序</p>
<h1 id="数组-1"><a href="#数组-1" class="headerlink" title="数组"></a>数组</h1><p>存放多个同一数据类型的数据</p>
<h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">double</span>[] hen = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="长度"><a href="#长度" class="headerlink" title="长度"></a>长度</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">hen.length</span><br></pre></td></tr></table></figure>



<h1 id="String"><a href="#String" class="headerlink" title="String"></a>String</h1><h2 id="比较字符串的内容是否相等"><a href="#比较字符串的内容是否相等" class="headerlink" title="比较字符串的内容是否相等"></a>比较字符串的内容是否相等</h2><p>两种写法都对</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">name.equals(<span class="string">&quot;林黛玉&quot;</span>);</span><br><span class="line"><span class="string">&quot;林黛玉&quot;</span>.equals(name);<span class="comment">//这种更推荐，可以避免空指针</span></span><br></pre></td></tr></table></figure>















]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>java,后端</tag>
      </tags>
  </entry>
  <entry>
    <title>java面试专题</title>
    <url>/2023/10/11/java%E9%9D%A2%E8%AF%95%E4%B8%93%E9%A2%98/</url>
    <content><![CDATA[<h1 id="学习视频"><a href="#学习视频" class="headerlink" title="学习视频"></a>学习视频</h1><p><a href="https://www.bilibili.com/video/BV1yT411H7YK/?p=4&spm_id_from=333.1007.top_right_bar_window_history.content.click">新版Java面试专题视频教程，java八股文面试全套真题+深度详解（含大厂高频面试真题）</a></p>
<h2 id="学习进度"><a href="#学习进度" class="headerlink" title="学习进度"></a>学习进度</h2><blockquote>
<p>2023&#x2F;10&#x2F;14： 9&#x2F;150</p>
<p>2023&#x2F;10&#x2F;18： 12&#x2F;150</p>
<p>2023&#x2F;10&#x2F;19： 16&#x2F;150</p>
<p>2024&#x2F;2&#x2F;26： 1-6&#x2F;150</p>
<p>2024&#x2F;2&#x2F;29： 7-10&#x2F;150</p>
</blockquote>
<h1 id="简历筛选规则"><a href="#简历筛选规则" class="headerlink" title="简历筛选规则"></a>简历筛选规则</h1><p><img src="D:\blog\source_posts\java面试专题.assets\3befaf47dda89c3bcf2cdeff06e7008.png" alt="3befaf47dda89c3bcf2cdeff06e7008"></p>
<h1 id="简历怎么写？"><a href="#简历怎么写？" class="headerlink" title="简历怎么写？"></a>简历怎么写？</h1><p><img src="D:\blog\source_posts\java面试专题.assets\5c1a66b01da32e6656e88e958f2a30d.png" alt="5c1a66b01da32e6656e88e958f2a30d"></p>
<h1 id="项目怎么找？"><a href="#项目怎么找？" class="headerlink" title="项目怎么找？"></a>项目怎么找？</h1><p><img src="D:\blog\source_posts\java面试专题.assets\189549ead4ac68c0649d9bfea0f76e1.jpg" alt="189549ead4ac68c0649d9bfea0f76e1"></p>
<h1 id="找到项目关注什么？"><a href="#找到项目关注什么？" class="headerlink" title="找到项目关注什么？"></a>找到项目关注什么？</h1><p><img src="D:\blog\source_posts\java面试专题.assets\c1fdefec53457881001e8ae9c7c6708.png" alt="c1fdefec53457881001e8ae9c7c6708"></p>
<h1 id="如何深入理解业务？"><a href="#如何深入理解业务？" class="headerlink" title="如何深入理解业务？"></a>如何深入理解业务？</h1><p><img src="D:\blog\source_posts\java面试专题.assets\bc2ac308ffcac881db83b1991910a99.jpg" alt="bc2ac308ffcac881db83b1991910a99"></p>
<p><img src="D:\blog\source_posts\java面试专题.assets\09e49bd65146464c243caf11ae20865.jpg" alt="09e49bd65146464c243caf11ae20865"></p>
<h1 id="面试过程"><a href="#面试过程" class="headerlink" title="面试过程"></a>面试过程</h1><p><img src="D:\blog\source_posts\java面试专题.assets\e70e01387d135eeed125c6d94b35962.jpg" alt="e70e01387d135eeed125c6d94b35962"></p>
<p><img src="D:\blog\source_posts\java面试专题.assets\f7dd20f81c9c604b0454222f6643ed9.jpg" alt="f7dd20f81c9c604b0454222f6643ed9"></p>
<h1 id="redis"><a href="#redis" class="headerlink" title="redis"></a>redis</h1><h2 id="记忆"><a href="#记忆" class="headerlink" title="记忆"></a>记忆</h2><ol>
<li><strong>缓存击穿</strong>：<ul>
<li>含义：服务器攻击串是指在服务器中，某些特定的数据（通常是热点数据）由于过期或被删除，导致大量的请求同时访问数据源，占用资源并造成性能问题。</li>
<li>记忆技巧：将“存储”与“击穿”联系起来，想象成存储中的数据就像一个蓄水池，而很多存储击穿就像突然来了人一起猛烈敲击（击穿）蓄水池（存储），造成排放而排放，引发问题。</li>
</ul>
</li>
<li><strong>缓存穿透</strong>：<ul>
<li>含义：服务器存在队列是指请求一个不存在于服务器中的数据，也不存在于队列数据源中，导致服务器无法提供数据，每次请求都要访问数据并且耗费资源。</li>
<li>记忆技巧：将“仓库”与“仓库”联系起来，想象成一个仓库图像一个筛子，而仓库仓库就像是一颗小颗粒或者弹丸，仓库筛子，无法被过滤，直接仓库到后面，没有被缓存的机会</li>
</ul>
</li>
</ol>
<h2 id="总述"><a href="#总述" class="headerlink" title="总述"></a>总述</h2><p>AP思想，优先保证高可用性</p>
<h3 id="使用场景："><a href="#使用场景：" class="headerlink" title="使用场景："></a>使用场景：</h3><p>常考：缓存，分布式锁（互斥锁）</p>
<p>计数器：使用redis的incr命令</p>
<p>保存token：使用redis的<code>string</code>类型存储</p>
<p>消息队列：使用redis的<code>list</code>类型存储</p>
<p>延迟队列：</p>
<h3 id="其他面试题："><a href="#其他面试题：" class="headerlink" title="其他面试题："></a>其他面试题：</h3><p>集群、事务、redis为什么这么快</p>
<p><img src="D:\blog\source_posts\java面试专题.assets\4304a9d5cd92f08058c4b41ba537040.jpg" alt="4304a9d5cd92f08058c4b41ba537040"></p>
<p><img src="D:\blog\source_posts\java面试专题.assets\c041af30679559ee599d471cd6a2ccb.jpg" alt="c041af30679559ee599d471cd6a2ccb"></p>
<p><img src="D:\blog\source_posts\java面试专题.assets\772e19d4e9153b67956b55fc07c44ae.jpg" alt="772e19d4e9153b67956b55fc07c44ae"></p>
<p><img src="D:\blog\source_posts\java面试专题.assets\22de2c5d266b2ae5d96aae9a2a21675.jpg" alt="22de2c5d266b2ae5d96aae9a2a21675"></p>
<h2 id="缓存-缓存穿透"><a href="#缓存-缓存穿透" class="headerlink" title="缓存-缓存穿透"></a>缓存-缓存穿透</h2><h3 id="正常的读取缓存机制："><a href="#正常的读取缓存机制：" class="headerlink" title="正常的读取缓存机制："></a>正常的读取缓存机制：</h3><p>一个普通的get请求，通过api发送id给redis，如果redis中有存储的数据，则直接返回数据；如果没有，则发送给数据库，数据库就返回数据，并将其存储至redis中。</p>
<h3 id="概念："><a href="#概念：" class="headerlink" title="概念："></a>概念：</h3><p>一个不存在的数据，mysql无法查询到，也无法访问缓存，因此会导致每次请求都查数据库。当数据库的请求过多，就会击垮数据库，导致宕机。</p>
<h3 id="解决方法一"><a href="#解决方法一" class="headerlink" title="解决方法一"></a>解决方法一</h3><p>缓存空数据，查询返回的数据为空，仍把这个空结果进行缓存</p>
<h4 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h4><p>优点：简单</p>
<p>缺点：消耗redis内存，可能会发生不一致的问题（后面数据添加上以后，redis仍然存储为null，而数据库中已经有新的数据）</p>
<p><img src="D:\blog\source_posts\java面试专题.assets\092716e631629f9694ef81b6c88f680.jpg" alt="092716e631629f9694ef81b6c88f680"></p>
<h3 id="解决方法二"><a href="#解决方法二" class="headerlink" title="解决方法二"></a>解决方法二</h3><p>布隆过滤器</p>
<p>前提：缓存预热的时候，需要预热布隆过滤器。（意思是：数据库往redis中添加数据库的时候，同时往布隆过滤器里面添加）</p>
<p>作用：拦截不存在的数据</p>
<p><img src="D:\blog\source_posts\java面试专题.assets\7b374e39861366f763a3e755995cdfb.jpg" alt="7b374e39861366f763a3e755995cdfb"></p>
<h4 id="优缺点-1"><a href="#优缺点-1" class="headerlink" title="优缺点"></a>优缺点</h4><p>优点：内存占用较少，没有多余的key（{key:value}）</p>
<p>缺点：实现复杂，有可能存在误判，但是可以控制误判率</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">bloomFilter.tryInit(size,<span class="number">0.05</span>);<span class="comment">//表示5%的误判率</span></span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\java面试专题.assets\bc5ac00657ee98c10e223280baa9ec1.jpg" alt="bc5ac00657ee98c10e223280baa9ec1"></p>
<h2 id="缓存-缓存击穿"><a href="#缓存-缓存击穿" class="headerlink" title="缓存-缓存击穿"></a>缓存-缓存击穿</h2><h3 id="概念：-1"><a href="#概念：-1" class="headerlink" title="概念："></a>概念：</h3><p>当给一个key设置了一个过期时间，当key过期的时候，恰好这个时间点对这个key有大量的并发请求过来，这些并发的请求会将DB击垮</p>
<p><img src="D:\blog\source_posts\java面试专题.assets\40a1ec756a1c4bc5853436ed147fa0b.jpg" alt="40a1ec756a1c4bc5853436ed147fa0b"></p>
<h3 id="疑问："><a href="#疑问：" class="headerlink" title="疑问："></a>疑问：</h3><ol>
<li>在缓存重建的过程中可能时间过长，在这段时间正好有大量的并发请求</li>
<li>时间过长的原因：有些情况下，存入缓存的数据可能是多个表汇总的结果，需要分图统计</li>
</ol>
<p><img src="D:\blog\source_posts\java面试专题.assets\4c4b15c8e71e846625659918e201054.jpg" alt="4c4b15c8e71e846625659918e201054"></p>
<h3 id="解决方法一-1"><a href="#解决方法一-1" class="headerlink" title="解决方法一"></a>解决方法一</h3><p>互斥锁</p>
<ul>
<li>强一致</li>
<li>性能差</li>
</ul>
<h3 id="解决方法二-1"><a href="#解决方法二-1" class="headerlink" title="解决方法二"></a>解决方法二</h3><p>逻辑过期</p>
<ul>
<li>高可用</li>
<li>性能优</li>
</ul>
<p><img src="D:\blog\source_posts\java面试专题.assets\b4f64b4eafc4300c8136d558ef530b1.jpg" alt="b4f64b4eafc4300c8136d558ef530b1"></p>
<h2 id="缓存-缓存雪崩"><a href="#缓存-缓存雪崩" class="headerlink" title="缓存-缓存雪崩"></a>缓存-缓存雪崩</h2><h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><p>在同一时间段<strong>大量的缓存key同时失效</strong>或者<strong>redis服务宕机</strong>，导致大量请求到达数据库，带来巨大压力</p>
<h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h3><ul>
<li><p>缓存key同时失效：给不同的key的TTL添加随机值，使不同key有不同的过期时间</p>
</li>
<li><p>redis服务宕机：利用<strong>redis集群</strong>提高服务的可用性，例如：哨兵模式，集群模式</p>
</li>
<li><p>给缓存业务添加降级限流策略（保底策略），例如：在nginx或springcloud 的网关中设计限流的规则</p>
</li>
<li><p>给业务添加多级缓存，预防大量key失效，例如：Guava或Caffeine</p>
</li>
</ul>
<p><img src="D:\blog\source_posts\java面试专题.assets\8514355433f735d1ded4e09a9659718.jpg" alt="8514355433f735d1ded4e09a9659718"></p>
<p><img src="D:\blog\source_posts\java面试专题.assets\8ae768cd584dcc699a49e9cc6c83174.jpg" alt="8ae768cd584dcc699a49e9cc6c83174"></p>
<h2 id="双写一致性"><a href="#双写一致性" class="headerlink" title="双写一致性"></a>双写一致性</h2><p><img src="D:\blog\source_posts\java面试专题.assets\8fcd2529a18b48e08dfa4a65f812ba5.jpg" alt="8fcd2529a18b48e08dfa4a65f812ba5"></p>
<ul>
<li><p>概念：当修改了数据库的数据同时也要更新缓存的数据，缓存和数据库的数据要保持一致</p>
</li>
<li><p>前提：介绍业务背景：一致性要求高&#x2F;允许延迟一致wu</p>
</li>
<li><p>操作：</p>
<ul>
<li>读操作：用户发送请求到redis缓存，查到数据则返回，没有则将请求传至数据库，有则返回数据给用户并备份到redis缓存，设置超时时间</li>
<li>写操作：延迟双删<ul>
<li>首先删除缓存再修改数据库，延迟一会再删除缓存</li>
<li>极大地<strong>控制</strong>了<strong>脏数据</strong>的风险，延时的时间不好控制</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="先删除缓存还是先修改数据库"><a href="#先删除缓存还是先修改数据库" class="headerlink" title="先删除缓存还是先修改数据库"></a>先删除缓存还是先修改数据库</h3><h4 id="先删除缓存"><a href="#先删除缓存" class="headerlink" title="先删除缓存"></a>先删除缓存</h4><h5 id="正常情况"><a href="#正常情况" class="headerlink" title="正常情况"></a>正常情况</h5><p><img src="D:\blog\source_posts\java面试专题.assets\image-20231018103540465.png" alt="image-20231018103540465"></p>
<h5 id="异常情况"><a href="#异常情况" class="headerlink" title="异常情况"></a>异常情况</h5><ul>
<li>线程互相不影响，线程2读到<strong>脏数据</strong></li>
</ul>
<p><img src="D:\blog\source_posts\java面试专题.assets\image-20231018103644244.png" alt="image-20231018103644244"></p>
<h4 id="先操作数据库"><a href="#先操作数据库" class="headerlink" title="先操作数据库"></a>先操作数据库</h4><h5 id="正常情况-1"><a href="#正常情况-1" class="headerlink" title="正常情况"></a>正常情况</h5><p><img src="D:\blog\source_posts\java面试专题.assets\image-20231018103806315.png" alt="image-20231018103806315"></p>
<h5 id="异常情况-1"><a href="#异常情况-1" class="headerlink" title="异常情况"></a>异常情况</h5><ul>
<li>线程会切换</li>
</ul>
<p><img src="D:\blog\source_posts\java面试专题.assets\image-20231018103928427.png" alt="image-20231018103928427"></p>
<h3 id="为什么要删除两次缓存"><a href="#为什么要删除两次缓存" class="headerlink" title="为什么要删除两次缓存"></a>为什么要删除两次缓存</h3><ul>
<li>先删除缓存，再删除数据库，有可能会产生脏数据，目的：降低脏数据的出现</li>
</ul>
<h3 id="为什么要延迟删除"><a href="#为什么要延迟删除" class="headerlink" title="为什么要延迟删除"></a>为什么要延迟删除</h3><ul>
<li>数据库是主从模式，读写分离，要延迟一会，将主节点的数据同步至从节点的数据</li>
<li>延迟的时间不好确定，因此一定程度上控制了脏数据的出现但不能完全避免</li>
</ul>
<h3 id="一致性要求高"><a href="#一致性要求高" class="headerlink" title="一致性要求高"></a>一致性要求高</h3><h4 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h4><ul>
<li>强一致</li>
<li>性能低</li>
</ul>
<p><img src="D:\blog\source_posts\java面试专题.assets\image-20231018104624002.png" alt="image-20231018104624002"></p>
<h4 id="添加分布式锁"><a href="#添加分布式锁" class="headerlink" title="添加分布式锁"></a>添加分布式锁</h4><h5 id="共享锁"><a href="#共享锁" class="headerlink" title="共享锁"></a>共享锁</h5><p>其他线程允许读操作</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> Item <span class="title function_">getById</span><span class="params">(Integer id)</span>&#123;</span><br><span class="line">    <span class="type">RReadWritelLock</span> <span class="variable">readWritelock</span> <span class="operator">=</span> redissonclient.getReadWriteLock(<span class="string">&quot;ITEM_READ WRITELOCK&quot;</span>);</span><br><span class="line">    <span class="comment">//读之前加读锁，读锁的作用就是等待该ockkeu释放写锁以后再读</span></span><br><span class="line">    <span class="type">RLock</span> <span class="variable">readLock</span> <span class="operator">=</span> readWriteLock.readLock();</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//开锁</span></span><br><span class="line">        readLock.Lock();</span><br><span class="line">        System.out.println(<span class="string">&quot;readLock...&quot;</span>);</span><br><span class="line">        <span class="type">Item</span> <span class="variable">item</span> <span class="operator">=</span> (Item) redisTemplate.opsForValue().get(<span class="string">&quot;item:&quot;</span>+id);</span><br><span class="line">        <span class="keyword">if</span>(item != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> item;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//查询业务数据</span></span><br><span class="line">        item = <span class="keyword">new</span> <span class="title class_">Item</span>(id，<span class="string">&quot;华为手机&quot;</span>，<span class="string">&quot;华为手机&quot;</span>,<span class="number">5999.00</span>);</span><br><span class="line">        <span class="comment">//写入缓存</span></span><br><span class="line">        redisTemplate.opsForValue().set(<span class="string">&quot;item:&quot;</span>+id,item);</span><br><span class="line">        <span class="comment">//返回数据</span></span><br><span class="line">        <span class="keyword">return</span> item;</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        readLock.unlock();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="排他锁"><a href="#排他锁" class="headerlink" title="排他锁"></a>排他锁</h5><p>其他线程不允许读、写操作</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//写入缓存</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateById</span><span class="params">(Integer id)</span>&#123;</span><br><span class="line">	<span class="type">RReadWriteLock</span> <span class="variable">readWriteLock</span> <span class="operator">=</span> redissonclient,getReadWriteLock(<span class="string">&quot;ITEM_READ_WRITE_LOCK&quot;</span>);</span><br><span class="line">    <span class="comment">//写之前加写锁，写锁加锁成功，读锁只能等待</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//开锁</span></span><br><span class="line">        writeLock.lock();</span><br><span class="line">        System.out.println(<span class="string">&quot;writeLock...&quot;</span>);</span><br><span class="line">            <span class="comment">//更新业务数据</span></span><br><span class="line">        <span class="type">Item</span> <span class="variable">item</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Item</span>(id，<span class="string">&quot;华为手机&quot;</span>，<span class="string">&quot;华为手机&quot;</span>，<span class="number">5299.00</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep( millis: <span class="number">10000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="comment">//删除缓存</span></span><br><span class="line">    redisTemplate.delete(<span class="string">&quot;item:&quot;</span>+id);</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    writeLock.unlock();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="允许延迟一致"><a href="#允许延迟一致" class="headerlink" title="允许延迟一致"></a>允许延迟一致</h3><h4 id="异步通知"><a href="#异步通知" class="headerlink" title="异步通知"></a>异步通知</h4><p>保证数据的最终一致性</p>
<h5 id="MQ通知"><a href="#MQ通知" class="headerlink" title="MQ通知"></a>MQ通知</h5><ul>
<li>需要考虑MQ的可靠性，什么时候将数据写入缓存</li>
</ul>
<p><img src="D:\blog\source_posts\java面试专题.assets\image-20231018110007643.png" alt="image-20231018110007643"></p>
<h5 id="Canal通知"><a href="#Canal通知" class="headerlink" title="Canal通知"></a>Canal通知</h5><ul>
<li>基于MySQL的主从同步来实现</li>
<li>二进制日志：记录了所有的DDL（数据定义语言）和DML（数据操纵语言），但不包括数据查询语句（SELECT，SHOW）</li>
<li>优点：对业务代码0侵入</li>
</ul>
<p><img src="D:\blog\source_posts\java面试专题.assets\image-20231018110111552.png" alt="image-20231018110111552"></p>
<h2 id="持久化"><a href="#持久化" class="headerlink" title="持久化"></a>持久化</h2><p><img src="D:\blog\source_posts\java面试专题.assets\fd7b8a43ac033c0729db4a76b48e0d5.jpg" alt="fd7b8a43ac033c0729db4a76b48e0d5"></p>
<h3 id="RDB"><a href="#RDB" class="headerlink" title="RDB"></a>RDB</h3><h4 id="概念-1"><a href="#概念-1" class="headerlink" title="概念"></a>概念</h4><p>redis database Backup file ： redis数据备份文件，redis数据快照</p>
<p>将内存中的所有数据都记录到磁盘中，当redis实例故障重启后，从磁盘读取快照文件，恢复数据</p>
<h4 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h4><h5 id="主动备份"><a href="#主动备份" class="headerlink" title="主动备份"></a>主动备份</h5><p>redis的客户端执行命令</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">redis-cli</span><br></pre></td></tr></table></figure>

<p>手动生成RDB文件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">save//由Redis主进程来执行RDB，会阻塞所有命令</span><br><span class="line">bgsave//开启子进程执行RDB，避免主进程受影响，推荐使用这种</span><br></pre></td></tr></table></figure>

<h5 id="自动备份"><a href="#自动备份" class="headerlink" title="自动备份"></a>自动备份</h5><p>自动触发RDB的机制，在redis.conf文件中找到</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">save 900 1</span><br><span class="line">#900s内，如果至少有一个key被修改，则在子进程执行bgsave</span><br></pre></td></tr></table></figure>

<h4 id="执行原理"><a href="#执行原理" class="headerlink" title="执行原理"></a>执行原理</h4><p>bgsave：一开始fork主进程得到子进程，同时拷贝页表，使其能够共享主进程的内存数据。完成fork以后，读取内存数据，写入RDB文件</p>
<p>fork：</p>
<ul>
<li>采用copy-on-write技术</li>
<li>主进程进行读操作：访问共享内存</li>
<li>主进程执行写操作：拷贝一份数据，并执行写操作</li>
</ul>
<p><img src="D:\blog\source_posts\java面试专题.assets\image-20231018113816451.png" alt="image-20231018113816451"></p>
<h3 id="AOF"><a href="#AOF" class="headerlink" title="AOF"></a>AOF</h3><h4 id="概念-2"><a href="#概念-2" class="headerlink" title="概念"></a>概念</h4><p>Append Only file：追加文件</p>
<p>redis处理每一个写命令都会记录在AOF文件，可以看作命令日志文件</p>
<p>默认关闭</p>
<h4 id="操作-1"><a href="#操作-1" class="headerlink" title="操作"></a>操作</h4><p>开启服务：<code>redis.conf</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">appendonly yes</span><br><span class="line">#默认是no</span><br><span class="line">#AOF文件的名称</span><br><span class="line">appendfilename &quot;appendonly.aof&quot;</span><br></pre></td></tr></table></figure>

<p>配置命令记录的频率</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#表示每执行一次写命令，立刻记录到AOF文件</span><br><span class="line">appendfsync always</span><br><span class="line">#写命令执行完，先放入AOF缓冲区，然后每隔1秒将缓冲区数据写入AOF文件，是默认方案</span><br><span class="line">appendfsync everysec</span><br><span class="line">#写命令执行完，先放入AOF缓冲区，由操作系统决定何时将缓冲区内容写回磁盘</span><br><span class="line">appendfsync no</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\java面试专题.assets\image-20231018114531948.png" alt="image-20231018114531948"></p>
<h4 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h4><ul>
<li>记录命令，AOF文件大小远大于RDB文件</li>
<li>对同一个key的多次写操作，只有最后一次操作有意义</li>
</ul>
<p>执行bgrewriteaof命令，使AOF文件执行重写功能，用最少的命令得到相同的结果</p>
<p><img src="D:\blog\source_posts\java面试专题.assets\image-20231018115106622.png" alt="image-20231018115106622"></p>
<p>开启配置：<code>redis.conf</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#AOF文件比上次文件 增长超过多少百分比则触发重写</span><br><span class="line">auto-aof-rewrite-percentage 100</span><br><span class="line">#AOF文件体积最小多大以上才被触发</span><br><span class="line">auto-aof-rewrite-min-size 64mb</span><br></pre></td></tr></table></figure>

<h2 id="数据删除（过期）策略"><a href="#数据删除（过期）策略" class="headerlink" title="数据删除（过期）策略"></a>数据删除（过期）策略</h2><p>redis对数据设置有效时间，数据过期以后，就需要将数据从内存中删除。可以按照不同的规则进行删除，这种规则就叫数据删除策略（数据过期策略）</p>
<p>redis使用惰性删除+定期删除策略</p>
<h3 id="惰性删除"><a href="#惰性删除" class="headerlink" title="惰性删除"></a>惰性删除</h3><p>设置过期时间以后，不管，当需要这个key以后，再检查是否过期，过期则删除，反之返回key</p>
<h4 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h4><ul>
<li>对CPU友好，只有key使用时才进行过期检查</li>
</ul>
<h4 id="缺点-1"><a href="#缺点-1" class="headerlink" title="缺点"></a>缺点</h4><ul>
<li>对内存不友好，key过期了，但没删除，占用内存，内存永远不释放</li>
</ul>
<h3 id="定期删除"><a href="#定期删除" class="headerlink" title="定期删除"></a>定期删除</h3><p>每隔一段时间，对<strong>一些key</strong>（从一定的数据库中取出一定数量的随机key）进行检查，删除过期的key</p>
<h4 id="优点-1"><a href="#优点-1" class="headerlink" title="优点"></a>优点</h4><ul>
<li>可以通过限制删除操作的<strong>执行时长和频率</strong>减少对<strong>CPU</strong>的影响，定期删除减少对<strong>内存</strong>的影响</li>
</ul>
<h4 id="缺点-2"><a href="#缺点-2" class="headerlink" title="缺点"></a>缺点</h4><ul>
<li>难以确定操作执行的时长和频率</li>
</ul>
<h4 id="SLOW模式"><a href="#SLOW模式" class="headerlink" title="SLOW模式"></a>SLOW模式</h4><p>定时任务，执行频率默认10hz（每秒执行10次，每个执行周期是100ms，可以修改redis.conf的hz选项修改），每次不超过25ms（清理过程中，尽量少地影响主进程）</p>
<h4 id="FAST模式"><a href="#FAST模式" class="headerlink" title="FAST模式"></a>FAST模式</h4><p>执行频率不固定，两次间隔不低于2ms，每次耗时不超过1ms</p>
<h2 id="数据淘汰策略"><a href="#数据淘汰策略" class="headerlink" title="数据淘汰策略"></a>数据淘汰策略</h2><h3 id="noeviction"><a href="#noeviction" class="headerlink" title="noeviction"></a>noeviction</h3><ul>
<li>默认</li>
<li>不淘汰任何key，内存满时不允许写入新数据</li>
</ul>
<h3 id="volatile-ttl"><a href="#volatile-ttl" class="headerlink" title="volatile-ttl"></a>volatile-ttl</h3><p>对设置了ttl的key，进行比较剩余ttl，ttl越小越先被淘汰</p>
<h3 id="allkeys-random"><a href="#allkeys-random" class="headerlink" title="allkeys-random"></a>allkeys-random</h3><p>对全体key，随机淘汰</p>
<h3 id="volatile-random"><a href="#volatile-random" class="headerlink" title="volatile-random"></a>volatile-random</h3><p>对设置了ttl的key，随机淘汰</p>
<h3 id="allkeys-lru"><a href="#allkeys-lru" class="headerlink" title="allkeys-lru"></a>allkeys-lru</h3><p>对全体key，基于LRU算法淘汰</p>
<ul>
<li>LRU：最近最少使用</li>
</ul>
<h3 id="volatile-lru"><a href="#volatile-lru" class="headerlink" title="volatile-lru"></a>volatile-lru</h3><p>对设置了ttl的key，基于LRU算法淘汰</p>
<ul>
<li>LRU：最近最少使用</li>
</ul>
<h3 id="allkeys-lfu"><a href="#allkeys-lfu" class="headerlink" title="allkeys-lfu"></a>allkeys-lfu</h3><p>对全体key，基于LFU算法淘汰</p>
<ul>
<li>LFU：最少频率使用</li>
</ul>
<h3 id="volatile-lfu"><a href="#volatile-lfu" class="headerlink" title="volatile-lfu"></a>volatile-lfu</h3><p>对设置了ttl的key，基于LFU算法淘汰</p>
<ul>
<li>LFU：最少频率使用</li>
</ul>
<h3 id="建议"><a href="#建议" class="headerlink" title="建议"></a>建议</h3><ul>
<li>如果业务有明显的冷热数据划分，优先使用allkeys-lru策略</li>
<li>如果业务数据访问频率不大，没有明显冷热数据划分，建议使用allkeys-random策略</li>
<li>如果业务有置顶需求，可以使用volatile-lru策略，同时置顶数据不设置过期时间，这些数据就不会被删除</li>
<li>如果业务有短时高频访问的数据，可以使用allkeys-lfu或votaile-lfu策略</li>
</ul>
<h3 id="其他面试问题"><a href="#其他面试问题" class="headerlink" title="其他面试问题"></a>其他面试问题</h3><ul>
<li>数据库有1000万数据，redis只能缓存20w数据，如何保证redis中的数据都是热点数据？</li>
</ul>
<p>使用allkeys-lru策略</p>
<ul>
<li>redis内存用完了会发生什么？</li>
</ul>
<p>主要看使用了什么数据淘汰策略，如果是默认的noeviction，会直接报错</p>
<h2 id="分布式锁"><a href="#分布式锁" class="headerlink" title="分布式锁"></a>分布式锁</h2><h3 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h3><ul>
<li>集群情况下的定时任务</li>
<li>抢单</li>
<li>抢票</li>
<li>秒杀</li>
<li>幂等性场景</li>
</ul>
<h3 id="重入锁"><a href="#重入锁" class="headerlink" title="重入锁"></a>重入锁</h3><ul>
<li>add2获取锁成功</li>
<li>判断是否是同一个线程</li>
<li>当业务复杂的时候，xxx【听不清】</li>
<li>避免多个锁产生死锁</li>
</ul>
<h4 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h4><ul>
<li>利用<code>hash结构</code>记录线程id和重入次数</li>
</ul>
<p>key：锁的名称，field：现成的唯一标识，value：重入次数</p>
<p><img src="D:\blog\source_posts\java面试专题.assets\image-20231019115833900.png" alt="image-20231019115833900"></p>
<h4 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add1</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">RLock</span> <span class="variable">lock</span> <span class="operator">=</span> redissonClient.getLock(<span class="string">&quot;lock1&quot;</span>);</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">isLock</span> <span class="operator">=</span> lock.trylLock();</span><br><span class="line">    <span class="comment">//执行业务</span></span><br><span class="line">    add2();</span><br><span class="line">    <span class="comment">//释放锁</span></span><br><span class="line">    lock.unlock();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add2</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">RLock</span> <span class="variable">lock</span> <span class="operator">=</span> redissonClient.getLock(<span class="string">&quot;lock2&quot;</span>);</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">isLock</span> <span class="operator">=</span> lock.trylLock();</span><br><span class="line">    <span class="comment">//执行业务</span></span><br><span class="line">    <span class="comment">//释放锁</span></span><br><span class="line">    lock.unlock();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="redis分布式锁实现"><a href="#redis分布式锁实现" class="headerlink" title="redis分布式锁实现"></a>redis分布式锁实现</h3><ul>
<li>利用setnx命令，set if not exists如果不存在就设置</li>
<li>获取锁。不设置过期时间，可能会导致死锁的问题<ul>
<li>如何合理控制锁的有效时长<ul>
<li>根据业务执行时间预估，但是受网络等因素影响，难以预估</li>
<li>给锁续期，需要单独开一个线程对此线程进行监督，redisson分布式锁负责这一块</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#添加锁，NX是互斥，EX是设置超时时间</span><br><span class="line">SET lock value NX EX 10</span><br></pre></td></tr></table></figure>

<ul>
<li>释放锁</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DEL key</span><br></pre></td></tr></table></figure>

<h3 id="redisoon分布式锁"><a href="#redisoon分布式锁" class="headerlink" title="redisoon分布式锁"></a>redisoon分布式锁</h3><h4 id="执行流程"><a href="#执行流程" class="headerlink" title="执行流程"></a>执行流程</h4><ul>
<li>增加重试机制</li>
<li>可重入</li>
<li>在高并发情况下，提高分布式锁的使用性能</li>
</ul>
<p><img src="D:\blog\source_posts\java面试专题.assets\fc1d5fbc367fe201085f981380aa265.jpg" alt="fc1d5fbc367fe201085f981380aa265"></p>
<h4 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">redisLock</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException&#123;</span><br><span class="line">    <span class="comment">//获取锁（重入锁），执行锁的名称</span></span><br><span class="line">    <span class="type">RLock</span> <span class="variable">lock</span> <span class="operator">=</span> redissonClient.getLock(<span class="string">&quot;lockName&quot;</span>);</span><br><span class="line">    <span class="comment">//尝试获取锁，参数：获取锁的最大等待时间（期间会重试），锁自动释放时间（可不添加，添加以后就不会有看门狗），时间单位</span></span><br><span class="line">    <span class="comment">//boolean isLock = lock.trylLock(10,30,TimeUnit.SECONDS);</span></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">isLock</span> <span class="operator">=</span> lock.trylLock(<span class="number">10</span>,TimeUnit.SECONDS);</span><br><span class="line">    <span class="comment">//判断是否获取成功</span></span><br><span class="line">    <span class="keyword">if</span>(isLock)&#123;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="comment">//执行业务</span></span><br><span class="line">        &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">            <span class="comment">//释放锁</span></span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>加锁，设置过期时间等操作都是<code>基于lua脚本</code>完成。（面试中可以提一嘴）</p>
</li>
<li><p>lua脚本作用：调用redis命令，保证多条命令执行的<code>原子性</code></p>
</li>
</ul>
<h4 id="面试问题-主从一致性"><a href="#面试问题-主从一致性" class="headerlink" title="面试问题-主从一致性"></a>面试问题-主从一致性</h4><ul>
<li>redisson的分布式锁能实现主从数据的一致吗？<ul>
<li>主节点负责写数据，增删改操作</li>
<li>从节点主要负责读操作</li>
</ul>
</li>
<li>还没来得及同步数据，主节点就宕机了，redis提供哨兵模式，会在从节点中选取一个作为主节点，新线程会请求新的主节点，尝试获取锁，之后出现两个线程同时持有一把锁，出现脏数据</li>
</ul>
<p><img src="D:\blog\source_posts\java面试专题.assets\92659dbbd5e9adbf4f29c6b2e79f450.jpg" alt="92659dbbd5e9adbf4f29c6b2e79f450"></p>
<h3 id="红锁redLock"><a href="#红锁redLock" class="headerlink" title="红锁redLock"></a>红锁redLock</h3><ul>
<li>不能只在一个redis实例上创建锁，应该在多个redis实例上创建锁（n&#x2F;2+1，n：redis节点的数量）</li>
<li>运用CP思想，zookeeper，保证强一致性</li>
<li>缺点：高并发情况下性能很差，实现复杂，运维繁琐</li>
</ul>
<h3 id="面试题"><a href="#面试题" class="headerlink" title="面试题"></a>面试题</h3><p><img src="D:\blog\source_posts\java面试专题.assets\ce3bee243f73b538887718f838d0e66.jpg" alt="ce3bee243f73b538887718f838d0e66"></p>
<h2 id="Redis集群"><a href="#Redis集群" class="headerlink" title="Redis集群"></a>Redis集群</h2><h3 id="主从复制"><a href="#主从复制" class="headerlink" title="主从复制"></a>主从复制</h3><ul>
<li>单节点的并发能力是有限的，要进一步提高redis的并发能力，需要搭建<code>主从集群</code>，实现<code>读写分离</code></li>
<li>主节点：master<ul>
<li>主要负责写操作</li>
</ul>
</li>
<li>从节点：slave&#x2F;replica<ul>
<li>负责读操作</li>
</ul>
</li>
<li>redis主要是进行读操作，多个从节点可以提高redis的并发能力</li>
<li>缺点：无法保证redis高可用，主节点宕机以后无法写数据</li>
</ul>
<h4 id="主节点如何同步数据到从节点"><a href="#主节点如何同步数据到从节点" class="headerlink" title="主节点如何同步数据到从节点"></a>主节点如何同步数据到从节点</h4><h5 id="全量同步"><a href="#全量同步" class="headerlink" title="全量同步"></a>全量同步</h5><ul>
<li>Replication Id：replid，id相同表示是统一数据集，每一个master都有唯一的replid</li>
<li>offset：偏移量，slave会记录当前同步的offset，如果slave的offset小于master的offset，说明slave需要更新两个偏移量之间的数据</li>
</ul>
<p><img src="D:\blog\source_posts\java面试专题.assets\d00cf231a9a2504f03755cfa46d0b0a.jpg" alt="d00cf231a9a2504f03755cfa46d0b0a"></p>
<h5 id="增量同步"><a href="#增量同步" class="headerlink" title="增量同步"></a>增量同步</h5><p>触发时机：slave重启&#x2F;后期数据变化</p>
<p><img src="D:\blog\source_posts\java面试专题.assets\image-20231019141243326.png" alt="image-20231019141243326"></p>
<h4 id="相关面试题"><a href="#相关面试题" class="headerlink" title="相关面试题"></a>相关面试题</h4><p><img src="D:\blog\source_posts\java面试专题.assets\80c9b0d7eda9545af29f7d837f5d7d9.jpg" alt="80c9b0d7eda9545af29f7d837f5d7d9"></p>
<h3 id="哨兵模式"><a href="#哨兵模式" class="headerlink" title="哨兵模式"></a>哨兵模式</h3><ul>
<li>实现主从集群的自动故障恢复</li>
<li>哨兵是一个redis节点</li>
<li>一般情况下，至少部署三台哨兵</li>
</ul>
<h4 id="哨兵选主规则"><a href="#哨兵选主规则" class="headerlink" title="哨兵选主规则"></a>哨兵选主规则</h4><ul>
<li>首先判断主从节点断开时间长短，时间越长，说明该从节点丢失数据越多</li>
<li>判断从节点的slave-priority值，值越小优先级越高</li>
<li>如果slave-priority值（优先级）相同，则判断slave节点的offset值，值越大优先级越高</li>
<li>slave节点的运行id越小优先级越高</li>
</ul>
<h4 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h4><ul>
<li>监控：不断检查主从节点是否正常工作，从节点宕机以后会自动去除<ul>
<li>基于心跳机制监测服务状态，每个1秒向集群的每一个实例发送ping命令，如果实例有返回，说明其正常工作</li>
<li>主观下线：若某哨兵节点发现某实例未在规定时间响应，则认为该实例主观下线</li>
<li>客观下线：若超过指定数量（最好超过哨兵适量的一半）的哨兵都认为该实例主观下线，则该实例客观下线。</li>
</ul>
</li>
<li>自动故障恢复：如果主节点故障，哨兵会选出一个节点作为主节点，保障redis的高可用性。当故障实例恢复后，依旧以新的master为主【故障恢复以后，redis的主节点是哨兵还是原来那一个？】</li>
<li>通知：发生故障转移以时，会将最新消息推送给redis的客户端，通过spring框架封装以后的RedisClient</li>
</ul>
<h4 id="脑裂问题"><a href="#脑裂问题" class="headerlink" title="脑裂问题"></a>脑裂问题</h4><h3 id="分片集群"><a href="#分片集群" class="headerlink" title="分片集群"></a>分片集群</h3>]]></content>
      <categories>
        <category>java,面试,八股文,简历</category>
      </categories>
      <tags>
        <tag>java,面试,八股文,简历</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>/2023/10/14/java%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/</url>
    <content><![CDATA[<h1 id="学习视频"><a href="#学习视频" class="headerlink" title="学习视频"></a>学习视频</h1><p>黑马程序员</p>
<p><a href="https://www.bilibili.com/video/BV1TP411v7v6?p=1&vd_source=05b9305044517a2659100450096dfe80">https://www.bilibili.com/video/BV1TP411v7v6?p=1&amp;vd_source=05b9305044517a2659100450096dfe80</a></p>
<h2 id="学习进度"><a href="#学习进度" class="headerlink" title="学习进度"></a>学习进度</h2><blockquote>
<p>2023&#x2F;10&#x2F;14： 4&#x2F;170</p>
<p>2023&#x2F;10&#x2F;15： 8&#x2F;170</p>
<p>2023&#x2F;10&#x2F;16： 13&#x2F;170</p>
<p>2023&#x2F;10&#x2F;17： 22&#x2F;170</p>
<p>2023&#x2F;10&#x2F;18： 26&#x2F;170</p>
<p>2023&#x2F;10&#x2F;19： 34&#x2F;170</p>
<p>2023&#x2F;10&#x2F;23： 58&#x2F;170</p>
<p>2023&#x2F;10&#x2F;24： 84&#x2F;170</p>
<p>2023&#x2F;11&#x2F;7： 101&#x2F;170</p>
<p>2023&#x2F;11&#x2F;8： 122&#x2F;170</p>
<p>2023&#x2F;11&#x2F;14： 129&#x2F;170</p>
<p>2023&#x2F;11&#x2F;15： 132&#x2F;170</p>
<p>2023&#x2F;11&#x2F;16： 140&#x2F;170</p>
<p>2023&#x2F;12&#x2F;11： 147&#x2F;170</p>
</blockquote>
<h1 id="DTO和DAO有什么区别【未解决】"><a href="#DTO和DAO有什么区别【未解决】" class="headerlink" title="DTO和DAO有什么区别【未解决】"></a>DTO和DAO有什么区别【未解决】</h1><h1 id="PUT和POST有什么区别【未解决】"><a href="#PUT和POST有什么区别【未解决】" class="headerlink" title="PUT和POST有什么区别【未解决】"></a>PUT和POST有什么区别【未解决】</h1><h1 id="技术选型"><a href="#技术选型" class="headerlink" title="技术选型"></a>技术选型</h1><p>nginx：服务器</p>
<p>spring task：spring提供的定时任务</p>
<p>httpclient：发送http请求</p>
<p>spring cache：缓存框架</p>
<p>JWT：登录认证</p>
<p>阿里云OSS：对象存储服务，存储项目中的图片</p>
<p>Swagger：生成接口文档，并测试后端接口</p>
<p>POI：操作excel表格</p>
<p>WebSocket：一种网络协议，实现催单、来单提醒</p>
<p>redis：缓存中间键</p>
<p>pagehelper：帮助分页</p>
<p>spring data redis：简化spring操作redis</p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\6581b197031ea3902c59c27a975768c.jpg" alt="6581b197031ea3902c59c27a975768c"></p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015152723812.png" alt="image-20231015152723812"></p>
<h1 id="运行前端"><a href="#运行前端" class="headerlink" title="运行前端"></a>运行前端</h1><p>进入<code>D:\day01\前端运行环境\nginx-1.20.2</code>目录，双击<strong>nginx.exe</strong>进行启动</p>
<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><blockquote>
<p>原本一直打不卡，重启了很多次电脑以后，然后又重新拉去项目，直接把前端运行环境文件夹修改了名字，放在d盘，之后修改端口为8086，访问<code>localhost:8086</code>成功</p>
</blockquote>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015165402320.png" alt="image-20231015165402320"></p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015165430267.png" alt="image-20231015165430267"></p>
<h3 id="再次报错"><a href="#再次报错" class="headerlink" title="再次报错"></a>再次报错</h3><p>昨天是建了两个文件夹存放相同的文件，运行第一个是错误的，第二个就是成功的</p>
<p>目录：<code>D:\CangQiongWeb\nginx-1.20.2</code></p>
<p>猜测：可能是之前的目录下面有其他的中文目录</p>
<h1 id="后端环境搭建"><a href="#后端环境搭建" class="headerlink" title="后端环境搭建"></a>后端环境搭建</h1><h2 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h2><p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015165614587.png" alt="image-20231015165614587"></p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015165602006.png" alt="image-20231015165602006"></p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015165855713.png" alt="image-20231015165855713"></p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015165921214.png" alt="image-20231015165921214"></p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015170021251.png" alt="image-20231015170021251"></p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015170157539.png" alt="image-20231015170157539"></p>
<h2 id="git"><a href="#git" class="headerlink" title="git"></a>git</h2><h3 id="git忽略的目录"><a href="#git忽略的目录" class="headerlink" title="git忽略的目录"></a>git忽略的目录</h3><p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015170534742.png" alt="image-20231015170534742"></p>
<h3 id="idea"><a href="#idea" class="headerlink" title="idea"></a>idea</h3><h4 id="创建本地仓库"><a href="#创建本地仓库" class="headerlink" title="创建本地仓库"></a>创建本地仓库</h4><p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015170646400.png" alt="image-20231015170646400"></p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015170737587.png" alt="image-20231015170737587"></p>
<h4 id="初次提交"><a href="#初次提交" class="headerlink" title="初次提交"></a>初次提交</h4><p>可以加上commit的message</p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015171010250.png" alt="image-20231015171010250"></p>
<h3 id="创建远程仓库"><a href="#创建远程仓库" class="headerlink" title="创建远程仓库"></a>创建远程仓库</h3><p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015171236739.png" alt="image-20231015171236739"></p>
<h3 id="推送项目"><a href="#推送项目" class="headerlink" title="推送项目"></a>推送项目</h3><p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015171347456.png" alt="image-20231015171347456"></p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015171422989.png" alt="image-20231015171422989"></p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015171530145.png" alt="image-20231015171530145"></p>
<h3 id="提交和推送的提醒"><a href="#提交和推送的提醒" class="headerlink" title="提交和推送的提醒"></a>提交和推送的提醒</h3><p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015171452673.png" alt="image-20231015171452673"></p>
<h1 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h1><p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015171934574.png" alt="image-20231015171934574"></p>
<h2 id="MySQL导入sql文件"><a href="#MySQL导入sql文件" class="headerlink" title="MySQL导入sql文件"></a>MySQL导入sql文件</h2><p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015172227382.png" alt="image-20231015172227382"></p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015172330357.png" alt="image-20231015172330357"></p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015172400199.png" alt="image-20231015172400199"></p>
<p>点击刷新</p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015172436013.png" alt="image-20231015172436013"></p>
<h1 id="前后端联调测试"><a href="#前后端联调测试" class="headerlink" title="前后端联调测试"></a>前后端联调测试</h1><p>初始代码已实现登录功能</p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015173825918.png" alt="image-20231015173825918"></p>
<h2 id="后端编译项目"><a href="#后端编译项目" class="headerlink" title="后端编译项目"></a>后端编译项目</h2><ul>
<li>先安装依赖包</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mvn clean install -U</span><br></pre></td></tr></table></figure>

<ul>
<li>重新加载</li>
</ul>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015175408804.png" alt="image-20231015175408804"></p>
<ul>
<li>编译</li>
</ul>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015174000558.png" alt="image-20231015174000558"></p>
<ul>
<li>结果：</li>
</ul>
<p>编译了四个模块，并且成功</p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015175322390.png" alt="image-20231015175322390"></p>
<ul>
<li>启动</li>
</ul>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015175700709.png" alt="image-20231015175700709"></p>
<h2 id="前端访问"><a href="#前端访问" class="headerlink" title="前端访问"></a>前端访问</h2><ul>
<li>账号：admin</li>
<li>密码：123456（sql文件里面初始化的）</li>
</ul>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015175749426.png" alt="image-20231015175749426"></p>
<ul>
<li>点击登录之后，发现连接失败，后端一直报错</li>
<li>所以要先修改后端连接数据库的用户名和密码</li>
</ul>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015192506760.png" alt="image-20231015192506760"></p>
<h2 id="调试-看登录功能代码"><a href="#调试-看登录功能代码" class="headerlink" title="调试-看登录功能代码"></a>调试-看登录功能代码</h2><ul>
<li>点击</li>
</ul>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015192715223.png" alt="image-20231015192715223"></p>
<ul>
<li>放行，直至下一个断点之前</li>
</ul>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015193655566.png" alt="image-20231015193655566"></p>
<ul>
<li>配置文件有效<ul>
<li>active表示dev文件也有效</li>
</ul>
</li>
</ul>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231016142035459.png" alt="image-20231016142035459"></p>
<ul>
<li>配置项</li>
</ul>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231016142229850.png" alt="image-20231016142229850"></p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231016142214646.png" alt="image-20231016142214646"></p>
<blockquote>
<p>通过配置属性类这种方式将springboot配置文件里面的配置项封装成一个java对象，然后通过Autowired注解注入</p>
</blockquote>
<h2 id="前端发送的请求是如何请求到后端服务的？"><a href="#前端发送的请求是如何请求到后端服务的？" class="headerlink" title="前端发送的请求是如何请求到后端服务的？"></a>前端发送的请求是如何请求到后端服务的？</h2><h3 id="问题：前端请求地址与后端接口地址不同"><a href="#问题：前端请求地址与后端接口地址不同" class="headerlink" title="问题：前端请求地址与后端接口地址不同"></a>问题：前端请求地址与后端接口地址不同</h3><p>前端的请求是针对后端服务器tomcat某个接口的请求</p>
<ul>
<li>前端的请求地址URL：<code> http://localhost:8086/api/employee/login</code></li>
</ul>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231016143101911.png" alt="image-20231016143101911"></p>
<ul>
<li>后端的接口地址：<code> http://localhost:8080/admin/employee/login</code></li>
</ul>
<p>后端基于内嵌的tomcat服务器来执行</p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231016143204106.png" alt="image-20231016143204106"></p>
<h3 id="解释"><a href="#解释" class="headerlink" title="解释"></a>解释</h3><p>nginx反向代理：将前端发送的动态请求由nginx转发到后端服务器</p>
<p>为什么要用nginx反向代理</p>
<ul>
<li>提高访问速度，可以做缓存</li>
<li>进行负载均衡</li>
<li>保证后端服务安全，很多后端服务并不直接暴露在互联网上，大多数部署在公祠内部的局域网中，并不对外开放，前端无法直接请求后端</li>
</ul>
<p>负载均衡：将大量的请求按照我们指定的方式均衡地分配给集群中的每台服务器</p>
<h2 id="配置nginx反向代理"><a href="#配置nginx反向代理" class="headerlink" title="配置nginx反向代理"></a>配置nginx反向代理</h2><p>文件：<code>nginx.conf</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">        listen       8086;</span><br><span class="line">        server_name  localhost;</span><br><span class="line">        # 反向代理,处理管理端发送的请求</span><br><span class="line">        location /api/ &#123;</span><br><span class="line">			proxy_pass   http://localhost:8080/admin/;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="负载均衡配置"><a href="#负载均衡配置" class="headerlink" title="负载均衡配置"></a>负载均衡配置</h2><p>webservers可以自定义</p>
<p>server 127.0.0.1:8080 ： 后端服务的IP地址和端口号</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">upstream webservers&#123;</span><br><span class="line">		#两组服务器</span><br><span class="line">	  server 127.0.0.1:8080 weight=90 ;</span><br><span class="line">	  server 127.0.0.1:8088 weight=10 ;</span><br><span class="line">&#125;</span><br><span class="line">server &#123;</span><br><span class="line">        listen       8086;</span><br><span class="line">        server_name  localhost;</span><br><span class="line">        location /api/ &#123;</span><br><span class="line">			proxy_pass   http://webservers/admin/; #负载均衡</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="负载均衡策略"><a href="#负载均衡策略" class="headerlink" title="负载均衡策略"></a>负载均衡策略</h3><p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231016145526086.png" alt="image-20231016145526086"></p>
<h1 id="完善登录功能"><a href="#完善登录功能" class="headerlink" title="完善登录功能"></a>完善登录功能</h1><h2 id="问题-1"><a href="#问题-1" class="headerlink" title="问题"></a>问题</h2><ul>
<li>用户密码明文存储安全性太低</li>
</ul>
<h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><ul>
<li>加密以后再存储，提高安全性</li>
<li>使用MD5加密对明文密码进行加密（不可逆）</li>
</ul>
<h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><ol>
<li>修改数据库中明文密码，将其修改为MD5加密后的密文</li>
<li>修改代码，前端提交以后的密码进行加密以后与后端密码进行比对</li>
</ol>
<h1 id="接口文档"><a href="#接口文档" class="headerlink" title="接口文档"></a>接口文档</h1><p>YApi网址：暂无</p>
<p>官方文档：<a href="https://hellosean1025.github.io/yapi/">https://hellosean1025.github.io/yapi/</a></p>
<h2 id="Swagger"><a href="#Swagger" class="headerlink" title="Swagger"></a>Swagger</h2><h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p>官方网址：<a href="https://swagger.io/">https://swagger.io/</a></p>
<p>可以生成接口文档，并且能够在线接口调试</p>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>通过<strong>Knife4j框架</strong>使用，其对Swagger进行封装</p>
<h4 id="导入框架的maven坐标"><a href="#导入框架的maven坐标" class="headerlink" title="导入框架的maven坐标"></a>导入框架的maven坐标</h4><p>在pom.xml中导入</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.xiaoymin<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>knife4j-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="配置项添加"><a href="#配置项添加" class="headerlink" title="配置项添加"></a>配置项添加</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Bean</span><span class="comment">//由spring创建对象并管理对象</span></span><br><span class="line"><span class="keyword">public</span> Docket <span class="title function_">docket</span><span class="params">()</span> &#123;</span><br><span class="line">    log.info(<span class="string">&quot;准备生成接口文档&quot;</span>);</span><br><span class="line">    <span class="comment">//构建生成接口文档</span></span><br><span class="line">    <span class="type">ApiInfo</span> <span class="variable">apiInfo</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ApiInfoBuilder</span>()</span><br><span class="line">        .title(<span class="string">&quot;苍穹外卖项目接口文档&quot;</span>)</span><br><span class="line">        .version(<span class="string">&quot;2.0&quot;</span>)</span><br><span class="line">        .description(<span class="string">&quot;苍穹外卖项目接口文档&quot;</span>)</span><br><span class="line">        .build();</span><br><span class="line">    <span class="comment">//创建Docket对象</span></span><br><span class="line">    <span class="type">Docket</span> <span class="variable">docket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Docket</span>(DocumentationType.SWAGGER_2)<span class="comment">//SWAGGER_2是常量，指定swagger的版本</span></span><br><span class="line">        .apiInfo(apiInfo)<span class="comment">//设置生成接口文档的信息</span></span><br><span class="line">        .select()</span><br><span class="line">        .apis(RequestHandlerSelectors.basePackage(<span class="string">&quot;com.sky.controller&quot;</span>))<span class="comment">//定义扫描的类，以及该类下面的子包</span></span><br><span class="line">        .paths(PathSelectors.any())</span><br><span class="line">        .build();</span><br><span class="line">    <span class="keyword">return</span> docket;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="设置静态资源映射"><a href="#设置静态资源映射" class="headerlink" title="设置静态资源映射"></a>设置静态资源映射</h4><p>防止接口文档无法访问</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry registry)</span> &#123;<span class="comment">//`addResourceHandlers`是重写父类的方法，不可改名</span></span><br><span class="line">    log.info(<span class="string">&quot;开始设置静态资源映射&quot;</span>);</span><br><span class="line">	registry.addResourceHandler(<span class="string">&quot;/doc.html&quot;</span>).addResourceLocations(<span class="string">&quot;classpath:/META-INF/resources/&quot;</span>);<span class="comment">//&quot;/doc.html&quot;是固定的，不可修改</span></span><br><span class="line">	registry.addResourceHandler(<span class="string">&quot;/webjars/**&quot;</span>).addResourceLocations(<span class="string">&quot;classpath:/META-INF/resources/webjars/&quot;</span>);<span class="comment">//路径也是固定的</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231017113306700.png" alt="image-20231017113306700"></p>
<h3 id="访问生成的接口文档"><a href="#访问生成的接口文档" class="headerlink" title="访问生成的接口文档"></a>访问生成的接口文档</h3><p><a href="http://localhost:8080/doc.html">http://localhost:8080/doc.html</a></p>
<p>8080是端口号</p>
<p>doc.html的路径是<code>registry.addResourceHandler(&quot;/doc.html&quot;)</code></p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231017113536462.png" alt="image-20231017113536462"></p>
<h3 id="常用注解"><a href="#常用注解" class="headerlink" title="常用注解"></a>常用注解</h3><ul>
<li><p>通过注解控制生成的接口文档，使其有更好的可读性</p>
</li>
<li><p>在需要扫描的类文件里面加入注解</p>
</li>
</ul>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\a35cb6498e1a6f7a0364ab8b85f6997.jpg" alt="a35cb6498e1a6f7a0364ab8b85f6997"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//在controller类</span></span><br><span class="line"><span class="meta">@Api(tags = &quot;员工相关接口&quot;)</span></span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231017170356243.png" alt="image-20231017170356243"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//在DTO文件，或者VO文件</span></span><br><span class="line"><span class="meta">@ApiModel(description = &quot;员工登录时传递的数据模型&quot;)</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//在DTO文件，或者VO文件</span></span><br><span class="line"><span class="meta">@ApiModelProperty(&quot;用户名&quot;)</span></span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231017170436340.png" alt="image-20231017170436340"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//在controller类</span></span><br><span class="line"><span class="meta">@ApiOperation(value = &quot;员工登录&quot;)</span></span><br><span class="line"><span class="meta">@ApiOperation(&quot;员工登录&quot;)</span></span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231017170348407.png" alt="image-20231017170348407"></p>
<h1 id="员工管理"><a href="#员工管理" class="headerlink" title="员工管理"></a>员工管理</h1><h2 id="新增员工"><a href="#新增员工" class="headerlink" title="新增员工"></a>新增员工</h2><h3 id="需求分析和设计"><a href="#需求分析和设计" class="headerlink" title="需求分析和设计"></a>需求分析和设计</h3><h4 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h4><ul>
<li>账号唯一</li>
<li>手机号的位数，纯数字，以···开头</li>
<li>性别只能选取男，女</li>
<li>身份证号是否合法，18位</li>
<li>员工新增时初始密码都为123456</li>
</ul>
<h4 id="设计接口"><a href="#设计接口" class="headerlink" title="设计接口"></a>设计接口</h4><ul>
<li>POST方式</li>
<li>JSON格式提交数据</li>
<li>设计返回数据格式：JSON格式，封装成Result格式返回</li>
<li>约定：</li>
</ul>
<blockquote>
<p>管理端发出的请求，统一使用&#x2F;admin作为前缀</p>
<p>用户端发出的请求，统一使用&#x2F;user作为前缀</p>
</blockquote>
<h3 id="代码开发"><a href="#代码开发" class="headerlink" title="代码开发"></a>代码开发</h3><h4 id="设计DTO"><a href="#设计DTO" class="headerlink" title="设计DTO"></a>设计DTO</h4><ul>
<li>可以用实体类来接收数据</li>
<li>但是数据相差太大时，建议使用DTO封装数据</li>
</ul>
<h4 id="开发步骤"><a href="#开发步骤" class="headerlink" title="开发步骤"></a>开发步骤</h4><ol>
<li><p>在Controller类添加方法</p>
</li>
<li><p>添加相关注解，例如<code>@PostMapping</code>,<code>@ApiOperation(&quot;xxx&quot;)</code>,<code>@RequestBody</code>，<code>@ApiModel()</code>,<code>@ApiModelProperty</code></p>
</li>
<li><p>数据封装，使其传入一个对象数据</p>
</li>
<li><p>打印<code>log.info()</code>，在测试台进行打印</p>
</li>
<li><p>调用<code>Service类</code>的相关方法</p>
</li>
<li><p>在<code>ServiceImpl类</code>具体实现相关方法</p>
<ol>
<li><p>将其他数据类型转换成实体类的数据类型</p>
</li>
<li><p>创建实体类对象</p>
</li>
<li><p>如果有很多属性可以对应上（属性名必须相同），可进行对象属性拷贝</p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231017174803104.png" alt="image-20231017174803104"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">BeanUtils.copyProperties(源对象,拷贝的目标对象);</span><br></pre></td></tr></table></figure>
</li>
<li><p>手动设置其他未设置的属性</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">employee.setStatus(StatusConstant.ENABLE);<span class="comment">//StatusConstant.ENABLE是一个常量</span></span><br><span class="line">employee.setStatus(<span class="number">1</span>);<span class="comment">//不使用“1”这种硬编码</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>密码设置</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">DigestUtils.md5DigestAsHex(PasswordConstant.DEFAULT_PASSWORD.getBytes())</span><br></pre></td></tr></table></figure>
</li>
<li><p>添加todo待完成项</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// TODO 后期需要改为当前登录用户的id</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>调用持久层Mapper插入数据，创建方法</p>
</li>
<li><p>单表新增操作，不使用xml文件，使用注解</p>
<ul>
<li>自动提示数据表的设置可查看：<a href="https://blog.csdn.net/qq_45992200/article/details/121767339">https://blog.csdn.net/qq_45992200/article/details/121767339</a></li>
<li>驼峰命名法，#{}和数据表可自动对应，配置文件已经配置好</li>
</ul>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231017181910868.png" alt="image-20231017181910868"></p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231017181946585.png" alt="image-20231017181946585"></p>
</li>
<li></li>
</ol>
</li>
<li></li>
</ol>
<ul>
<li><p>快捷键 <code>Alt+Enter</code>快速创建方法</p>
</li>
<li><pre><code class="java">log.info(&quot;新增员工:&#123;&#125;&quot;,employeeDTO);//&#123;&#125;作为占位符
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">### 功能测试</span><br><span class="line"></span><br><span class="line">1. 令牌校验不通过，返回401</span><br><span class="line"></span><br><span class="line">2. 在接口文档里面统一添加一个JWT令牌</span><br><span class="line"></span><br><span class="line">3. 通过登录功能的接口测试获取一个JWT令牌</span><br><span class="line"></span><br><span class="line">4. 设置全局参数</span><br><span class="line"></span><br><span class="line">   + token参数名称必须与后端项目设计的一致，在配置文件里面设置了参数名</span><br><span class="line"></span><br><span class="line">     ![image-20231017183348284](D:\blog\source\_posts\java苍穹外卖.assets\image-20231017183348284.png)</span><br><span class="line"></span><br><span class="line">     ![image-20231017183439496](D:\blog\source\_posts\java苍穹外卖.assets\image-20231017183439496.png)</span><br><span class="line"></span><br><span class="line">   + 参数值是上面获取的令牌</span><br><span class="line"></span><br><span class="line">   + 参数类型是从哪里获取的，比如这里是header，上上张图片的header</span><br><span class="line"></span><br><span class="line">   ![image-20231017183227500](D:\blog\source\_posts\java苍穹外卖.assets\image-20231017183227500.png)</span><br><span class="line"></span><br><span class="line">### 代码完善</span><br><span class="line"></span><br><span class="line">+ 用户名可能有重复，没处理</span><br><span class="line"></span><br><span class="line">  + 追加异常</span><br><span class="line"></span><br><span class="line">    ```java</span><br><span class="line">    @ExceptionHandler</span><br><span class="line">    public Result exceptionHandler(SQLIntegrityConstraintViolationException ex)&#123;</span><br><span class="line">        //Duplicate entry &#x27;zhangsan&#x27; for key &#x27;idx_username&#x27;</span><br><span class="line">        String message = ex.getMessage();</span><br><span class="line">        if(message.contains(&quot;Duplicate entry&quot;))&#123;</span><br><span class="line">            String[] split = message.split(&quot; &quot;);</span><br><span class="line">            String username = split[2];</span><br><span class="line">            String msg = username + MessageConstant.ALREADY_EXISTS;</span><br><span class="line">            return Result.error(msg);</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            return Result.error(MessageConstant.UNKNOWN_ERROR);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
<li><p>创建人和修改人id是固定值</p>
<ul>
<li><p>id存放在JWT的token中</p>
</li>
<li><p>获取id</p>
</li>
<li><p>传递id</p>
<ul>
<li><p>ThreadLocal：Thread的局部变量，ThreadLocal为每一个线程单独提供一个存储空间，具有线程隔离的效果，只有在线程内才能获取到对应的值，线程外则不能访问。</p>
</li>
<li><p>一般将其封装成一个工具类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//常用方法：</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(T value)</span><span class="comment">//设置当前线程的局部变量的值</span></span><br><span class="line"><span class="keyword">public</span> T <span class="title function_">get</span><span class="params">()</span><span class="comment">//获取当前线程对应的局部变量的值</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">()</span><span class="comment">//移除当前线程的局部变量</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BaseContext</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ThreadLocal&lt;Long&gt; threadLocal = <span class="keyword">new</span> <span class="title class_">ThreadLocal</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">setCurrentId</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">        threadLocal.set(id);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Long <span class="title function_">getCurrentId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> threadLocal.get();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">removeCurrentId</span><span class="params">()</span> &#123;</span><br><span class="line">        threadLocal.remove();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>客户端每一次发起请求，都是一个线程</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">System.out.println(<span class="string">&quot;当前线程id&quot;</span> + Thread.currentThread().getId());</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="员工分页查询"><a href="#员工分页查询" class="headerlink" title="员工分页查询"></a>员工分页查询</h2><h3 id="需求分析和设计-1"><a href="#需求分析和设计-1" class="headerlink" title="需求分析和设计"></a>需求分析和设计</h3><h4 id="需求-1"><a href="#需求-1" class="headerlink" title="需求"></a>需求</h4><ul>
<li>根据页码展示信息</li>
<li>每页固定数量</li>
<li>支持员工名字查询</li>
</ul>
<h4 id="设计接口-1"><a href="#设计接口-1" class="headerlink" title="设计接口"></a>设计接口</h4><ul>
<li>GET方式</li>
<li>提交数据：页码，每一页的记录数，员工姓名</li>
<li>返回数据：总记录数，当前页码及其数据集合</li>
<li>Query格式数据（地址栏？参数）</li>
<li>员工查询：单表查询</li>
</ul>
<h3 id="代码开发-1"><a href="#代码开发-1" class="headerlink" title="代码开发"></a>代码开发</h3><h4 id="设计DTO-1"><a href="#设计DTO-1" class="headerlink" title="设计DTO"></a>设计DTO</h4><ul>
<li>分页查询封装成一个PageResult对象</li>
<li>Result是一个泛型对象，对PageResult进行二次封装：Result<PageResult></li>
</ul>
<h4 id="开发步骤-1"><a href="#开发步骤-1" class="headerlink" title="开发步骤"></a>开发步骤</h4><ul>
<li><p>Controller类设计方法：</p>
<ul>
<li><p>接收数据是Query格式，不需要注解<code>@RequestBody</code>，springMVC框架会正常封装前端传来的数据</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> Result&lt;PageResult&gt; <span class="title function_">page</span><span class="params">(EmployeePageQueryDTO employeePageQueryDTO)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>添加mapper注解</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/xxx&quot;)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>添加ApiOperation注解</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@ApiOperation(&quot;接口文档信息配置&quot;)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>添加调试信息</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">log.info(<span class="string">&quot;打印调试信息&quot;</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>调用Service类方法</p>
</li>
<li><p>实现ServiceImpl类方法</p>
<ul>
<li><p>MySQL底层是通过limit关键字实现分页查询，只取一部分数据</p>
</li>
<li><p>使用Mybatis框架的插件pagehelper</p>
</li>
<li><p>在<code>pom.xml</code>添加</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.pagehelper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pagehelper-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>调用方法：参数一：当前页码，参数二：每页记录数</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">PageHelper.startPage(employeePageQueryDTO.getPage(),employeePageQueryDTO.getPageSize());</span><br></pre></td></tr></table></figure>

<p>原理：底层基于Mybatis的拦截器实现的，动态拼接SQL语句与其计算以后加上limit关键字</p>
</li>
<li><p>要求Page作为接收，类型为实体类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Page&lt;Employee&gt; page = employeeMapper.pageQuery(employeePageQueryDTO);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>创建Mapper方法</p>
<ul>
<li><p>不使用注解，动态SQL需要使用动态标签，最好写入xml文件</p>
</li>
<li><p>xml文件配置</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.sky.mapper.EmployeeMapper&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>设置扫描配置文件</p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231017232450539.png" alt="image-20231017232450539"></p>
</li>
<li><p>写xml文件</p>
</li>
</ul>
</li>
</ul>
<h3 id="功能测试"><a href="#功能测试" class="headerlink" title="功能测试"></a>功能测试</h3><h4 id="检查token是否失效"><a href="#检查token是否失效" class="headerlink" title="检查token是否失效"></a>检查token是否失效</h4><h5 id="token时效设置"><a href="#token时效设置" class="headerlink" title="token时效设置"></a>token时效设置</h5><p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231018221416168.png" alt="image-20231018221416168"></p>
<h3 id="代码完善"><a href="#代码完善" class="headerlink" title="代码完善"></a>代码完善</h3><h4 id="操作时间格式化"><a href="#操作时间格式化" class="headerlink" title="操作时间格式化"></a>操作时间格式化</h4><h5 id="加入注解"><a href="#加入注解" class="headerlink" title="加入注解"></a>加入注解</h5><p>在<code>实体类文件</code>添加</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)</span></span><br><span class="line"><span class="keyword">private</span> LocalDateTime createTime;</span><br><span class="line"></span><br><span class="line"><span class="meta">@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)</span></span><br><span class="line"><span class="keyword">private</span> LocalDateTime updateTime;</span><br></pre></td></tr></table></figure>

<p>缺点：</p>
<p>只能对单个属性进行处理</p>
<h5 id="拓展spring-MVC消息转换器"><a href="#拓展spring-MVC消息转换器" class="headerlink" title="拓展spring MVC消息转换器"></a>拓展spring MVC消息转换器</h5><p>优点：对所有时间戳进行格式化处理</p>
<ol>
<li>需要继承<code>父类WebMvcConfigurationSupport</code></li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebMvcConfiguration</span> <span class="keyword">extends</span> <span class="title class_">WebMvcConfigurationSupport</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>重写父类方法，在<code>WebMvcConfiguration</code>文件</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">extendMessageConverters</span><span class="params">(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters)</span>&#123;</span><br><span class="line">    log.info(<span class="string">&quot;拓展消息转换器&quot;</span>);</span><br><span class="line">    <span class="comment">//创建一个消息转换器</span></span><br><span class="line">    <span class="type">MappingJackson2HttpMessageConverter</span> <span class="variable">converter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MappingJackson2HttpMessageConverter</span>();</span><br><span class="line">    <span class="comment">//为消息转换器设置一个对象转换器，对象转换器将java对象序列化成json数据</span></span><br><span class="line">    converter.setObjectMapper(<span class="keyword">new</span> <span class="title class_">JacksonObjectMapper</span>());</span><br><span class="line">    <span class="comment">//将自己设置的消息转换器加入容器中</span></span><br><span class="line">    converters.add(<span class="number">0</span>,converter);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><code>JacksonObjectMapper</code>文件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package com.sky.json;</span><br><span class="line"></span><br><span class="line">import com.fasterxml.jackson.databind.DeserializationFeature;</span><br><span class="line">import com.fasterxml.jackson.databind.ObjectMapper;</span><br><span class="line">import com.fasterxml.jackson.databind.module.SimpleModule;</span><br><span class="line">import com.fasterxml.jackson.datatype.jsr310.deser.LocalDateDeserializer;</span><br><span class="line">import com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer;</span><br><span class="line">import com.fasterxml.jackson.datatype.jsr310.deser.LocalTimeDeserializer;</span><br><span class="line">import com.fasterxml.jackson.datatype.jsr310.ser.LocalDateSerializer;</span><br><span class="line">import com.fasterxml.jackson.datatype.jsr310.ser.LocalDateTimeSerializer;</span><br><span class="line">import com.fasterxml.jackson.datatype.jsr310.ser.LocalTimeSerializer;</span><br><span class="line"></span><br><span class="line">import java.time.LocalDate;</span><br><span class="line">import java.time.LocalDateTime;</span><br><span class="line">import java.time.LocalTime;</span><br><span class="line">import java.time.format.DateTimeFormatter;</span><br><span class="line"></span><br><span class="line">import static com.fasterxml.jackson.databind.DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 对象映射器:基于jackson将Java对象转为json，或者将json转为Java对象</span><br><span class="line"> * 将JSON解析为Java对象的过程称为 [从JSON反序列化Java对象]</span><br><span class="line"> * 从Java对象生成JSON的过程称为 [序列化Java对象到JSON]</span><br><span class="line"> */</span><br><span class="line">public class JacksonObjectMapper extends ObjectMapper &#123;</span><br><span class="line"></span><br><span class="line">    public static final String DEFAULT_DATE_FORMAT = &quot;yyyy-MM-dd&quot;;</span><br><span class="line">    //public static final String DEFAULT_DATE_TIME_FORMAT = &quot;yyyy-MM-dd HH:mm:ss&quot;;</span><br><span class="line">    public static final String DEFAULT_DATE_TIME_FORMAT = &quot;yyyy-MM-dd HH:mm&quot;;</span><br><span class="line">    public static final String DEFAULT_TIME_FORMAT = &quot;HH:mm:ss&quot;;</span><br><span class="line"></span><br><span class="line">    public JacksonObjectMapper() &#123;</span><br><span class="line">        super();</span><br><span class="line">        //收到未知属性时不报异常</span><br><span class="line">        this.configure(FAIL_ON_UNKNOWN_PROPERTIES, false);</span><br><span class="line"></span><br><span class="line">        //反序列化时，属性不存在的兼容处理</span><br><span class="line">        this.getDeserializationConfig().withoutFeatures(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);</span><br><span class="line"></span><br><span class="line">        SimpleModule simpleModule = new SimpleModule()</span><br><span class="line">                .addDeserializer(LocalDateTime.class, new LocalDateTimeDeserializer(DateTimeFormatter.ofPattern(DEFAULT_DATE_TIME_FORMAT)))</span><br><span class="line">                .addDeserializer(LocalDate.class, new LocalDateDeserializer(DateTimeFormatter.ofPattern(DEFAULT_DATE_FORMAT)))</span><br><span class="line">                .addDeserializer(LocalTime.class, new LocalTimeDeserializer(DateTimeFormatter.ofPattern(DEFAULT_TIME_FORMAT)))</span><br><span class="line">                .addSerializer(LocalDateTime.class, new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(DEFAULT_DATE_TIME_FORMAT)))</span><br><span class="line">                .addSerializer(LocalDate.class, new LocalDateSerializer(DateTimeFormatter.ofPattern(DEFAULT_DATE_FORMAT)))</span><br><span class="line">                .addSerializer(LocalTime.class, new LocalTimeSerializer(DateTimeFormatter.ofPattern(DEFAULT_TIME_FORMAT)));</span><br><span class="line"></span><br><span class="line">        //注册功能模块 例如，可以添加自定义序列化器和反序列化器</span><br><span class="line">        this.registerModule(simpleModule);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="启用禁用账号"><a href="#启用禁用账号" class="headerlink" title="启用禁用账号"></a>启用禁用账号</h2><h3 id="需求分析和设计-2"><a href="#需求分析和设计-2" class="headerlink" title="需求分析和设计"></a>需求分析和设计</h3><h4 id="需求-2"><a href="#需求-2" class="headerlink" title="需求"></a>需求</h4><ul>
<li>对状态为”启用“的账号，进行”禁用“</li>
<li>对状态为”禁用“的账号，进行”启用“</li>
<li>禁用账号不允许登录</li>
</ul>
<h3 id="代码开发-2"><a href="#代码开发-2" class="headerlink" title="代码开发"></a>代码开发</h3><h4 id="开发步骤-2"><a href="#开发步骤-2" class="headerlink" title="开发步骤"></a>开发步骤</h4><ul>
<li>通过<code>路径</code>传参，需要添加注解</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@PathVariable</span><span class="comment">//参数名相同时</span></span><br><span class="line"><span class="meta">@PathVariable(&quot;xxx&quot;)</span><span class="comment">//参数名不同时</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>地址栏</code>传参，无需注解，只需保证两边参数名一致</li>
</ul>
<h2 id="编辑员工"><a href="#编辑员工" class="headerlink" title="编辑员工"></a>编辑员工</h2><h3 id="需求分析和设计-3"><a href="#需求分析和设计-3" class="headerlink" title="需求分析和设计"></a>需求分析和设计</h3><h4 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h4><p>获取员工信息-GET请求方式</p>
<p>更新员工信息-PUT请求方式</p>
<h3 id="代码开发-3"><a href="#代码开发-3" class="headerlink" title="代码开发"></a>代码开发</h3><h4 id="开发步骤-3"><a href="#开发步骤-3" class="headerlink" title="开发步骤"></a>开发步骤</h4><ul>
<li>前端传入json数据格式，需要加入注解<code>@RequestBody</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> Result <span class="title function_">update</span><span class="params">(<span class="meta">@RequestBody</span> EmployeeDTO employeeDTO)</span>&#123;</span><br><span class="line">    log.info(<span class="string">&quot;编辑员工信息：&#123;&#125;&quot;</span>,employeeDTO);</span><br><span class="line">    employeeService.update(employeeDTO);</span><br><span class="line">    <span class="keyword">return</span> Result.success();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="导入分类模块功能代码"><a href="#导入分类模块功能代码" class="headerlink" title="导入分类模块功能代码"></a>导入分类模块功能代码</h1><h2 id="代码开发-4"><a href="#代码开发-4" class="headerlink" title="代码开发"></a>代码开发</h2><h2 id="开发步骤-4"><a href="#开发步骤-4" class="headerlink" title="开发步骤"></a>开发步骤</h2><p>拷贝其他代码以后，点击maven模块的compile进行手动编译</p>
<h1 id="公共字段自动填充"><a href="#公共字段自动填充" class="headerlink" title="公共字段自动填充"></a>公共字段自动填充</h1><h2 id="问题分析"><a href="#问题分析" class="headerlink" title="问题分析"></a>问题分析</h2><p>公共字段举例：create_time，update_time</p>
<p>关于公共字段的代码冗余，不方便后期维护</p>
<h2 id="实现思路"><a href="#实现思路" class="headerlink" title="实现思路"></a>实现思路</h2><h3 id="操作类型"><a href="#操作类型" class="headerlink" title="操作类型"></a>操作类型</h3><p>create_time，create_user ： insert</p>
<p>update_time，update_user ： insert，update</p>
<h3 id="使用切面统一处理"><a href="#使用切面统一处理" class="headerlink" title="使用切面统一处理"></a>使用切面统一处理</h3><ul>
<li>自定义注解AutoFill，用于标识需要进行公共字段自动填充的方法</li>
<li>自定义切面类AutoFillAspect，同意拦截加入了注解的方法，通过反射为公共字段赋值</li>
<li>在mapper方法加入注解</li>
<li>技术点：枚举（表示操作的类型：insert，update），注解，AOP（自定义切面），反射（为公共字段赋值）</li>
</ul>
<h2 id="代码开发-5"><a href="#代码开发-5" class="headerlink" title="代码开发"></a>代码开发</h2><h3 id="自定义注解AutoFill"><a href="#自定义注解AutoFill" class="headerlink" title="自定义注解AutoFill"></a>自定义注解AutoFill</h3><p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231019093516883.png" alt="image-20231019093516883"></p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231019093538038.png" alt="image-20231019093538038"></p>
<ul>
<li>表示注解只能加在方法上面</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.METHOD)</span></span><br></pre></td></tr></table></figure>

<ul>
<li>固定写法</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br></pre></td></tr></table></figure>

<ul>
<li>指定属性，指定当前数据库操作的类型</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//数据库操作类型：insert，update</span></span><br><span class="line">OperationType <span class="title function_">value</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231019093931736.png" alt="image-20231019093931736"></p>
<h3 id="自定义切面类AutoFillAspect"><a href="#自定义切面类AutoFillAspect" class="headerlink" title="自定义切面类AutoFillAspect"></a>自定义切面类AutoFillAspect</h3><ul>
<li>创建文件</li>
</ul>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231019094128271.png" alt="image-20231019094128271"></p>
<ul>
<li>添加注解</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="meta">@Component</span><span class="comment">//bean</span></span><br><span class="line"><span class="meta">@Slf4j</span><span class="comment">//日志注解</span></span><br></pre></td></tr></table></figure>

<ul>
<li>通知</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//前置通知，在通知中进行公共字段的赋值</span></span><br><span class="line"><span class="meta">@Before(&quot;autoFillPointCut()&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">autoFill</span><span class="params">(JoinPoint joinPoint)</span>&#123;</span><br><span class="line">    log.info(<span class="string">&quot;开始进行公共字段的自动填充&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>切点表达式</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Pointcut(&quot;execution(* com.sky.mapper.*.*(..)) &amp;&amp; @annotation(com.sky.annotation.AutoFill)&quot;)</span></span><br></pre></td></tr></table></figure>

<ul>
<li>切入点</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@AutoFill(value = OperationType.INSERT)</span></span><br></pre></td></tr></table></figure>

<h3 id="在mapper方法加入注解"><a href="#在mapper方法加入注解" class="headerlink" title="在mapper方法加入注解"></a>在mapper方法加入注解</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@AutoFill(value = OperationType.UPDATE)</span></span><br><span class="line"><span class="meta">@AutoFill(value = OperationType.INSERT)</span></span><br></pre></td></tr></table></figure>

<h1 id="新增菜品"><a href="#新增菜品" class="headerlink" title="新增菜品"></a>新增菜品</h1><h2 id="需求分析和设计-4"><a href="#需求分析和设计-4" class="headerlink" title="需求分析和设计"></a>需求分析和设计</h2><ul>
<li>菜品名称唯一</li>
<li>菜品必须设置分类</li>
<li>新增菜品可根据需要选择口味</li>
<li>菜品必须有图片</li>
</ul>
<h2 id="接口设计"><a href="#接口设计" class="headerlink" title="接口设计"></a>接口设计</h2><h3 id="获取分类"><a href="#获取分类" class="headerlink" title="获取分类"></a>获取分类</h3><h3 id="上传图片"><a href="#上传图片" class="headerlink" title="上传图片"></a>上传图片</h3><p>图片路径：阿里云的绝对路径</p>
<p>逻辑外键：数据库不创建外键字段，但java代码会将其作为外键字段操作</p>
<h3 id="获得前端数据"><a href="#获得前端数据" class="headerlink" title="获得前端数据"></a>获得前端数据</h3><h2 id="代码开发-6"><a href="#代码开发-6" class="headerlink" title="代码开发"></a>代码开发</h2><h3 id="开发文件上传接口"><a href="#开发文件上传接口" class="headerlink" title="开发文件上传接口"></a>开发文件上传接口</h3><ul>
<li>浏览器发送请求，提交到后端服务，上传至阿里云对象存储服务OSS</li>
</ul>
<h4 id="创建文件，添加注解"><a href="#创建文件，添加注解" class="headerlink" title="创建文件，添加注解"></a>创建文件，添加注解</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 通用接口</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/admin/common&quot;)</span></span><br><span class="line"><span class="meta">@Api(tags = &quot;通用接口&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CommonController</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="接收文件"><a href="#接收文件" class="headerlink" title="接收文件"></a>接收文件</h4><ul>
<li>使用MultipartFile文件类型来接收，参数名要与前端一致</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 文件上传</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> file</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@ApiOperation(&quot;文件上传&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result&lt;String&gt; <span class="title function_">upload</span><span class="params">(MultipartFile file)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h4><p>上传图片测试</p>
<ul>
<li>无法使用swagger</li>
<li>可以使用前后端联调、postman</li>
</ul>
<h3 id="菜品开发"><a href="#菜品开发" class="headerlink" title="菜品开发"></a>菜品开发</h3><p>多条数据（一个对象）插入</p>
<ul>
<li>useGeneratedKeys&#x3D;”true”：获得插入数据的时候所获得的主键值</li>
<li>keyProperty&#x3D;”id”：把主键值赋给id</li>
</ul>
<p>遍历赋值</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>((flavors != <span class="literal">null</span>) &amp;&amp; (flavors.size() &gt; <span class="number">0</span>))&#123;</span><br><span class="line">    flavors.forEach(dishFlavor-&gt;&#123;</span><br><span class="line">        dishFlavor.setDishId(dishId);</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>



<h1 id="菜品分类查询"><a href="#菜品分类查询" class="headerlink" title="菜品分类查询"></a>菜品分类查询</h1><h1 id="删除菜品"><a href="#删除菜品" class="headerlink" title="删除菜品"></a>删除菜品</h1><ul>
<li>在售卖的菜品不能删除</li>
<li>被套餐关联的菜品不能删除</li>
<li>删除菜品以后，相关联的口味数据也需要删除</li>
<li>可以删除一个或多个菜品</li>
</ul>
<h1 id="注解-RequestParam-将“1，2，3”这样的字符串交给spring框架转化为数组"><a href="#注解-RequestParam-将“1，2，3”这样的字符串交给spring框架转化为数组" class="headerlink" title="注解@RequestParam 将“1，2，3”这样的字符串交给spring框架转化为数组"></a>注解@RequestParam 将“1，2，3”这样的字符串交给spring框架转化为数组</h1><h1 id="Configuration配置类需要添加的注解"><a href="#Configuration配置类需要添加的注解" class="headerlink" title="@Configuration配置类需要添加的注解"></a>@Configuration配置类需要添加的注解</h1><h1 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h1><p>中文网址：<a href="https://www.redis.net.cn/">https://www.redis.net.cn/</a></p>
<h2 id="介绍-1"><a href="#介绍-1" class="headerlink" title="介绍"></a>介绍</h2><p>基于<strong>内存</strong>的<strong>key-value结构</strong>（键值对）数据库</p>
<ul>
<li>读写性能高</li>
<li>适合存储热点数据（热点商品，资讯，新闻）</li>
</ul>
<blockquote>
<p>mysql：</p>
<ul>
<li><p>是通过数据文件的方式存储在磁盘上</p>
</li>
<li><p>通过二维表来存储数据</p>
</li>
</ul>
</blockquote>
<h2 id="启动服务"><a href="#启动服务" class="headerlink" title="启动服务"></a>启动服务</h2><h3 id="服务端"><a href="#服务端" class="headerlink" title="服务端"></a>服务端</h3><p>在cmd打开redis的文件夹</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">redis-server.exe redis.windows.conf</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231023160352195.png" alt="image-20231023160352195"></p>
<p>退出：<code>Ctrl</code>+<code>C</code></p>
<h3 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h3><p>在cmd打开redis的文件夹</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">redis-cli.exe</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231023160543081.png" alt="image-20231023160543081"></p>
<p>退出：<code>exit</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">redis-cli.exe -h localhost(连接的服务器地址) -p 6379(端口号)</span><br></pre></td></tr></table></figure>

<h3 id="密码设置"><a href="#密码设置" class="headerlink" title="密码设置"></a>密码设置</h3><p>在conf文件里面修改</p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231023161017257.png" alt="image-20231023161017257"></p>
<p>设置密码以后，输入密码</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">redis-cli.exe -h localhost(连接的服务器地址) -p 6379(端口号) -a 1(密码)</span><br></pre></td></tr></table></figure>

<h3 id="图形界面使用"><a href="#图形界面使用" class="headerlink" title="图形界面使用"></a>图形界面使用</h3><p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231023161514726.png" alt="image-20231023161514726"></p>
<h2 id="数据类型及命令"><a href="#数据类型及命令" class="headerlink" title="数据类型及命令"></a>数据类型及命令</h2><p><img src="D:\blog\source_posts\java苍穹外卖.assets\9431cea6a458eeb2d132aaf5e7fce62.jpg" alt="9431cea6a458eeb2d132aaf5e7fce62"></p>
<p>key是字符串类型，value有5种常用的数据类型</p>
<h3 id="字符串String"><a href="#字符串String" class="headerlink" title="字符串String"></a>字符串String</h3><p>最简单的数据类型</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SET key value</span><br><span class="line">GET key</span><br><span class="line">SETEX key seconds value 设置key的值，并且设置过期时间为seconds秒。使用场景：手机号验证码</span><br><span class="line">SETNX key value 只有key不存在时设置key的值，存在时不会设置。使用场景：分布式锁</span><br></pre></td></tr></table></figure>



<h3 id="哈希hash"><a href="#哈希hash" class="headerlink" title="哈希hash"></a>哈希hash</h3><p>也叫散列，类似于java的hashmap结构</p>
<ul>
<li>适合存储对象</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">HSET key field value</span><br><span class="line">HGET key field</span><br><span class="line">HDEL key field</span><br><span class="line">HKEYS key 获取哈希表中所有字段，field1，field2</span><br><span class="line">HVALS key 获取哈希表中所有值，value1，value2</span><br></pre></td></tr></table></figure>



<h3 id="列表list"><a href="#列表list" class="headerlink" title="列表list"></a>列表list</h3><p>按照插入顺序排序，可以有重复元素，类似于java的linkedList</p>
<ul>
<li>可以从左侧插入数据</li>
<li>也可以从右侧插入数据</li>
<li>适合存储pyq点赞的顺序</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">LPUSH key value1 value2 将一个或者多个值插入列表头部</span><br><span class="line">LRANGE key start stop 获取列表指定范围内的元素</span><br><span class="line">	lrange mylist 0 -1 ：-1表示列表的最后一个元素</span><br><span class="line">LPOP key 移除并获取列表最后一个元素</span><br><span class="line">LLEN key 获取列表的长度</span><br></pre></td></tr></table></figure>



<h3 id="集合set"><a href="#集合set" class="headerlink" title="集合set"></a>集合set</h3><p>无序集合，没有重复结构，类似于java的hashset</p>
<ul>
<li>可以计算两个集合的交集，并集，差集</li>
<li>两个朋友之间共同的朋友</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SADD key member1 member2 向集合中添加一个或多个成员</span><br><span class="line">SMEMBERS key 返回集合中所有成员</span><br><span class="line">SCARD key 获取集合的成员数</span><br><span class="line">SINTER key1 key2 返回给定集合的并交集</span><br><span class="line">SUNION key1 key2 返回给定集合的并集</span><br><span class="line">SREM key member1 member2 删除集合中一个或多个成员</span><br></pre></td></tr></table></figure>



<h3 id="有序集合sorted-set-x2F-zset"><a href="#有序集合sorted-set-x2F-zset" class="headerlink" title="有序集合sorted set&#x2F;zset"></a>有序集合sorted set&#x2F;zset</h3><p>集合中每个元素关联一个分数（score），根据分数排序，没有重复元素</p>
<ul>
<li>适合存储各种排行榜</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ZADD key score1 member1 score2 member2 向集合添加一个或多个成员</span><br><span class="line">ZRANGE key start stop [WITHSCORES] 通过索引区间返回有序集合中指定区间内的成员</span><br><span class="line">ZINCRBY key increment member 有序集合对指定成员的分数加上增量increment</span><br><span class="line">ZREM key member1 member2 移除有序集合中的一个或多个元素</span><br></pre></td></tr></table></figure>



<h2 id="通用命令"><a href="#通用命令" class="headerlink" title="通用命令"></a>通用命令</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">KEYS pattern 查找所有符合给定模式的key</span><br><span class="line">EXISTS key 检查给定的key是否存在</span><br><span class="line">TYPE key 返回key所存储的值的类型</span><br><span class="line">DEL key 该命令用于删除指定key</span><br></pre></td></tr></table></figure>

<h1 id="在java中操作redis"><a href="#在java中操作redis" class="headerlink" title="在java中操作redis"></a>在java中操作redis</h1><h2 id="redis的java客户端"><a href="#redis的java客户端" class="headerlink" title="redis的java客户端"></a>redis的java客户端</h2><h3 id="jedis"><a href="#jedis" class="headerlink" title="jedis"></a>jedis</h3><ul>
<li>封装有限</li>
<li>方法名与redis命令一一对应</li>
</ul>
<h3 id="lettuce"><a href="#lettuce" class="headerlink" title="lettuce"></a>lettuce</h3><ul>
<li>基于netty多线程框架实现，性能优秀</li>
</ul>
<h3 id="spring-data-radis"><a href="#spring-data-radis" class="headerlink" title="spring data radis"></a>spring data radis</h3><ul>
<li>对redis进行高度封装</li>
</ul>
<h4 id="导入maven坐标"><a href="#导入maven坐标" class="headerlink" title="导入maven坐标"></a>导入maven坐标</h4><p>pom.xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="配置redis数据源"><a href="#配置redis数据源" class="headerlink" title="配置redis数据源"></a>配置redis数据源</h4><p>application.yml</p>
<ul>
<li>有16个数据库，不同数据库之间的数据互相隔离</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="attr">host:</span> <span class="string">localhost</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">6379</span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">1</span></span><br><span class="line">    <span class="attr">database:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>

<h4 id="编写配置类，创建RedisTemplate对象"><a href="#编写配置类，创建RedisTemplate对象" class="headerlink" title="编写配置类，创建RedisTemplate对象"></a>编写配置类，创建RedisTemplate对象</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedisConfiguration</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> RedisTemplate <span class="title function_">redisTemplate</span><span class="params">(RedisConnectionFactory redisConnectionFactory)</span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;开始创建redisTemplate模板对象&quot;</span>);</span><br><span class="line">        <span class="type">RedisTemplate</span> <span class="variable">redisTemplate</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RedisTemplate</span>();</span><br><span class="line">        <span class="comment">//设置redis连接工厂对象</span></span><br><span class="line">        redisTemplate.setConnectionFactory(redisConnectionFactory);</span><br><span class="line">        <span class="comment">//设置redis key的序列化器</span></span><br><span class="line">        redisTemplate.setKeySerializer(<span class="keyword">new</span> <span class="title class_">StringRedisSerializer</span>());</span><br><span class="line">        <span class="keyword">return</span> redisTemplate;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="通过RedisTemplate对象操作redis"><a href="#通过RedisTemplate对象操作redis" class="headerlink" title="通过RedisTemplate对象操作redis"></a>通过RedisTemplate对象操作redis</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> RedisTemplate redisTemplate;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testRedisTemplate</span><span class="params">()</span>&#123;</span><br><span class="line">    System.out.println(redisTemplate);</span><br><span class="line">    <span class="type">ValueOperations</span> <span class="variable">valueOperations</span> <span class="operator">=</span> redisTemplate.opsForValue();</span><br><span class="line">    <span class="type">HashOperations</span> <span class="variable">hashOperations</span> <span class="operator">=</span> redisTemplate.opsForHash();</span><br><span class="line">    <span class="type">ListOperations</span> <span class="variable">listOperations</span> <span class="operator">=</span> redisTemplate.opsForList();</span><br><span class="line">    <span class="type">SetOperations</span> <span class="variable">setOperations</span> <span class="operator">=</span> redisTemplate.opsForSet();</span><br><span class="line">    <span class="type">ZSetOperations</span> <span class="variable">zSetOperations</span> <span class="operator">=</span> redisTemplate.opsForZSet();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="java连接redis报错"><a href="#java连接redis报错" class="headerlink" title="java连接redis报错"></a>java连接redis报错</h2><h3 id="问题-2"><a href="#问题-2" class="headerlink" title="问题"></a>问题</h3><p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231107140130324.png" alt="image-20231107140130324"></p>
<h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h3><p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231107140055018.png" alt="image-20231107140055018"></p>
<h1 id="店铺营业状态设置"><a href="#店铺营业状态设置" class="headerlink" title="店铺营业状态设置"></a>店铺营业状态设置</h1><ul>
<li>基于redis的字符串来进行存储</li>
<li>修改swagger接口文档</li>
</ul>
<p>WebMvcConfiguration</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Docket <span class="title function_">docket1</span><span class="params">()</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;准备生成接口文档&quot;</span>);</span><br><span class="line">        <span class="type">ApiInfo</span> <span class="variable">apiInfo</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ApiInfoBuilder</span>()</span><br><span class="line">                .title(<span class="string">&quot;苍穹外卖项目接口文档&quot;</span>)</span><br><span class="line">                .version(<span class="string">&quot;2.0&quot;</span>)</span><br><span class="line">                .description(<span class="string">&quot;苍穹外卖项目接口文档&quot;</span>)</span><br><span class="line">                .build();</span><br><span class="line">        <span class="type">Docket</span> <span class="variable">docket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Docket</span>(DocumentationType.SWAGGER_2)</span><br><span class="line">                .groupName(<span class="string">&quot;管理端接口&quot;</span>)</span><br><span class="line">                .apiInfo(apiInfo)</span><br><span class="line">                .select()</span><br><span class="line">                .apis(RequestHandlerSelectors.basePackage(<span class="string">&quot;com.sky.controller.admin&quot;</span>))</span><br><span class="line">                .paths(PathSelectors.any())</span><br><span class="line">                .build();</span><br><span class="line">        <span class="keyword">return</span> docket;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Docket <span class="title function_">docket2</span><span class="params">()</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;准备生成接口文档&quot;</span>);</span><br><span class="line">        <span class="type">ApiInfo</span> <span class="variable">apiInfo</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ApiInfoBuilder</span>()</span><br><span class="line">                .title(<span class="string">&quot;苍穹外卖项目接口文档&quot;</span>)</span><br><span class="line">                .version(<span class="string">&quot;2.0&quot;</span>)</span><br><span class="line">                .description(<span class="string">&quot;苍穹外卖项目接口文档&quot;</span>)</span><br><span class="line">                .build();</span><br><span class="line">        <span class="type">Docket</span> <span class="variable">docket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Docket</span>(DocumentationType.SWAGGER_2)</span><br><span class="line">                .groupName(<span class="string">&quot;用户端接口&quot;</span>)</span><br><span class="line">                .apiInfo(apiInfo)</span><br><span class="line">                .select()</span><br><span class="line">                .apis(RequestHandlerSelectors.basePackage(<span class="string">&quot;com.sky.controller.user&quot;</span>))</span><br><span class="line">                .paths(PathSelectors.any())</span><br><span class="line">                .build();</span><br><span class="line">        <span class="keyword">return</span> docket;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="HttpClient"><a href="#HttpClient" class="headerlink" title="HttpClient"></a>HttpClient</h1><h2 id="介绍-2"><a href="#介绍-2" class="headerlink" title="介绍"></a>介绍</h2><ul>
<li>提供高效的支持HTTP协议的<strong>客户端编程工具包</strong><ul>
<li>在java中通过这个工具包可以<strong>构造并发送http请求</strong></li>
</ul>
</li>
</ul>
<h2 id="使用-1"><a href="#使用-1" class="headerlink" title="使用"></a>使用</h2><h3 id="导入maven坐标-1"><a href="#导入maven坐标-1" class="headerlink" title="导入maven坐标"></a>导入maven坐标</h3><p>pom.xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.httpcomponents<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>httpclient<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.5.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="核心API"><a href="#核心API" class="headerlink" title="核心API"></a>核心API</h3><ul>
<li>HttpClient 发送http请求</li>
<li>HttpClient 构建器，创建一个HttpClient对象</li>
<li>CloseableHttpClient 具体的实现类，实现HttpClient接口</li>
<li>HttpGet get方式的请求</li>
<li>HttpPost post方式的请求</li>
</ul>
<h3 id="发送请求步骤"><a href="#发送请求步骤" class="headerlink" title="发送请求步骤"></a>发送请求步骤</h3><h4 id="创建HttpClient对象"><a href="#创建HttpClient对象" class="headerlink" title="创建HttpClient对象"></a>创建HttpClient对象</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">CloseableHttpClient</span> <span class="variable">httpClient</span> <span class="operator">=</span> HttpClients.createDefault();</span><br></pre></td></tr></table></figure>

<h4 id="创建Http请求对象（请求方式）"><a href="#创建Http请求对象（请求方式）" class="headerlink" title="创建Http请求对象（请求方式）"></a>创建Http请求对象（请求方式）</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">HttpGet httpGet = new HttpGet(&quot;http://localhost:8080/user/shop/status&quot;);</span><br></pre></td></tr></table></figure>

<h4 id="调用HttpClient的execute方法发送请求"><a href="#调用HttpClient的execute方法发送请求" class="headerlink" title="调用HttpClient的execute方法发送请求"></a>调用HttpClient的execute方法发送请求</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">CloseableHttpResponse</span> <span class="variable">response</span> <span class="operator">=</span> httpClient.execute(httpGet);</span><br></pre></td></tr></table></figure>

<h4 id="关闭资源"><a href="#关闭资源" class="headerlink" title="关闭资源"></a>关闭资源</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">response.close();</span><br><span class="line">httpClient.close();</span><br></pre></td></tr></table></figure>



<h1 id="微信小程序开发"><a href="#微信小程序开发" class="headerlink" title="微信小程序开发"></a>微信小程序开发</h1><h2 id="介绍-3"><a href="#介绍-3" class="headerlink" title="介绍"></a>介绍</h2><p>网址：<a href="https://mp.weixin.qq.com/cgi-bin/wx?token=&lang=zh_CN">https://mp.weixin.qq.com/cgi-bin/wx?token=&amp;lang=zh_CN</a></p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231024163605296.png" alt="image-20231024163605296"></p>
<h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h2><p>包含：一个描述整体程序的app和多个描述各自页面的page。</p>
<p><strong>主体</strong>部分包括下面的文件：（必须放在项目的根目录）</p>
<ul>
<li>app.js 必需，作用：小程序逻辑代码</li>
<li>app.json 必需，小程序公共配置</li>
<li>app.wxss 不必需，小程序公共样式表</li>
</ul>
<p>一个小程序<strong>页面</strong>包括下面的文件：</p>
<ul>
<li>js 必需，作用：页面逻辑</li>
<li>wxml 必需，作用：页面结构</li>
<li>json 不必需，作用：页面配置</li>
<li>wxss 不必需，作用：页面样式表</li>
</ul>
<h2 id="微信登录"><a href="#微信登录" class="headerlink" title="微信登录"></a>微信登录</h2><p>获取微信用户的授权码 发送给后端服务器 返回openid 唯一标识</p>
<ul>
<li><p>开发者服务器：自己开发的服务，自己运行的后端服务</p>
</li>
<li><p>微信接口服务：微信官方提供的服务</p>
</li>
<li><p>appid：小程序id</p>
</li>
<li><p>appsecret：小程序密钥</p>
</li>
<li><p>openid：微信用户的唯一标识</p>
</li>
</ul>
<p><img src="https://res.wx.qq.com/wxdoc/dist/assets/img/api-login.2fcc9f35.jpg" alt="img"></p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231024191333597.png" alt="image-20231024191333597"></p>
<h2 id="配置wechat的application"><a href="#配置wechat的application" class="headerlink" title="配置wechat的application"></a>配置wechat的application</h2><h2 id="配置为微信用户生成的jwt令牌时使用的配置项"><a href="#配置为微信用户生成的jwt令牌时使用的配置项" class="headerlink" title="配置为微信用户生成的jwt令牌时使用的配置项"></a>配置为微信用户生成的jwt令牌时使用的配置项</h2><ul>
<li>jwt</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"># 设置jwt签名加密时使用的秘钥</span><br><span class="line">user-secret-key: itheima</span><br><span class="line"># 设置jwt过期时间</span><br><span class="line">user-ttl: 7200000</span><br><span class="line"># 设置前端传递过来的令牌名称</span><br><span class="line">user-token-name: authentication</span><br></pre></td></tr></table></figure>

<ul>
<li>appid和secret</li>
</ul>
<h2 id="校验token"><a href="#校验token" class="headerlink" title="校验token"></a>校验token</h2><h1 id="缓存菜品"><a href="#缓存菜品" class="headerlink" title="缓存菜品"></a>缓存菜品</h1><p>目的：在某一时间有很多人同时点餐，可能会造成数据库崩溃，因此使用redis缓存菜品</p>
<ul>
<li>访问redis，本质上是访问内存</li>
<li>访问数据库，本质上是磁盘IO访问</li>
</ul>
<h1 id="Spring-Cache"><a href="#Spring-Cache" class="headerlink" title="Spring Cache"></a>Spring Cache</h1><p>spring提供的缓存框架</p>
<ul>
<li>基于注解的缓存功能</li>
<li>只提供一层抽象，底层可以切换不同的缓存实现，例如：<ul>
<li>EHCache</li>
<li>Caffeine</li>
<li>Redis</li>
</ul>
</li>
</ul>
<h2 id="导入maven坐标-2"><a href="#导入maven坐标-2" class="headerlink" title="导入maven坐标"></a>导入maven坐标</h2><ul>
<li>无需指明使用什么缓存框架</li>
<li>只需要也在这个pom.xml文件中导入想要的框架的maven坐标</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<h2 id="导入redis的maven坐标"><a href="#导入redis的maven坐标" class="headerlink" title="导入redis的maven坐标"></a>导入redis的maven坐标</h2><h2 id="常用注解-1"><a href="#常用注解-1" class="headerlink" title="常用注解"></a>常用注解</h2><ul>
<li>@EnableCaching  开启缓存注解功能，通常加在启动类上</li>
<li>@Cacheable  在方法执行前先查询缓存中是否有数据，如果有数据，则直接返回缓存数据；如果没有缓存数据，调用方法，并将方法返回值放到缓存中</li>
<li>@CachePut  将方法的返回值放到缓存中</li>
<li>@CacheEvict  将一条或多条数据从缓存中删除</li>
</ul>
<h2 id="加入注解-1"><a href="#加入注解-1" class="headerlink" title="加入注解"></a>加入注解</h2><h1 id="添加购物车"><a href="#添加购物车" class="headerlink" title="添加购物车"></a>添加购物车</h1><h1 id="查看购物车"><a href="#查看购物车" class="headerlink" title="查看购物车"></a>查看购物车</h1><h1 id="清空购物车"><a href="#清空购物车" class="headerlink" title="清空购物车"></a>清空购物车</h1><h1 id="导入地址薄"><a href="#导入地址薄" class="headerlink" title="导入地址薄"></a>导入地址薄</h1><h1 id="用户下单"><a href="#用户下单" class="headerlink" title="用户下单"></a>用户下单</h1><h1 id="微信支付"><a href="#微信支付" class="headerlink" title="微信支付"></a>微信支付</h1><h2 id="时序图"><a href="#时序图" class="headerlink" title="时序图"></a>时序图</h2><p><img src="https://cdn.nlark.com/yuque/0/2023/jpeg/39247131/1699428067972-702355f0-0d62-40aa-97a7-bc1cccc539bf.jpeg" alt="img"></p>
<p><strong>问题：小程序下单后，后端返回订单信息，之后用户发送微信支付请求，后端收到请求后，为什么先调用微信下单接口生成预支付交易单然后在后端进行签名，而不是直接调用微信支付接口返回支付结果？</strong></p>
<p>在后端生成预支付交易单后，需要进行签名处理，以确保请求的安全性和完整性。签名是为了防止恶意篡改订单信息或伪造支付请求。后端会使用商户密钥对预支付交易单的相关信息进行签名，然后将签名后的信息返回给小程序。</p>
<h2 id="JSAPI下单-预支付"><a href="#JSAPI下单-预支付" class="headerlink" title="JSAPI下单-预支付"></a>JSAPI下单-预支付</h2><p>商户系统调用接口在微信支付服务后台生成<strong>预支付交易单</strong></p>
<h3 id="接口-1"><a href="#接口-1" class="headerlink" title="接口"></a>接口</h3><p><img src="https://cdn.nlark.com/yuque/0/2023/jpeg/39247131/1699428565296-151522ae-7c7f-4de4-b73b-35c2cefc2a8c.jpeg" alt="img"></p>
<p>mchid：商户号</p>
<p>out_trade_no：订单号</p>
<p>appid：小程序应用id</p>
<p>notify_url：回调地址，微信支付成功后，微信后台调用这个地址，通过这个地址通知程序，一般是小程序的访问地址</p>
<p>amount：关于金额的相关信息</p>
<p>total：金额总数</p>
<p>currency：货币单位：人民币还是美元，等等</p>
<p>payer：付款人</p>
<p>openid：微信用户的openid</p>
<h2 id="调用支付"><a href="#调用支付" class="headerlink" title="调用支付"></a>调用支付</h2><h3 id="接口-2"><a href="#接口-2" class="headerlink" title="接口"></a>接口</h3><p><img src="https://cdn.nlark.com/yuque/0/2023/jpeg/39247131/1699429150790-e856557f-47b4-4553-b2a3-3aad18091c99.jpeg" alt="img"></p>
<ul>
<li>数据是前面微信预支付返回到后端并进行数据组装的数据</li>
</ul>
<h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><p><img src="https://cdn.nlark.com/yuque/0/2023/jpeg/39247131/1699428184953-e571eb59-5257-4850-ac0b-a52cc3268952.jpeg" alt="img"></p>
<h2 id="调用过程如何保证数据安全"><a href="#调用过程如何保证数据安全" class="headerlink" title="调用过程如何保证数据安全"></a>调用过程如何保证数据安全</h2><h3 id="获得微信支付平台证书、商户私钥文件"><a href="#获得微信支付平台证书、商户私钥文件" class="headerlink" title="获得微信支付平台证书、商户私钥文件"></a>获得微信支付平台证书、商户私钥文件</h3><p>微信支付平台证书：apiclient_key.pem</p>
<p>商户私钥文件：wechatpay_xxxxxx.pem</p>
<ul>
<li>从微信商户平台下载</li>
</ul>
<h2 id="微信后台如何调用商户系统"><a href="#微信后台如何调用商户系统" class="headerlink" title="微信后台如何调用商户系统"></a>微信后台如何调用商户系统</h2><ul>
<li><p>获取临时域名：支付成功以后微信服务通过该域名回调程序</p>
</li>
<li><ul>
<li>使用内网穿透，获得一个临时的IP地址，这个IP地址是一个公网的IP，微信后台就可以请求到商户系统</li>
<li>使用Cpolar来获取临时域名</li>
</ul>
</li>
</ul>
<p>此处为语雀内容卡片，点击链接查看：<a href="https://www.yuque.com/xiaoli-q1ghi/xoywqo/swyfgmd5rezgn6un">https://www.yuque.com/xiaoli-q1ghi/xoywqo/swyfgmd5rezgn6un</a></p>
<h2 id="相关代码"><a href="#相关代码" class="headerlink" title="相关代码"></a>相关代码</h2><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">wechat:</span><br><span class="line">  appid: $&#123;sky.wechat.appid&#125;</span><br><span class="line">  secret: $&#123;sky.wechat.secret&#125;</span><br><span class="line">  mchid: $&#123;sky.wechat.mchid&#125;</span><br><span class="line">  mchSerialNo: $&#123;sky.wechat.mchSerialNo&#125;</span><br><span class="line">  privateKeyFilePath: $&#123;sky.wechat.privateKeyFilePath&#125;</span><br><span class="line">  apiV3Key: $&#123;sky.wechat.apiV3Key&#125;</span><br><span class="line">  weChatPayCertFilePath: $&#123;sky.wechat.weChatPayCertFilePath&#125;</span><br><span class="line">  notifyUrl: $&#123;sky.wechat.notifyUrl&#125;</span><br><span class="line">  refundNotifyUrl: $&#123;sky.wechat.refundNotifyUrl&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Spring-task"><a href="#Spring-task" class="headerlink" title="Spring task"></a>Spring task</h1><h2 id="介绍-4"><a href="#介绍-4" class="headerlink" title="介绍"></a>介绍</h2><ul>
<li>spring提供的任务调度工具</li>
<li>按照约定的时间<strong>自动执行</strong>某个代码逻辑</li>
</ul>
<h2 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h2><ul>
<li>闹钟</li>
<li>信用卡每月还款提醒</li>
<li>银行贷款每月还款提醒</li>
<li>火车票售票系统处理未支付订单</li>
<li>入职纪念日为用户发送通知</li>
<li>……只要是需要定时处理的场景</li>
</ul>
<h2 id="cron表达式"><a href="#cron表达式" class="headerlink" title="cron表达式"></a>cron表达式</h2><ul>
<li>字符串</li>
<li>定义任务触发时间</li>
</ul>
<h2 id="规则"><a href="#规则" class="headerlink" title="规则"></a>规则</h2><ul>
<li>分成6或7个域（位置），由空格分隔开，每个域代表一个含义</li>
<li>每个域的含义：秒、分钟、小时、日、月、周、年（可选）</li>
<li>域有顺序</li>
<li>日和周往往只能定义一个，另一个用？代替</li>
</ul>
<h2 id="举例"><a href="#举例" class="headerlink" title="举例"></a>举例</h2><ul>
<li>2022年10月12日上午9点整</li>
<li>cron表达式：0 0 9 12 10  ？ 2022</li>
</ul>
<h2 id="在线生成器"><a href="#在线生成器" class="headerlink" title="在线生成器"></a>在线生成器</h2><p>网址：<a href="https://cron.qqe2.com/">https://cron.qqe2.com/</a></p>
<h2 id="使用-2"><a href="#使用-2" class="headerlink" title="使用"></a>使用</h2><h3 id="导入maven坐标-3"><a href="#导入maven坐标-3" class="headerlink" title="导入maven坐标"></a>导入maven坐标</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">spring-boot-start 里面有spring-context</span><br></pre></td></tr></table></figure>

<h3 id="启动类添加注释"><a href="#启动类添加注释" class="headerlink" title="启动类添加注释"></a>启动类添加注释</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@EnableScheduling</span></span><br></pre></td></tr></table></figure>

<h3 id="自定义定时任务类"><a href="#自定义定时任务类" class="headerlink" title="自定义定时任务类"></a>自定义定时任务类</h3><ul>
<li>一般放在task目录下</li>
</ul>
<h1 id="WebSocket"><a href="#WebSocket" class="headerlink" title="WebSocket"></a>WebSocket</h1><p><img src="https://cdn.nlark.com/yuque/0/2023/jpeg/39247131/1699974972158-5d4d58f2-9669-4463-b900-cf9567fe47fb.jpeg" alt="img"></p>
<h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><ul>
<li>基于TCP的网络协议</li>
<li>实现浏览器与服务器<strong>全双工通信</strong>——浏览器和服务器只需要完成<strong>一次握手</strong>，两者之间就可以创建持久性连接，并进行双向数据传输</li>
<li>长连接&#x2F;持久性连接</li>
<li>支持双向通信</li>
<li>不需要浏览器发送请求，而是服务器主动将数据发送过来</li>
</ul>
<p>ps：http需要浏览器先请求服务器，http是短连接，http是单向的，基于请求响应模式</p>
<h2 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h2><ol>
<li>握手：浏览器端向服务器端发送请求</li>
<li>应答：服务器端向浏览器端发送应答</li>
<li>服务器端和浏览器端成功建立连接，并且能够进行双向通信</li>
<li>断连</li>
</ol>
<h2 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h2><ul>
<li>视频弹幕</li>
<li>网页聊天</li>
<li>体育实况更新</li>
<li>股票基金报价实时更新</li>
</ul>
<h2 id="实现来单提醒-x2F-客户催单的业务逻辑"><a href="#实现来单提醒-x2F-客户催单的业务逻辑" class="headerlink" title="实现来单提醒&#x2F;客户催单的业务逻辑"></a>实现来单提醒&#x2F;客户催单的业务逻辑</h2><ol>
<li>通过WebSocket实现客户端和服务端之间的长连接状态</li>
<li>当客户支付以后，通过调用WebSocket的API（WebSocketServer.sentToAllClient），服务端向客户端推送消息</li>
<li>客户端解析服务端传来的数据，判断是来单提醒还是客户催单，进行相应提示和语音播报</li>
</ol>
]]></content>
      <categories>
        <category>java,外卖</category>
      </categories>
      <tags>
        <tag>java,外卖</tag>
      </tags>
  </entry>
  <entry>
    <title>juc并发编程</title>
    <url>/2023/10/15/juc%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/</url>
    <content><![CDATA[<h1 id="学习课程："><a href="#学习课程：" class="headerlink" title="学习课程："></a>学习课程：</h1><h2 id="学习进度："><a href="#学习进度：" class="headerlink" title="学习进度："></a>学习进度：</h2><blockquote>
<p>学习目标：面试高频</p>
<p>2023&#x2F;10&#x2F;14: </p>
</blockquote>
]]></content>
      <categories>
        <category>juc并发编程</category>
      </categories>
      <tags>
        <tag>juc并发编程</tag>
      </tags>
  </entry>
  <entry>
    <title>word2vec</title>
    <url>/2023/07/24/word2vec/</url>
    <content><![CDATA[<p>论文地址：[<a href="https://arxiv.org/abs/1701.06279">1701.06279] dna2vec：可变长度 k-mers 的一致向量表示 (arxiv.org)</a></p>
<p>word文档：</p>
<h1 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h1><p>NLP领域的技术，将词转化为“可计算”向量的过程</p>
<h1 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h1><p>降低维度</p>
<p>词语之间的相似性</p>
<h1 id="实现方法"><a href="#实现方法" class="headerlink" title="实现方法"></a>实现方法</h1><p>CBOW模型：给定上下文，预测目标词</p>
<h1 id="dna2vec：可变长度-k-mers-的一致向量表示"><a href="#dna2vec：可变长度-k-mers-的一致向量表示" class="headerlink" title="dna2vec：可变长度 k-mers 的一致向量表示"></a>dna2vec：可变长度 k-mers 的一致向量表示</h1>]]></content>
      <tags>
        <tag>NLP</tag>
      </tags>
  </entry>
  <entry>
    <title>jvm</title>
    <url>/2023/10/15/jvm/</url>
    <content><![CDATA[<h1 id="学习课程："><a href="#学习课程：" class="headerlink" title="学习课程："></a>学习课程：</h1><h2 id="学习进度："><a href="#学习进度：" class="headerlink" title="学习进度："></a>学习进度：</h2><blockquote>
<p>学习目标：全部，听完背题</p>
<p>2023&#x2F;10&#x2F;14: </p>
</blockquote>
<h1 id=""><a href="#" class="headerlink" title=""></a></h1>]]></content>
      <categories>
        <category>jvm</category>
      </categories>
      <tags>
        <tag>jvm</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis</title>
    <url>/2024/02/25/redis/</url>
    <content><![CDATA[<h1 id="学习课程："><a href="#学习课程：" class="headerlink" title="学习课程："></a>学习课程：</h1><p><a href="https://www.bilibili.com/video/BV1cr4y1671t?p=145&vd_source=05b9305044517a2659100450096dfe80">https://www.bilibili.com/video/BV1cr4y1671t?p=145&amp;vd_source=05b9305044517a2659100450096dfe80</a></p>
<h2 id="学习进度："><a href="#学习进度：" class="headerlink" title="学习进度："></a>学习进度：</h2><blockquote>
<p>学习目标：全部</p>
<p>2024&#x2F;2&#x2F;25：1-23&#x2F;175</p>
<p>2024&#x2F;2&#x2F;26：145-147，&#x2F;175</p>
</blockquote>
<h1 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h1><h2 id="SQL和NoSQL区别"><a href="#SQL和NoSQL区别" class="headerlink" title="SQL和NoSQL区别"></a>SQL和NoSQL区别</h2><ol>
<li><strong>结构化</strong></li>
</ol>
<p>S：结构化数据，有固定格式（数据类型，长度）的数据，如果不符合格式会报错。</p>
<p>SQL：存储结构化数据，表的结构不建议修改</p>
<ol start="2">
<li><strong>关联</strong></li>
<li><strong>SQL查询</strong></li>
</ol>
<p>SQL：查询语法固定，数据库会帮忙维护数据</p>
<p>NoSQL：查询语法不统一，Redis键值类型，MongoDB文档类型，HBase列类型等库的语法都不一样，需要自己编写维护数据库的业务逻辑</p>
<ol start="4">
<li><strong>事务</strong></li>
</ol>
<p>SQL：可以实现ACID事务特定</p>
<p>NoSQL：无事务，无法满足强一致性，BASE</p>
<ol start="5">
<li><strong>扩展性</strong></li>
</ol>
<p>SQL：垂直，不支持分布式</p>
<p>NoSQL：水平，支持分布式</p>
<h1 id="Redis介绍"><a href="#Redis介绍" class="headerlink" title="Redis介绍"></a>Redis介绍</h1><p><strong>概念</strong>：基于内存的键值型NoSQL数据库</p>
<p><strong>特点</strong>：</p>
<ul>
<li>键值对类型，支持多种数据结构</li>
<li>单线程，所有命令串行化执行，线程安全，每个命令具备原子性。ps：redis6.0在网络请求处理是多线程</li>
<li>低延迟，速度快</li>
<li>支持数据持久化，定期存入磁盘，ps：内存数据不安全，断电数据会消失</li>
<li>支持主从集群，分片集群，ps：分片：数据拆分</li>
<li>支持多语言客户端</li>
</ul>
<p><strong>为什么redis是单线程，性能却很好？</strong></p>
<ul>
<li><strong>基于内存</strong>，速度读写快</li>
<li><strong>IO多路复用</strong>，提高服务的吞吐能力</li>
<li><strong>良好编码</strong>，基于c语言，开源</li>
</ul>
<p><strong>基本数据类型</strong>：</p>
<ul>
<li>String</li>
<li>Hash</li>
<li>List</li>
<li>Set</li>
<li>SortedSet</li>
</ul>
<p><strong>特殊类型</strong>：</p>
<ul>
<li>GE0</li>
<li>BitMap</li>
<li>HyperLog</li>
</ul>
<h1 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h1><h2 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h2><h3 id="String"><a href="#String" class="headerlink" title="String"></a>String</h3><p>value分类：字符串，整数，浮点数</p>
<p>value数据：以字节数组形式存储，大小为512m，字符串类型采用ASCII，数字采用二进制</p>
<h3 id="Hash"><a href="#Hash" class="headerlink" title="Hash"></a>Hash</h3><p><strong>概念</strong>：散列，无序字典</p>
<h3 id="List"><a href="#List" class="headerlink" title="List"></a>List</h3><p><strong>概念</strong>：类似于双向链表结构，支持正向检索和反向检索</p>
<p><strong>特点</strong>：</p>
<ul>
<li>有序</li>
<li>元素可重复</li>
<li>插入和删除快</li>
<li>查询速度一般</li>
</ul>
<p><strong>用List模拟栈</strong>：入口和出口在同一边</p>
<p><strong>用List模拟队列</strong>：入口和出口在不同边</p>
<p><strong>用List模拟阻塞队列</strong>：入口和出口在不同边，获取数据使用brpop，blpop</p>
<h3 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h3><p><strong>概念</strong>：类似于java的HashSet，value为null的HashMap</p>
<p><strong>特点</strong>：</p>
<ul>
<li>无序</li>
<li>元素不可重复</li>
<li>查找快</li>
<li>支持交集，并集，差集</li>
</ul>
<h3 id="SortedSet"><a href="#SortedSet" class="headerlink" title="SortedSet"></a>SortedSet</h3><p><strong>概念</strong>：类似java的TreeSet，但是底层相差很大</p>
<p><strong>底层</strong>：每一个元素都有score属性，实现使用跳表SkipList+hash</p>
<p><strong>特点</strong>：</p>
<ul>
<li>可排序</li>
<li>元素不重复</li>
<li>查询速度快</li>
</ul>
<h1 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h1><h2 id="jedis"><a href="#jedis" class="headerlink" title="jedis"></a>jedis</h2><p><strong>优点</strong>：</p>
<ul>
<li>命名与redis一致，简单实用，学习成本低</li>
</ul>
<p><strong>缺点</strong>：</p>
<ul>
<li>不支持分布式</li>
<li>jedis实例线程不安全，需要基于线程池来实现</li>
</ul>
<p><strong>使用步骤</strong>：</p>
<ol>
<li>引入依赖</li>
<li>创建jedis对象，建立连接</li>
<li>使用jedis</li>
<li>释放连接</li>
</ol>
<h3 id="并发"><a href="#并发" class="headerlink" title="并发"></a>并发</h3><p><strong>情况</strong>：多线程并发访问资源会导致线程不安全</p>
<p><strong>解决方案</strong>：给每一个线程创建独立的jedis对象，频繁创建和销毁jedis有很大的性能损耗，所以使用线程池</p>
<p><strong>连接池用法</strong>：</p>
<ol>
<li>定义工具类，初始化连接池</li>
<li>配置连接池</li>
<li>创建连接池对象</li>
</ol>
<h2 id="Spring-Data-Redis"><a href="#Spring-Data-Redis" class="headerlink" title="Spring Data Redis"></a>Spring Data Redis</h2><p><strong>概念</strong>：Spring中数据操作的模块</p>
<p><strong>特点</strong>：</p>
<ul>
<li>对各种数据库集成，整合不同Redis客户端（lettuce，jedis）</li>
<li>提供RedisTemplate统一API操作Redis</li>
<li>支持Redis的发布订阅模型</li>
<li>支持Redis哨兵模式和Redis集群</li>
<li>支持基于Lettuce的响应式编程</li>
<li>支持基于JDK、JSON、字符串、Spring对象的数据序列化及反序列化</li>
<li>支持基于Redis的JDKCollection实现，重新实现数据结构集合，使其实现分布式跨系统</li>
</ul>
<h3 id="RedisSerializer"><a href="#RedisSerializer" class="headerlink" title="RedisSerializer"></a>RedisSerializer</h3><p><strong>使用</strong>：RedisTemplate接收任意Object对象作为值，写入前将Object对象序列化成字节形式，默认采用JDK序列化</p>
<p><strong>缺点</strong>：</p>
<ul>
<li>可读性大</li>
<li>占用内存大</li>
</ul>
<p><strong>修改函数</strong>：</p>
<ul>
<li>将key的序列化方式改为RedisSerializer.string()</li>
<li>将value的序列化方式改为JSONRedisSerializer</li>
</ul>
<p><strong>问题</strong>：存入对象时，为了实现序列化和反序列化，redis除了存入属性，还存了该反序列化成什么对象的路径，因此占用空间大</p>
<p><strong>解决方案</strong>：key和value都使用RedisSerializer.string()，key和value都存储String类型，要存储对象的话，手动完成对象的序列化和反序列化</p>
<p><strong>StringRedisTemplate</strong>：key和value序列化方式都使用RedisSerializer.string()</p>
<h2 id="lettuce"><a href="#lettuce" class="headerlink" title="lettuce"></a>lettuce</h2><p><strong>优点</strong>：</p>
<ul>
<li>基于Netty来实现，支持同步，异步和响应式编程方式</li>
<li>线程安全</li>
<li>支持Redis的哨兵模式、集群模式、管道模式</li>
</ul>
<h2 id="redission"><a href="#redission" class="headerlink" title="redission"></a>redission</h2><p><strong>优点</strong>：</p>
<ul>
<li>基于Redis实现的分布式，支持同步</li>
<li>是可伸缩的java数据结构集合</li>
<li>包含Map、Queue、Lock、Semaphore、AtomicLong等功能</li>
</ul>
<h1 id="原理-数据结构"><a href="#原理-数据结构" class="headerlink" title="原理-数据结构"></a>原理-数据结构</h1><h2 id="动态字符串SDS"><a href="#动态字符串SDS" class="headerlink" title="动态字符串SDS"></a>动态字符串SDS</h2><ul>
<li><p>key是字符串，value往往是字符串或是字符串的集合</p>
</li>
<li><p>底层是c语言，但是没有直接使用C语言的字符串</p>
</li>
<li><pre><code class="c">//声明字符串，hello字符串的字面值，无法修改
char* s = &quot;hello&quot;
//本质是字符数组：&#123;&#39;h&#39;,&#39;e&#39;,&#39;l&#39;,&#39;l&#39;,&#39;o&#39;,&#39;\0&#39;&#125;
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">  + 获取字符串长度需要通过运算：数组长度-1</span><br><span class="line">  + 非二进制安全，要求字符串中不能出现&#x27;\0&#x27;</span><br><span class="line">  + 不可修改</span><br><span class="line"></span><br><span class="line">### 介绍</span><br><span class="line"></span><br><span class="line">**概念**：新构建 简单动态字符串 Simple Dynamic String，简称SDS</span><br><span class="line"></span><br><span class="line">**优点**：</span><br><span class="line"></span><br><span class="line">+ 二进制安全</span><br><span class="line">+ 快速获取数组长度，时间复杂度O(1)</span><br><span class="line">+ 具备动态扩容</span><br><span class="line">+ 实现内存预分配，减少内存分配次数</span><br><span class="line">+ alloc，len都不包含结束标识</span><br><span class="line"></span><br><span class="line">### 命令</span><br><span class="line"></span><br></pre></td></tr></table></figure>
set name 虎哥
</code></pre>
</li>
</ul>
<pre><code>
过程：redis会在底层创建两个SDS，一个存放name，一个存放虎哥

### 底层结构

![_cgi-bin_mmwebwx-bin_webwxgetmsgimg__&amp;MsgID=7300947724642340777&amp;skey=@crypt_f5789beb_88f6375a11024f7aa546f972ff81a726&amp;mmweb_appid=wx_webfilehelper](D:\blog\source\_posts\redis.assets\_cgi-bin_mmwebwx-bin_webwxgetmsgimg__&amp;MsgID=7300947724642340777&amp;skey=@crypt_f5789beb_88f6375a11024f7aa546f972ff81a726&amp;mmweb_appid=wx_webfilehelper.jpg)

**内存预分配**：

+ 如果新字符串（原字符串+扩展的字符）&gt;1M，则扩展后新字符串长度为两倍+1
+ 如果新字符串（原字符串+扩展的字符）&lt;1M，则扩展后新字符串长度+1M+1



## IntSet

### 介绍

**概念**：整数集合，基于整数数组实现

**特点**：

+ 长度可变
+ 有序
+ 自己实现增删改查
+ 默认升序
+ 唯一，元素不重复
+ 底层采用二分查找方式来查询
+ 具备升级机制，可以节省内存空间
+ **适合数据量不多的情况**



### 底层结构

![_cgi-bin_mmwebwx-bin_webwxgetmsgimg__&amp;MsgID=3970825393506236039&amp;skey=@crypt_f5789beb_88f6375a11024f7aa546f972ff81a726&amp;mmweb_appid=wx_webfilehelper](D:\blog\source\_posts\redis.assets\_cgi-bin_mmwebwx-bin_webwxgetmsgimg__&amp;MsgID=3970825393506236039&amp;skey=@crypt_f5789beb_88f6375a11024f7aa546f972ff81a726&amp;mmweb_appid=wx_webfilehelper.jpg)

### 插入元素

若大小超出原本数据结构的编码范围，则自动升级编码方式到合适的大小

1. 按新元素的编码方式和元素数量进行扩容数组
2. 倒序依次将数组元素拷贝到扩容后的正确位置
3. 将待添加元素加入数组末尾
4. 最后将intset的encoding，length进行修改

实现自动排序的方法：每次插入都通过二分查找找到该插入的下标



## Dict

### 介绍

**概念**：键和值的映射关系通过dict来实现

**组成**：哈希表，哈希节点，字典



### 底层结构





## ZipList

### 介绍

### 底层结构

## QuickList

### 介绍

### 底层结构

## SkipList

### 介绍

### 底层结构

## RedisObject

### 介绍

### 底层结构





# 原理-网络模型









# 原理-通信协议









# 原理-内存策略
</code></pre>
]]></content>
      <categories>
        <category>Redis</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>一些总结的方法</title>
    <url>/2023/10/15/%E4%B8%80%E4%BA%9B%E6%80%BB%E7%BB%93%E7%9A%84%E6%96%B9%E6%B3%95%E8%AE%BA/</url>
    <content><![CDATA[<h1 id="数据库MySQL导入sql文件的多种方法"><a href="#数据库MySQL导入sql文件的多种方法" class="headerlink" title="数据库MySQL导入sql文件的多种方法"></a>数据库MySQL导入sql文件的多种方法</h1><h2 id="方法一：使用Data-Import"><a href="#方法一：使用Data-Import" class="headerlink" title="方法一：使用Data Import"></a>方法一：使用Data Import</h2><p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015172227382.png" alt="image-20231015172227382"></p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015172330357.png" alt="image-20231015172330357"></p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015172400199.png" alt="image-20231015172400199"></p>
<p>点击刷新</p>
<p><img src="D:\blog\source_posts\java苍穹外卖.assets\image-20231015172436013.png" alt="image-20231015172436013"></p>
<h2 id="方法二：使用闪电"><a href="#方法二：使用闪电" class="headerlink" title="方法二：使用闪电"></a>方法二：使用闪电</h2><p><img src="D:\blog\source_posts\数据库MySQL导入sql文件的多种方法.assets\image-20231015173205571.png" alt="image-20231015173205571"></p>
<p><img src="D:\blog\source_posts\数据库MySQL导入sql文件的多种方法.assets\image-20231015173224684.png" alt="image-20231015173224684"></p>
<h1 id="git"><a href="#git" class="headerlink" title="git"></a>git</h1><h2 id="方法一：git-bash"><a href="#方法一：git-bash" class="headerlink" title="方法一：git bash"></a>方法一：git bash</h2><p>链接：</p>
<h2 id="方法二：idea"><a href="#方法二：idea" class="headerlink" title="方法二：idea"></a>方法二：idea</h2><h3 id="git忽略的目录"><a href="#git忽略的目录" class="headerlink" title="git忽略的目录"></a>git忽略的目录</h3><p><img src="D:\blog\source_posts\一些总结的方法论.assets\image-20231015170534742.png" alt="image-20231015170534742"></p>
<h3 id="创建本地仓库"><a href="#创建本地仓库" class="headerlink" title="创建本地仓库"></a>创建本地仓库</h3><p><img src="D:\blog\source_posts\一些总结的方法论.assets\image-20231015170646400.png" alt="image-20231015170646400"></p>
<p><img src="D:\blog\source_posts\一些总结的方法论.assets\image-20231015170737587.png" alt="image-20231015170737587"></p>
<h3 id="初次提交"><a href="#初次提交" class="headerlink" title="初次提交"></a>初次提交</h3><p>可以加上commit的message</p>
<p><img src="D:\blog\source_posts\一些总结的方法论.assets\image-20231015171010250.png" alt="image-20231015171010250"></p>
<h3 id="创建远程仓库"><a href="#创建远程仓库" class="headerlink" title="创建远程仓库"></a>创建远程仓库</h3><p><img src="D:\blog\source_posts\一些总结的方法论.assets\image-20231015171236739.png" alt="image-20231015171236739"></p>
<h3 id="推送项目"><a href="#推送项目" class="headerlink" title="推送项目"></a>推送项目</h3><p><img src="D:\blog\source_posts\一些总结的方法论.assets\image-20231015171347456.png" alt="image-20231015171347456"></p>
<p><img src="D:\blog\source_posts\一些总结的方法论.assets\image-20231015171422989.png" alt="image-20231015171422989"></p>
<p><img src="D:\blog\source_posts\一些总结的方法论.assets\image-20231015171530145.png" alt="image-20231015171530145"></p>
<h3 id="提交和推送的提醒"><a href="#提交和推送的提醒" class="headerlink" title="提交和推送的提醒"></a>提交和推送的提醒</h3><p><img src="D:\blog\source_posts\一些总结的方法论.assets\image-20231015171452673.png" alt="image-20231015171452673"></p>
<h1 id="Idea调试"><a href="#Idea调试" class="headerlink" title="Idea调试"></a>Idea调试</h1><ul>
<li>跳到下一个断点处</li>
</ul>
<p><img src="D:\blog\source_posts\一些总结的方法论.assets\image-20231016151525162.png" alt="image-20231016151525162"></p>
<ul>
<li>最左边：跳到下一条语句</li>
<li>中间：进入该语句</li>
<li>右边：跳出该语句</li>
</ul>
<p><img src="D:\blog\source_posts\一些总结的方法论.assets\image-20231016141652764.png" alt="image-20231016141652764"></p>
<ul>
<li>左边：运行</li>
<li>右边：调试</li>
</ul>
<p><img src="D:\blog\source_posts\一些总结的方法论.assets\image-20231016141803526.png" alt="image-20231016141803526"></p>
<ul>
<li>打开一个文件以后，快速定位该文件的位置</li>
</ul>
<p><img src="D:\blog\source_posts\一些总结的方法论.assets\image-20231016141838703.png" alt="image-20231016141838703"></p>
<h1 id="Idea的TODO"><a href="#Idea的TODO" class="headerlink" title="Idea的TODO"></a>Idea的TODO</h1><p><img src="D:\blog\source_posts\一些总结的方法论.assets\image-20231016152553095.png" alt="image-20231016152553095"></p>
<h1 id="使用DataGrip连接虚拟机中的MySQL"><a href="#使用DataGrip连接虚拟机中的MySQL" class="headerlink" title="使用DataGrip连接虚拟机中的MySQL"></a>使用DataGrip连接虚拟机中的MySQL</h1><p>链接：</p>
<h1 id="部署项目"><a href="#部署项目" class="headerlink" title="部署项目"></a>部署项目</h1><p>链接：</p>
]]></content>
      <categories>
        <category>MySQL,sql文件</category>
      </categories>
      <tags>
        <tag>MySQL,sql文件</tag>
      </tags>
  </entry>
  <entry>
    <title>会话</title>
    <url>/2024/02/21/%E4%BC%9A%E8%AF%9D/</url>
    <content><![CDATA[<h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><p><strong>会话概念</strong>：当浏览器与服务器第一次建立连接以后，会话就开始了，直到某一方断开连接，会话结束。在会话期间，可以有无数请求和响应。</p>
<p><strong>会话跟踪概念</strong>：同一个浏览器发起的多个请求之间是共享数据的，但是http协议是无状态的，每次请求都是独立的，所以为了共享数据需要进行会话跟踪</p>
<p><strong>会话跟踪方案</strong>：</p>
<ol>
<li>cookie</li>
<li>session</li>
<li>JWT令牌技术</li>
</ol>
<h1 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h1><p>cookie是早期互联网发送web请求时携带的信息，用户第一次向服务器端发送请求，验证通过以后，服务器会向用户发送一个cookie，表示你现在已经是登陆状态。用户接收到cookie，浏览器会自动将其存储到缓存中，并且在下一次发送请求时自动携带上。cookie中早期存储用户名和密码等，后面由于不安全，就将用户信息和密钥拼接起来，通过hash算法生成数字签名，将这个签名和数据作为cookie。由于不想太多数据保存在客户端，因此session出现了。</p>
<p><strong>缺点</strong>：</p>
<ul>
<li>移动端不能支持cookie机制</li>
<li>不安全，用户可以自己禁用cookie</li>
<li>cookie不能跨域</li>
</ul>
<p>跨域：在url中，在三个维度：协议，IP&#x2F;域名，端口，有其中一个不同，都称之为跨域</p>
<h1 id="session"><a href="#session" class="headerlink" title="session"></a>session</h1><p>session是将用户名和密码存放在服务器端，服务器端返回一个随机长度的sessionID，用户后续可以通过sessionID作为key来访问服务器获得其用户信息。浏览器会将这个session存储在cookie。session的本质还是cookie。另外我们的终端除了网页，还有APP，小程序，他们没有cookie机制，在发送请求时并不携带cookie，因此token出现了。</p>
<p><strong>优点</strong>：</p>
<ul>
<li>存储在服务器端，安全</li>
</ul>
<p><strong>缺点</strong>：</p>
<ul>
<li>基于cookie实现，所以有cookie的缺点</li>
<li>在服务器集群的环境下，无法直接使用session</li>
</ul>
<h2 id="cookie和session的区别"><a href="#cookie和session的区别" class="headerlink" title="cookie和session的区别"></a>cookie和session的区别</h2><ol>
<li>session有唯一的标识sessionID</li>
<li>使用session，数据保存在服务端中，使用cookie，数据保存在浏览器中</li>
</ol>
<h1 id="token"><a href="#token" class="headerlink" title="token"></a>token</h1><p>token就是sessionID，其会话数据也存储在服务器里面。</p>
<p>token &#x3D;  session - cookie</p>
<p>token需要自行维护</p>
<h1 id="JWT"><a href="#JWT" class="headerlink" title="JWT"></a>JWT</h1><h2 id="介绍-1"><a href="#介绍-1" class="headerlink" title="介绍"></a>介绍</h2><p><strong>全称</strong>： json web token</p>
<p><strong>概念</strong>：定义简洁，自包含的格式</p>
<ul>
<li>经过加密</li>
<li>包含用户信息</li>
<li>具有时效性</li>
<li>固定格式字符串</li>
</ul>
<p><strong>作用</strong>：解决客户端访问服务端的身份认证问题</p>
<p><strong>历史</strong>：但是在分布式中，容易造成服务器A中不存在用户信息A，服务器B中存在用户信息A，于是搞出了一个中心化服务器，专门存储session。但是当这个单个服务器宕机以后，无法提供服务，是极不稳定的。因此我们还是希望数据保存在客户端。所以token就不再是随机长度的sessionKey，而是后期的cookie：数据+签名（数据拼接密钥通过hash算法映射）。但是上述的签名并没有规则，因此出现了很多规则签名和数据的机制，例如JWT。</p>
<p><strong>优点</strong>：</p>
<ul>
<li>安全，数据存储在客户端</li>
<li>减轻服务器端存储的压力</li>
<li>支持PC端，移动端</li>
<li>解决集群环境下的认证问题</li>
</ul>
<p><strong>缺点</strong>：自己实现</p>
<h2 id="组成"><a href="#组成" class="headerlink" title="组成"></a>组成</h2><p>JWT包含的token由三部分：头header，有效载荷payload，签名signature</p>
<p>签名优点：可以携带数据，可以作为鉴权凭证</p>
<p>header，payload和signature三部分通过’.‘合成一个JWT<img src="https://cdn.nlark.com/yuque/0/2023/png/39247131/1697432665790-7f250b43-0d09-4365-9d49-19d6f546c14a.png#averageHue=%23cde7af&clientId=uafa86483-b16b-4&from=paste&height=273&id=uf23ba91c&originHeight=300&originWidth=1550&originalType=binary&ratio=1.100000023841858&rotation=0&showTitle=false&size=656111&status=done&style=none&taskId=ucd55e8cd-8f9e-4f6f-801e-4fa2ba6cb38&title=&width=1409.0908785496867" alt="image.png"></p>
<p><strong>header</strong>：存储加密算法，数据类型等元数据</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;alg&quot;</span><span class="punctuation">:</span><span class="string">&quot;HS256&quot;</span><span class="punctuation">,</span><span class="comment">//加密算法</span></span><br><span class="line">  <span class="attr">&quot;typ&quot;</span><span class="punctuation">:</span><span class="string">&quot;JWT&quot;</span><span class="comment">//数据类型</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p><strong>payload</strong>：存储自定义的非敏感信息，比如用户的名称，角色。可用于数据的传递</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span><span class="string">&quot;Lily&quot;</span><span class="punctuation">,</span><span class="comment">//用户名字</span></span><br><span class="line">  <span class="attr">&quot;role&quot;</span><span class="punctuation">:</span><span class="string">&quot;admin&quot;</span><span class="comment">//用户角色</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p><strong>signture</strong>：</p>
<p><strong>形成过程</strong>：</p>
<p><strong>编码</strong>：header和payload通过Base64编码之后拼接起来</p>
<p><strong>加密</strong>：通过<strong>header中存储的加密算法</strong> 和 <strong>保存在服务器端的密钥</strong> 进行加密</p>
<p><strong>签名作用</strong>：进行数据校验，只有原始数据和附加的签名一致的时候，服务器才会认为<strong>这个JWT是完整的，且没有被篡改</strong></p>
<h2 id="传统方案的缺点"><a href="#传统方案的缺点" class="headerlink" title="传统方案的缺点"></a>传统方案的缺点</h2><p>查看弊端部分</p>
<p><a href="https://www.yuque.com/xiaoli-q1ghi/xoywqo/luzpll8bbu8bhhga?view=doc_embed">session和cookie</a></p>
<h2 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h2><ul>
<li>JWT无需保存在服务器内存中</li>
</ul>
<h2 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h2><p><img src="https://cdn.nlark.com/yuque/0/2023/jpeg/39247131/1697434327087-a7ea218a-7782-4134-937d-6fb7707f47fe.jpeg"></p>
<h1 id="服务器校验JWT"><a href="#服务器校验JWT" class="headerlink" title="服务器校验JWT"></a>服务器校验JWT</h1><h2 id="接收数据"><a href="#接收数据" class="headerlink" title="接收数据"></a>接收数据</h2><p>接受客户端发送的JWT<br />header和payload是<strong>原始</strong>的</p>
<h2 id="计算"><a href="#计算" class="headerlink" title="计算"></a>计算</h2><p><strong>解码</strong>：通过Base64解码header和payload</p>
<p><strong>解密</strong>：</p>
<ul>
<li>header解码以后得到加密算法</li>
<li>使用加密算法和服务器的密钥进行加密得到签名</li>
<li>签名比对</li>
</ul>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><h3 id="加入依赖"><a href="#加入依赖" class="headerlink" title="加入依赖"></a>加入依赖</h3><p>在maven的pom文件中加入</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">	&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;</span><br><span class="line">	&lt;artifactId&gt;jjwt&lt;/artifactId&gt;</span><br><span class="line">	&lt;version&gt;0.9.0&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>
<h3 id="创建JWT"><a href="#创建JWT" class="headerlink" title="创建JWT"></a>创建JWT</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">long</span> <span class="variable">oneDay</span> <span class="operator">=</span> <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span> * <span class="number">1000</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">secret</span> <span class="operator">=</span> <span class="string">&quot;admin&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">base64EncodedSecretKey</span> <span class="operator">=</span> TextCodec.BASE64.encode(secretKey.getBytes());</span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">generateToken</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">JwtBuilder</span> <span class="variable">builder</span> <span class="operator">=</span> Jwts.builder();</span><br><span class="line">    <span class="keyword">return</span> build</span><br><span class="line">    <span class="comment">//header</span></span><br><span class="line">    .setHeaderParam(<span class="string">&quot;typ&quot;</span>,<span class="string">&quot;JWT&quot;</span>)<span class="comment">//设置类型</span></span><br><span class="line">    .setHeaderParam(<span class="string">&quot;alg&quot;</span>,<span class="string">&quot;HS256&quot;</span>)<span class="comment">//设置算法</span></span><br><span class="line">    <span class="comment">//payload</span></span><br><span class="line">    .claim(<span class="string">&quot;username&quot;</span>,<span class="string">&quot;tom&quot;</span>)</span><br><span class="line">    .claim(<span class="string">&quot;userId&quot;</span>,<span class="string">&quot;123&quot;</span>)</span><br><span class="line">    <span class="comment">//expire time</span></span><br><span class="line">    .setExpiration(<span class="keyword">new</span> <span class="title class_">Data</span>(System.currentTimeMillis() + openDay))</span><br><span class="line">    <span class="comment">//signature</span></span><br><span class="line">    .signWith(SignatureAlgorithm.HS256,base64EncodedSecretKey)</span><br><span class="line">    .compact();<span class="comment">//生成字符串</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="解析JWT"><a href="#解析JWT" class="headerlink" title="解析JWT"></a>解析JWT</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">parseToken</span><span class="params">(String jwt)</span>&#123;</span><br><span class="line">	<span class="comment">//获取parser对象</span></span><br><span class="line">	<span class="type">JwtParser</span> <span class="variable">parser</span> <span class="operator">=</span> Jwts.parser();</span><br><span class="line">	<span class="comment">//得到claims对象</span></span><br><span class="line">	Jws&lt;claims&gt; claimsJws =</span><br><span class="line">	parser.setSigningKey(base64EncodedSecretKey)<span class="comment">//获取编码以后的字符串</span></span><br><span class="line">	.parseClaimsJws(jwt);<span class="comment">//解析jwt，进行校验</span></span><br><span class="line">	<span class="type">Claims</span> <span class="variable">claims</span> <span class="operator">=</span> claimsJws.getBody();</span><br><span class="line">	System.out.println(claims.get(<span class="string">&quot;username&quot;</span>));<span class="comment">//解析用户名</span></span><br><span class="line">	System.out.println(claims.getExpiration());<span class="comment">//解析过期时间</span></span><br><span class="line">&#125;.<span class="keyword">catch</span>(JwtException e)&#123;</span><br><span class="line">    <span class="comment">//添加异常处理，如签名错误，过期错误</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="从请求头中获取令牌token"><a href="#从请求头中获取令牌token" class="headerlink" title="从请求头中获取令牌token"></a>从请求头中获取令牌token</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1、从请求头中获取令牌</span></span><br><span class="line"><span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> request.getHeader(jwtProperties.getAdminTokenName());</span><br></pre></td></tr></table></figure>
<h3 id="校验令牌"><a href="#校验令牌" class="headerlink" title="校验令牌"></a>校验令牌</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//2、校验令牌</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    log.info(<span class="string">&quot;jwt校验:&#123;&#125;&quot;</span>, token);</span><br><span class="line">    <span class="type">Claims</span> <span class="variable">claims</span> <span class="operator">=</span> JwtUtil.parseJWT(jwtProperties.getAdminSecretKey(), token);</span><br><span class="line">    <span class="type">Long</span> <span class="variable">empId</span> <span class="operator">=</span> Long.valueOf(claims.get(JwtClaimsConstant.EMP_ID).toString());</span><br><span class="line">    log.info(<span class="string">&quot;当前员工id：&quot;</span>, empId);</span><br><span class="line">    BaseContext.setCurrentId(empId);</span><br><span class="line">    <span class="comment">//3、通过，放行</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception ex) &#123;</span><br><span class="line">    <span class="comment">//4、不通过，响应401状态码</span></span><br><span class="line">    response.setStatus(<span class="number">401</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="统一拦截"><a href="#统一拦截" class="headerlink" title="统一拦截"></a>统一拦截</h1><h2 id="过滤器Filter"><a href="#过滤器Filter" class="headerlink" title="过滤器Filter"></a>过滤器Filter</h2><p><strong>概念</strong>：JavaWeb的三大组件之一，拦截对资源的请求，实现登录校验，敏感字段脱敏，统一编码处理等。</p>
<h3 id="使用-1"><a href="#使用-1" class="headerlink" title="使用"></a>使用</h3><ol>
<li>定义Filter类，重写方法</li>
<li>在Filter类上添加@WebFilter注解，配置拦截的url路径</li>
</ol>
<h3 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h3><ol>
<li>用户端发送请求到服务端，首先会进入过滤器</li>
<li>过滤器重写Filter方法，分为三部分：放行之前的逻辑，doFilter（放行），放行之后的逻辑</li>
<li>Filter方法有一个参数传入过滤器链Filterchain，如果该chain是最后一个过滤器，则放行后可直接访问资源，否则进入下一个过滤器</li>
<li>访问完资源以后会先放回到距离最近的过滤器，执行放行之后的逻辑</li>
<li>过滤器通过类名来判断优先级，A最先，Z最后</li>
</ol>
<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ul>
<li>配置路径可以配置某个文件&#x2F;file1，或者某个路径下的所有文件&#x2F;resource，或者所有文件&#x2F;*</li>
</ul>
<h2 id="拦截器Interceptor"><a href="#拦截器Interceptor" class="headerlink" title="拦截器Interceptor"></a>拦截器Interceptor</h2><h3 id="使用-2"><a href="#使用-2" class="headerlink" title="使用"></a>使用</h3><ol>
<li>定义Interceptor类，重写HandlerInterceptor接口</li>
<li>配置拦截的路径</li>
</ol>
<h3 id="流程-1"><a href="#流程-1" class="headerlink" title="流程"></a>流程</h3><ol>
<li>请求先进入拦截器，执行放行之前的函数preHandler</li>
<li>符合条件以后，执行放行函数postHandler</li>
<li>执行完上述操作以后，继续执行AfterCompletion函数，视图渲染完毕以后再运行</li>
</ol>
<h3 id="注意事项-1"><a href="#注意事项-1" class="headerlink" title="注意事项"></a>注意事项</h3><p>配置路径和Filter不同</p>
<ul>
<li>配置路径可以配置所有文件&#x2F;**</li>
<li>&#x2F;*只能匹配所有的一级路径，如果是前缀相同的二级路径依旧无法匹配</li>
<li>有三个函数：preHandler，postHandler，AfterCompletion</li>
</ul>
<h2 id="拦截器和过滤器的区别"><a href="#拦截器和过滤器的区别" class="headerlink" title="拦截器和过滤器的区别"></a>拦截器和过滤器的区别</h2><p><img src="D:\blog\source_posts\会话.assets\9dba7b5b4378d87d2d180312e511158.jpg" alt="9dba7b5b4378d87d2d180312e511158"></p>
<ul>
<li>实现的接口不同，Filter实现Filter接口，Interceptor实现HandlerInterceptor接口</li>
<li>配置的资源路径格式不同</li>
<li>过滤器最先运行，拦截所有请求，而拦截器只能拦截spring框架里面的请求，在访问DapatcherServlet前端控制器之后运行</li>
<li>原本解析浏览器的数据需要通过tomcat服务器，但是我们在idea里面运行的时候，是在过滤器后通过前端控制器来解析数据，之后再通过拦截器</li>
<li>拦截器有三个函数：放行前preHandler，放行后postHandler，AfterCompletion；过滤器只有放行前，方形函数，放行后函数。</li>
</ul>
<h2 id="验证登录的业务逻辑"><a href="#验证登录的业务逻辑" class="headerlink" title="验证登录的业务逻辑"></a>验证登录的业务逻辑</h2><ol>
<li>将登录的url排除在外，是登录请求直接放行</li>
<li>判断jwt是否存在且合法，是的话放行</li>
</ol>
<h1 id="提问"><a href="#提问" class="headerlink" title="提问"></a>提问</h1><p>为什么要有过滤器？</p>
]]></content>
      <categories>
        <category>会话</category>
      </categories>
      <tags>
        <tag>会话</tag>
      </tags>
  </entry>
  <entry>
    <title>刷题系统项目详细介绍文档</title>
    <url>/2023/10/11/%E5%88%B7%E9%A2%98%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE%E8%AF%A6%E7%BB%86%E4%BB%8B%E7%BB%8D/</url>
    <content><![CDATA[<h1 id="目标及需求"><a href="#目标及需求" class="headerlink" title="目标及需求"></a>目标及需求</h1><h2 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h2><p>熟练掌握项目中出现的所有问题及解决方案，以及所用技术栈的具体知识</p>
<p>进行面试演练</p>
<h2 id="toDolist"><a href="#toDolist" class="headerlink" title="toDolist"></a>toDolist</h2><h3 id="重新运行项目"><a href="#重新运行项目" class="headerlink" title="重新运行项目"></a>重新运行项目</h3><h3 id="上传至gitee和github上"><a href="#上传至gitee和github上" class="headerlink" title="上传至gitee和github上"></a>上传至gitee和github上</h3><h3 id="将项目部署至tomcat服务器"><a href="#将项目部署至tomcat服务器" class="headerlink" title="将项目部署至tomcat服务器"></a>将项目部署至tomcat服务器</h3><h3 id="将项目构建的大致流程进行文字版梳理"><a href="#将项目构建的大致流程进行文字版梳理" class="headerlink" title="将项目构建的大致流程进行文字版梳理"></a>将项目构建的大致流程进行文字版梳理</h3><h3 id="搜集网上面试官可能会问的问题，并逐个进行分析解答，尽量做到全面"><a href="#搜集网上面试官可能会问的问题，并逐个进行分析解答，尽量做到全面" class="headerlink" title="搜集网上面试官可能会问的问题，并逐个进行分析解答，尽量做到全面"></a>搜集网上面试官可能会问的问题，并逐个进行分析解答，尽量做到全面</h3><h3 id="对技术栈的知识进行全面学习"><a href="#对技术栈的知识进行全面学习" class="headerlink" title="对技术栈的知识进行全面学习"></a>对技术栈的知识进行全面学习</h3><h3 id="搜集技术栈相关的问题，记录并且分析解答背诵"><a href="#搜集技术栈相关的问题，记录并且分析解答背诵" class="headerlink" title="搜集技术栈相关的问题，记录并且分析解答背诵"></a>搜集技术栈相关的问题，记录并且分析解答背诵</h3><h3 id="根据面试官可能会问的问题演练一遍"><a href="#根据面试官可能会问的问题演练一遍" class="headerlink" title="根据面试官可能会问的问题演练一遍"></a>根据面试官可能会问的问题演练一遍</h3><h3 id="更新完善简历"><a href="#更新完善简历" class="headerlink" title="更新完善简历"></a>更新完善简历</h3><h3 id="反问面试官的问题"><a href="#反问面试官的问题" class="headerlink" title="反问面试官的问题"></a>反问面试官的问题</h3><h1 id="行动"><a href="#行动" class="headerlink" title="行动"></a>行动</h1><h2 id="重新运行项目-1"><a href="#重新运行项目-1" class="headerlink" title="重新运行项目"></a>重新运行项目</h2><h2 id="上传至gitee和github上-1"><a href="#上传至gitee和github上-1" class="headerlink" title="上传至gitee和github上"></a>上传至gitee和github上</h2><h2 id="将项目部署至tomcat服务器-1"><a href="#将项目部署至tomcat服务器-1" class="headerlink" title="将项目部署至tomcat服务器"></a>将项目部署至tomcat服务器</h2><h2 id="将项目构建的大致流程进行文字版梳理-1"><a href="#将项目构建的大致流程进行文字版梳理-1" class="headerlink" title="将项目构建的大致流程进行文字版梳理"></a>将项目构建的大致流程进行文字版梳理</h2><h2 id="搜集网上面试官可能会问的问题，并逐个进行分析解答，尽量做到全面-1"><a href="#搜集网上面试官可能会问的问题，并逐个进行分析解答，尽量做到全面-1" class="headerlink" title="搜集网上面试官可能会问的问题，并逐个进行分析解答，尽量做到全面"></a>搜集网上面试官可能会问的问题，并逐个进行分析解答，尽量做到全面</h2><h3 id="在这个项目里，你用到了什么技术，做了什么事情，以及遇到什么困难，如何解决的"><a href="#在这个项目里，你用到了什么技术，做了什么事情，以及遇到什么困难，如何解决的" class="headerlink" title="在这个项目里，你用到了什么技术，做了什么事情，以及遇到什么困难，如何解决的"></a>在这个项目里，你用到了什么技术，做了什么事情，以及遇到什么困难，如何解决的</h3><h2 id="对技术栈的知识进行全面学习-1"><a href="#对技术栈的知识进行全面学习-1" class="headerlink" title="对技术栈的知识进行全面学习"></a>对技术栈的知识进行全面学习</h2><h2 id="搜集技术栈相关的问题，记录并且分析解答背诵-1"><a href="#搜集技术栈相关的问题，记录并且分析解答背诵-1" class="headerlink" title="搜集技术栈相关的问题，记录并且分析解答背诵"></a>搜集技术栈相关的问题，记录并且分析解答背诵</h2><h3 id="Springboot的事务管理"><a href="#Springboot的事务管理" class="headerlink" title="Springboot的事务管理"></a>Springboot的事务管理</h3><h3 id="Mysql走索引和不走索引的区别"><a href="#Mysql走索引和不走索引的区别" class="headerlink" title="Mysql走索引和不走索引的区别"></a>Mysql走索引和不走索引的区别</h3><h3 id="Mysql的in是否会触发全表查询"><a href="#Mysql的in是否会触发全表查询" class="headerlink" title="Mysql的in是否会触发全表查询"></a>Mysql的in是否会触发全表查询</h3><h3 id="大规模的数据如何解决"><a href="#大规模的数据如何解决" class="headerlink" title="大规模的数据如何解决"></a>大规模的数据如何解决</h3><h3 id="Mysql联合索引，where的其中一个，能否查到"><a href="#Mysql联合索引，where的其中一个，能否查到" class="headerlink" title="Mysql联合索引，where的其中一个，能否查到"></a>Mysql联合索引，where的其中一个，能否查到</h3><h3 id="String是基本数据类型吗"><a href="#String是基本数据类型吗" class="headerlink" title="String是基本数据类型吗"></a>String是基本数据类型吗</h3><p>不是，java的基础数据类型有八种，byte，short，char，int，long，float，double，boolean。而String属于一种特殊的对象类型，不属于基本数据类型</p>
<h3 id="Int可以转byte吗，有什么缺点？"><a href="#Int可以转byte吗，有什么缺点？" class="headerlink" title="Int可以转byte吗，有什么缺点？"></a>Int可以转byte吗，有什么缺点？</h3><p>Int不可以自动转成byte类型，但是可以强制转换，但是强制转换后带来的缺点是精度的损失。因为在java的运算中，所有的数字都会以二进制的补码形式进行运算，int类型是4字节，32bit，而byte类型是1字节，8bit，在转换的过程中，会造成尾数的损失，从而导致精度损失。所以，一般不建议int强转为byte，除非有特殊需求。</p>
<h3 id="三次握手四次挥手"><a href="#三次握手四次挥手" class="headerlink" title="三次握手四次挥手"></a>三次握手四次挥手</h3><h3 id="Int和Integer的区别？"><a href="#Int和Integer的区别？" class="headerlink" title="Int和Integer的区别？"></a>Int和Integer的区别？</h3><h3 id="LinkedList在第十个位置插入元素的过程"><a href="#LinkedList在第十个位置插入元素的过程" class="headerlink" title="LinkedList在第十个位置插入元素的过程"></a>LinkedList在第十个位置插入元素的过程</h3><h3 id="LinkedList和ArrayList的区别"><a href="#LinkedList和ArrayList的区别" class="headerlink" title="LinkedList和ArrayList的区别"></a>LinkedList和ArrayList的区别</h3><h3 id="创建多线程的方法"><a href="#创建多线程的方法" class="headerlink" title="创建多线程的方法"></a>创建多线程的方法</h3><h3 id="Sleep和wait的区别"><a href="#Sleep和wait的区别" class="headerlink" title="Sleep和wait的区别"></a>Sleep和wait的区别</h3><h3 id="类的加载过程（静态变量初始化是在哪个步骤里面）"><a href="#类的加载过程（静态变量初始化是在哪个步骤里面）" class="headerlink" title="类的加载过程（静态变量初始化是在哪个步骤里面）"></a>类的加载过程（静态变量初始化是在哪个步骤里面）</h3><h3 id="JVM中堆包含哪两个部分"><a href="#JVM中堆包含哪两个部分" class="headerlink" title="JVM中堆包含哪两个部分"></a>JVM中堆包含哪两个部分</h3><h3 id="为什么使用Springboot框架？"><a href="#为什么使用Springboot框架？" class="headerlink" title="为什么使用Springboot框架？"></a>为什么使用Springboot框架？</h3><h3 id="什么是死锁？怎么解决死锁？"><a href="#什么是死锁？怎么解决死锁？" class="headerlink" title="什么是死锁？怎么解决死锁？"></a>什么是死锁？怎么解决死锁？</h3><h3 id="Jvm内存模型"><a href="#Jvm内存模型" class="headerlink" title="Jvm内存模型"></a>Jvm内存模型</h3><h3 id="GC垃圾回收机制"><a href="#GC垃圾回收机制" class="headerlink" title="GC垃圾回收机制"></a>GC垃圾回收机制</h3><h3 id="类加载过程"><a href="#类加载过程" class="headerlink" title="类加载过程"></a>类加载过程</h3><h3 id="Mysql的优化"><a href="#Mysql的优化" class="headerlink" title="Mysql的优化"></a>Mysql的优化</h3><h2 id="根据面试官可能会问的问题演练一遍-1"><a href="#根据面试官可能会问的问题演练一遍-1" class="headerlink" title="根据面试官可能会问的问题演练一遍"></a>根据面试官可能会问的问题演练一遍</h2><h3 id="在团队合作的过程中，出现哪些问题，如何解决的？"><a href="#在团队合作的过程中，出现哪些问题，如何解决的？" class="headerlink" title="在团队合作的过程中，出现哪些问题，如何解决的？"></a>在团队合作的过程中，出现哪些问题，如何解决的？</h3><h3 id="说说自己的缺点"><a href="#说说自己的缺点" class="headerlink" title="说说自己的缺点"></a>说说自己的缺点</h3><h3 id="自我介绍"><a href="#自我介绍" class="headerlink" title="自我介绍"></a>自我介绍</h3><h3 id="对公司的了解"><a href="#对公司的了解" class="headerlink" title="对公司的了解"></a>对公司的了解</h3><h3 id="选择这家企业的原因"><a href="#选择这家企业的原因" class="headerlink" title="选择这家企业的原因"></a>选择这家企业的原因</h3><h3 id="选择深圳这座城市的原因"><a href="#选择深圳这座城市的原因" class="headerlink" title="选择深圳这座城市的原因"></a>选择深圳这座城市的原因</h3><h3 id="对自己的职业规划"><a href="#对自己的职业规划" class="headerlink" title="对自己的职业规划"></a>对自己的职业规划</h3><h3 id="如果有时间希望提升自己哪一方面"><a href="#如果有时间希望提升自己哪一方面" class="headerlink" title="如果有时间希望提升自己哪一方面"></a>如果有时间希望提升自己哪一方面</h3><h3 id="觉得相比同学自己的优势在哪里"><a href="#觉得相比同学自己的优势在哪里" class="headerlink" title="觉得相比同学自己的优势在哪里"></a>觉得相比同学自己的优势在哪里</h3><h2 id="反问面试官的问题-1"><a href="#反问面试官的问题-1" class="headerlink" title="反问面试官的问题"></a>反问面试官的问题</h2><h3 id="公司有几个项目开发小组，一个组里面有多少人"><a href="#公司有几个项目开发小组，一个组里面有多少人" class="headerlink" title="公司有几个项目开发小组，一个组里面有多少人"></a>公司有几个项目开发小组，一个组里面有多少人</h3><h3 id="公司常用技术栈有哪些"><a href="#公司常用技术栈有哪些" class="headerlink" title="公司常用技术栈有哪些"></a>公司常用技术栈有哪些</h3>]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>java,后端,项目</tag>
      </tags>
  </entry>
  <entry>
    <title>web前端</title>
    <url>/2023/08/12/%E5%89%8D%E7%AB%AF%E4%B8%89%E4%BB%B6%E5%A5%97/</url>
    <content><![CDATA[<p>链接：<a href="https://www.bilibili.com/video/BV1jj411P7Yp/?spm_id_from=333.337.search-card.all.click&vd_source=05b9305044517a2659100450096dfe80">B站爱打篮球的编程主2023web前端开发课程html5+css3+js全套教程</a></p>
<blockquote>
<p>课程进度：</p>
<p>2023&#x2F;8&#x2F;12：13&#x2F;126</p>
<p>2023&#x2F;8&#x2F;14：21&#x2F;126</p>
<p>2023&#x2F;8&#x2F;15：28&#x2F;126</p>
<p>2023&#x2F;8&#x2F;16：40&#x2F;126</p>
<p>2023&#x2F;8&#x2F;17：60&#x2F;126</p>
<p>2023&#x2F;8&#x2F;18：71&#x2F;126</p>
<p>2023&#x2F;8&#x2F;19：78&#x2F;126</p>
<p>2023&#x2F;8&#x2F;20：89&#x2F;126</p>
<p>2023&#x2F;8&#x2F;21：111&#x2F;126</p>
<p>2023&#x2F;8&#x2F;25：126&#x2F;126</p>
</blockquote>
<h1 id="html5"><a href="#html5" class="headerlink" title="html5"></a>html5</h1><h2 id="基本骨架"><a href="#基本骨架" class="headerlink" title="基本骨架"></a>基本骨架</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>DOCTYPE生命避免浏览器的怪异模式</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">titlt</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>title标签的增加有利于SEO优化（搜索引擎优化），满足搜索引擎的排名需求。</p>
<h2 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h2><h3 id="meta标签"><a href="#meta标签" class="headerlink" title="meta标签"></a>meta标签</h3><p>针对浏览器的配置</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge,chrome=1&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;content-type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;text/html;charset=utf-8&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="常用文本标签"><a href="#常用文本标签" class="headerlink" title="常用文本标签"></a>常用文本标签</h3><p><img src="D:\blog\source_posts\前端三件套.assets\image-20230814111315495.png" alt="image-20230814111315495"></p>
<h3 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h3><p>正确使用<h1>-<h6>标签有利于提升网站排名，只用于标题标签。</p>
<h3 id="段落"><a href="#段落" class="headerlink" title="段落"></a>段落</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="换行"><a href="#换行" class="headerlink" title="换行"></a>换行</h3><p>可以在不产生新段落的情况下换行</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span> 或者 <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="水平线"><a href="#水平线" class="headerlink" title="水平线"></a>水平线</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>包含四个属性：color，width，size（高度），align（对齐方式，left和right）</p>
<h3 id="图片路径"><a href="#图片路径" class="headerlink" title="图片路径"></a>图片路径</h3><h4 id="相对路径"><a href="#相对路径" class="headerlink" title="相对路径"></a>相对路径</h4><p>同级关系 .&#x2F;(可以省略)</p>
<p>子级关系&#x2F;</p>
<p>父级关系..&#x2F;</p>
<h4 id="绝对路径"><a href="#绝对路径" class="headerlink" title="绝对路径"></a>绝对路径</h4><h4 id="网络路径"><a href="#网络路径" class="headerlink" title="网络路径"></a>网络路径</h4><h3 id="超文本链接"><a href="#超文本链接" class="headerlink" title="超文本链接"></a>超文本链接</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;a href&gt;&lt;/a&gt;</span><br><span class="line">a标签里面可以放任意内容</span><br></pre></td></tr></table></figure>



<h3 id="有序列表"><a href="#有序列表" class="headerlink" title="有序列表"></a>有序列表</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;ol&gt;&lt;/ol&gt;</span><br><span class="line">属性type可以选择：1，a，A，i，I</span><br></pre></td></tr></table></figure>



<h3 id="无序列表"><a href="#无序列表" class="headerlink" title="无序列表"></a>无序列表</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;ul&gt;&lt;/ul&gt;</span><br><span class="line">属性type可以选择：disc（实心圆），circle（空心圆），square（小方块），none（不显示）</span><br></pre></td></tr></table></figure>

<p>无序列表和多个列表项的快捷键：ul&gt;li*2（想要的数字）</p>
<h3 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;table&gt;&lt;/table&gt;</span><br><span class="line">&lt;tr&gt;&lt;/tr&gt;行</span><br><span class="line">&lt;td&gt;&lt;/td&gt;列</span><br></pre></td></tr></table></figure>

<p>快捷键：table&gt;tr * 4(想要的数字）&gt;td * 4（想要的数字）{想要的文本信息}</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">table&gt;tr*4&gt;td*4&#123;单元格&#125;</span><br></pre></td></tr></table></figure>

<h4 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h4><p>水平合并（colspan）：保留左边删除右边 </p>
<p>垂直合并（rowspan）：保留上边删除下边</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">//水平合并</span><br><span class="line">//原本代码</span><br><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>单元格6<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>单元格7<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line">//合并单元格6和7</span><br><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span>单元格6和单元格7<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//垂直合并</span><br><span class="line">//原本代码</span><br><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>单元格15<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>单元格20<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line">//合并单元格15和20</span><br><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">rowspan</span>&quot;<span class="attr">2</span>&quot;&gt;</span>单元格15和单元格20<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//既有水平合并又有垂直合并</span><br><span class="line">//原本代码</span><br><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>单元格16<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>单元格17<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>单元格21<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>单元格22<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line">//合并16，17，21，22</span><br><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">&quot;2&quot;</span> <span class="attr">rowspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span>单元格16，17，21，22<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="Form表单"><a href="#Form表单" class="headerlink" title="Form表单"></a>Form表单</h3><p>作用：让网站具有交互性，有用户输入的地方，就一定有表单</p>
<p>概念：由容器和控件组成</p>
<p>属性：action（服务器地址），method（get用于提交少量数据，post用于提交大量数据；get提交的数据url可以看到而post看不到），name</p>
<p>组成：表单标签（form标签），表单域（输入框），表单按钮</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span>&gt;</span>//输入框</span><br><span class="line">    </span><br><span class="line">    //按钮的两种方式</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span></span><br><span class="line">        按钮</span><br><span class="line">    <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="表单元素"><a href="#表单元素" class="headerlink" title="表单元素"></a>表单元素</h4><h5 id="文本框"><a href="#文本框" class="headerlink" title="文本框"></a>文本框</h5><p>文本域：用户要输入字母，数字等内容时</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">    First name: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;firstname&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    Last name: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;lastname&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>密码框</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">    Password: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;pwd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>提交按钮</p>
<p>action属性定义了目的文件的文件名</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;需要替换的文本&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="h5新增标签"><a href="#h5新增标签" class="headerlink" title="h5新增标签"></a>h5新增标签</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">//注意兼容性问题</span><br><span class="line"><span class="tag">&lt;<span class="name">header</span>&gt;</span><span class="tag">&lt;/<span class="name">header</span>&gt;</span>//头部</span><br><span class="line"><span class="tag">&lt;<span class="name">nav</span>&gt;</span><span class="tag">&lt;/<span class="name">nav</span>&gt;</span>//导航栏</span><br><span class="line"><span class="tag">&lt;<span class="name">article</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span>&gt;</span><span class="tag">&lt;/<span class="name">section</span>&gt;</span>//定义文章的节，比如章节，页眉，页脚</span><br><span class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span>//定义完整的内容块，例如一篇完整的论坛帖子，一篇博客文章，一个用户评论等</span><br><span class="line"><span class="tag">&lt;<span class="name">aside</span>&gt;</span><span class="tag">&lt;/<span class="name">aside</span>&gt;</span>//侧边栏标签</span><br><span class="line"><span class="tag">&lt;<span class="name">footer</span>&gt;</span><span class="tag">&lt;/<span class="name">footer</span>&gt;</span>//底部</span><br></pre></td></tr></table></figure>



<h3 id="单标签"><a href="#单标签" class="headerlink" title="单标签"></a>单标签</h3><p>meta</p>
<p>img</p>
<p>br</p>
<p>hr</p>
<p>input</p>
<p>link</p>
<h2 id="块元素和行内元素（内联元素）"><a href="#块元素和行内元素（内联元素）" class="headerlink" title="块元素和行内元素（内联元素）"></a>块元素和行内元素（内联元素）</h2><h3 id="一些概念"><a href="#一些概念" class="headerlink" title="一些概念"></a>一些概念</h3><p>在html5之前元素分类为块级元素和内联元素</p>
<p>在html5之后元素按内容模型来区分，分为：元数据型，区块型，标题型，文档流型，语句型，内嵌型，交互型。</p>
<p>如果元素不属于任一类别，则称为穿透的。</p>
<p>元素属于多个类别时，称为混合的</p>
<h3 id="两者区别"><a href="#两者区别" class="headerlink" title="两者区别"></a>两者区别</h3><p>块级元素默认100%的宽度</p>
<p><img src="D:\blog\source_posts\前端三件套.assets\image-20230814111328649.png" alt="image-20230814111328649"></p>
<h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><p>常见块级元素：div，form，h1-h6，hr，p，table，ul等</p>
<p>常见内联元素：a，b，em，i，span，strong等</p>
<p>行内块级元素（特点：不换行，能够识别宽高）：button，img，input等</p>
<h3 id="如何设置行内元素的宽高"><a href="#如何设置行内元素的宽高" class="headerlink" title="如何设置行内元素的宽高"></a>如何设置行内元素的宽高</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">span</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: block;//将内联元素变成行内元素</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">span</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: inline;//将行内元素变成内联元素</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--注释内容--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>快捷键：ctrl+&#x2F;</p>
<h1 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h1><h2 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h2><p>文件后缀：.css</p>
<p>组成：选择器，以及一条或多条声明</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">h1</span>&#123;//选择器</span></span><br><span class="line"><span class="language-css">        <span class="attribute">color</span>: blue;//一条声明，由属性和值组成</span></span><br><span class="line"><span class="language-css">        <span class="attribute">font-size</span>: <span class="number">12px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="引入方式"><a href="#引入方式" class="headerlink" title="引入方式"></a>引入方式</h2><h3 id="内联样式"><a href="#内联样式" class="headerlink" title="内联样式"></a>内联样式</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;color: red;font-size: 30px&quot;</span>&gt;</span></span><br><span class="line">    我是内联样式方案</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>缺点：维护成本高，缺乏整体性和规划性</p>
<h3 id="内部样式"><a href="#内部样式" class="headerlink" title="内部样式"></a>内部样式</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">h1</span>&#123;//选择器</span></span><br><span class="line"><span class="language-css">        <span class="attribute">color</span>: blue;//一条声明，由属性和值组成</span></span><br><span class="line"><span class="language-css">        <span class="attribute">font-size</span>: <span class="number">12px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>缺点：在多个页面之间容易混乱</p>
<h3 id="外部样式"><a href="#外部样式" class="headerlink" title="外部样式"></a>外部样式</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">href</span>=<span class="string">&quot;xxx.css&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h2><p>所有的标签都可以是选择器</p>
<p>选择所有，而不是一个</p>
<h3 id="全局选择器"><a href="#全局选择器" class="headerlink" title="全局选择器"></a>全局选择器</h3><p>作用：优先级最低，一般做样式初始化</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">*&#123;</span><br><span class="line">	<span class="attribute">font-size</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="元素选择器"><a href="#元素选择器" class="headerlink" title="元素选择器"></a>元素选择器</h3><p>html的元素：p，b，div，a，img，body，span等</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">h1</span>&#123;//选择器</span><br><span class="line">    <span class="attribute">color</span>: blue;//一条声明，由属性和值组成</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="类选择器"><a href="#类选择器" class="headerlink" title="类选择器"></a>类选择器</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;oneclass&quot;</span>&gt;</span></span><br><span class="line">    段落</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;class&quot;</span>&gt;</span></span><br><span class="line">    段落</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.oneclass</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">800px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.oneclass</span>,<span class="selector-class">.class</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">800px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ID选择器"><a href="#ID选择器" class="headerlink" title="ID选择器"></a>ID选择器</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;oneclass&quot;</span>&gt;</span></span><br><span class="line">    段落</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">#oneclass&#123;</span><br><span class="line">    width: 800px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="优先级"><a href="#优先级" class="headerlink" title="优先级"></a>优先级</h3><p>权重用数字衡量</p>
<blockquote>
<p>元素选择器：1</p>
<p>类选择器：10</p>
<p>id选择器：100</p>
<p>内联样式选择器：1000</p>
<p>优先级排序从高到低：行内样式&gt;ID选择器&gt;类选择器&gt;元素选择器</p>
</blockquote>
<h2 id="字体属性"><a href="#字体属性" class="headerlink" title="字体属性"></a>字体属性</h2><p>字体，颜色，大小，加粗，字体样式</p>
<h3 id="color"><a href="#color" class="headerlink" title="color"></a>color</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line">//单词表示</span><br><span class="line"><span class="selector-tag">p</span>&#123;</span><br><span class="line">	<span class="attribute">color</span>: red;//红色</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//十六进制表示</span><br><span class="line"><span class="selector-tag">p</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#00ff00</span>;//绿色</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//rgb表示 red green blue</span><br><span class="line"><span class="selector-tag">p</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">255</span>,<span class="number">0</span>,<span class="number">0</span>);//黑色</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//rgba表示 <span class="selector-tag">a</span>表示透明度</span><br><span class="line"><span class="selector-tag">p</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>);//黑色，<span class="selector-tag">a</span>=<span class="number">1</span>表示完全不透明度，表示范围：<span class="number">0</span>~<span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="font-size"><a href="#font-size" class="headerlink" title="font-size"></a>font-size</h3><blockquote>
<p>最小是12px</p>
</blockquote>
<h3 id="font-weight"><a href="#font-weight" class="headerlink" title="font-weight"></a>font-weight</h3><blockquote>
<p>blod,bloder,lighter,数字</p>
<p>数字的范围：100-900，400表示默认，700表示blod</p>
</blockquote>
<h3 id="font-style"><a href="#font-style" class="headerlink" title="font-style"></a>font-style</h3><blockquote>
<p>italic（斜体），normal（正常）</p>
</blockquote>
<h3 id="font-family"><a href="#font-family" class="headerlink" title="font-family"></a>font-family</h3><blockquote>
<p>常规字体：微软雅黑</p>
</blockquote>
<h2 id="背景属性"><a href="#背景属性" class="headerlink" title="背景属性"></a>背景属性</h2><blockquote>
<p>background-color 背景颜色</p>
<p>background-image 背景图片</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">background-image: url(&quot;&quot;);</span><br></pre></td></tr></table></figure>

<p>background-position 背景图片的显示位置</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">background-position: ；</span><br><span class="line">//left top 左上角</span><br><span class="line">//left center 左中</span><br><span class="line">//left bottom 坐下</span><br><span class="line">//对应的可以把left换成right，center</span><br><span class="line">x% y% x是水平 y是垂直</span><br><span class="line">xpos ypos//像素</span><br></pre></td></tr></table></figure>

<p>background-repeat 背景图片如何填充</p>
<blockquote>
<p>repeat 默认值</p>
<p>repeat-x 只向水平方向平铺</p>
<p>repeat-y 只向垂直方向平铺</p>
<p>no-repeat 不平铺</p>
</blockquote>
<p>background-size 背景图片的大小属性</p>
<blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">background-size： 1200px 1200px；</span><br><span class="line">background-size： 50% 100%；</span><br></pre></td></tr></table></figure>

<p>cover：图片比例不变，缩放成完全覆盖背景区域的最小大小</p>
<p>contain：图片比例不变，缩放成完全覆盖背景区域的最大大小</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">background-size： cover；//最常见</span><br><span class="line">background-size： contain；</span><br></pre></td></tr></table></figure>


</blockquote>
</blockquote>
<h2 id="文本属性"><a href="#文本属性" class="headerlink" title="文本属性"></a>文本属性</h2><blockquote>
<p><strong>text-align 文本水平对齐方式</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">text-align: left;</span><br><span class="line">//left是默认，center，right</span><br></pre></td></tr></table></figure>

<p><strong>text-decoration 文本的修饰</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">text-decoration: overline;</span><br><span class="line">//underline， overline 上划线，line-through 删除线</span><br></pre></td></tr></table></figure>

<p><strong>text-transform文本的大小写</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">captialize 单词开头大写，uppercase 全部大写， lowercase 全部小写</span><br></pre></td></tr></table></figure>

<p><strong>text-indent块中首行文本缩进</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">text-indent: 20px;//两个单词是30px</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="表格属性"><a href="#表格属性" class="headerlink" title="表格属性"></a>表格属性</h2><h3 id="边框"><a href="#边框" class="headerlink" title="边框"></a>边框</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">table</span>,<span class="selector-tag">td</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="折叠边框"><a href="#折叠边框" class="headerlink" title="折叠边框"></a>折叠边框</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">table</span>&#123;</span><br><span class="line">    <span class="attribute">border-collapse</span>: collapse;//折叠</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="表格宽度"><a href="#表格宽度" class="headerlink" title="表格宽度"></a>表格宽度</h3><h3 id="表格高度"><a href="#表格高度" class="headerlink" title="表格高度"></a>表格高度</h3><h3 id="表格文字对齐"><a href="#表格文字对齐" class="headerlink" title="表格文字对齐"></a>表格文字对齐</h3><blockquote>
<p>默认是左中对齐</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">//水平对齐方式<span class="selector-pseudo">:left</span>,center,<span class="attribute">right</span></span><br><span class="line"><span class="selector-tag">td</span>&#123;</span><br><span class="line">    <span class="attribute">text-align</span>: right;//一般给<span class="selector-tag">td</span>加</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//垂直对齐方式:top,center,bottom</span><br><span class="line">td&#123;</span><br><span class="line">    <span class="attribute">vertical-align</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="表格填充"><a href="#表格填充" class="headerlink" title="表格填充"></a>表格填充</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">td</span>&#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">20px</span>;//四个方向的撑开</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="表格颜色"><a href="#表格颜色" class="headerlink" title="表格颜色"></a>表格颜色</h3><h2 id="关系选择器"><a href="#关系选择器" class="headerlink" title="关系选择器"></a>关系选择器</h2><h3 id="后代选择器"><a href="#后代选择器" class="headerlink" title="后代选择器"></a>后代选择器</h3><blockquote>
<p>定义：选择所有被E元素包含的F原色，中间用空格隔开</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">语法：E F&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表4<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表5<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">ul</span> <span class="selector-tag">li</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//<span class="number">4</span>,<span class="number">5</span>都会生效，因为<span class="selector-tag">ol</span>里面的<span class="selector-tag">li</span>是<span class="selector-tag">ul</span>的重孙</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="子代选择器"><a href="#子代选择器" class="headerlink" title="子代选择器"></a>子代选择器</h3><blockquote>
<p>选择作为E元素的直接子元素F，对更深一层的元素不起作用，用&gt;表示</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">语法：E&gt;f&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        大家好</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">                我很好</span><br><span class="line">            <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&gt;<span class="selector-tag">p</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>只有大家好变成红色，我很好没有变成红色</p>
</blockquote>
<h3 id="相邻兄弟选择器"><a href="#相邻兄弟选择器" class="headerlink" title="相邻兄弟选择器"></a>相邻兄弟选择器</h3><blockquote>
<p>选择紧跟E元素后的F元素，用加号表示，选择相邻的第一个兄弟元素</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">语法：E+F&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span></span><br><span class="line">    我是标题</span><br><span class="line"><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    我是内容1</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    我是内容2</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">h3</span>+<span class="selector-tag">p</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>只有我是内容1变成红色</p>
</blockquote>
<h3 id="通用选择器"><a href="#通用选择器" class="headerlink" title="通用选择器"></a>通用选择器</h3><blockquote>
<p>选择E元素之后所有兄弟元素F，作用于多个元素，用~隔开</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">语法：E~F&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">    我是标题</span><br><span class="line"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    我是内容1</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    我是内容2</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    我是内容3</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">h1</span>~<span class="selector-tag">p</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>所有内容都变成红色</p>
</blockquote>
<h2 id="CSS盒子模型-Box-Model"><a href="#CSS盒子模型-Box-Model" class="headerlink" title="CSS盒子模型 Box Model"></a>CSS盒子模型 Box Model</h2><blockquote>
<p>content：盒子内容，显示文本和图像</p>
<p>padding内边距：清除内容周围区域，可以有两个值，第一个值上下，第二个值左右</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="attribute">padding-left</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">padding-right</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">padding-top</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">padding-bottom</span>: <span class="number">50px</span>;</span><br></pre></td></tr></table></figure>

<p>border：围绕在内边距和内容的边框</p>
<p>margin外边距：清除边框外的区域，是透明的，可以有两个值，第一个值上下，第二个值左右</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="attribute">margin</span>: <span class="number">0</span> auto;//auto指的是网页的正中间，无关网页大小的调整</span><br></pre></td></tr></table></figure>


</blockquote>
<h3 id="弹性盒子模型-flex-box"><a href="#弹性盒子模型-flex-box" class="headerlink" title="弹性盒子模型 flex box"></a>弹性盒子模型 flex box</h3><p>概念：一种当页面需要适应不同的屏幕大小及设备类型时确保元素拥有恰当的行为的布局方式。</p>
<p>组成：弹性容器+弹性子元素</p>
<p>默认：弹性盒子的子元素默认水平摆放</p>
<h4 id="flex属性"><a href="#flex属性" class="headerlink" title="flex属性"></a>flex属性</h4><p>作用于父级元素（弹性容器）</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-direction</span>: row;//子元素的摆放位置</span><br><span class="line">    //row水平摆放，row-reverse水平翻转,column垂直摆放，column-reverse垂直翻转</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="justify-content属性"><a href="#justify-content属性" class="headerlink" title="justify-content属性"></a>justify-content属性</h4><p>&#x2F;&#x2F;垂直方向</p>
<p>作用于父级元素（弹性容器）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">justify-content： flex-start;//子元素在垂直方向的对齐方式</span><br><span class="line">//flex-end;center</span><br></pre></td></tr></table></figure>

<h4 id="align-items属性"><a href="#align-items属性" class="headerlink" title="align-items属性"></a>align-items属性</h4><p>&#x2F;&#x2F;水平方向</p>
<p>作用于父级元素（弹性容器）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">align-items: flex-start;//子元素在水平方向对齐方式</span><br><span class="line">//flex-end,center</span><br></pre></td></tr></table></figure>

<h4 id="flex属性-1"><a href="#flex属性-1" class="headerlink" title="flex属性"></a>flex属性</h4><p>作用在<strong>子元素</strong>上</p>
<p>概念：根据弹性盒子元素所设置的扩展因子作为比率来分配剩余的空间</p>
<p>默认值为0</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="attribute">flex</span>: <span class="number">1</span>;//权重</span><br></pre></td></tr></table></figure>

<p>当权重设置以后，它的宽度就不再生效</p>
<h2 id="文档流"><a href="#文档流" class="headerlink" title="文档流"></a>文档流</h2><p>概念：文档中可显示对象在排列时所占用的位置&#x2F;空间</p>
<h3 id="标准流"><a href="#标准流" class="headerlink" title="标准流"></a>标准流</h3><p>例如：块元素自上而下摆放，内联元素从左到右摆放（容易导致页面效果无法实现）</p>
<blockquote>
<p>目前的问题：</p>
<p>高矮不齐，底边对齐</p>
<p>空格折叠</p>
<p>元素无空隙</p>
</blockquote>
<h3 id="脱离文档流"><a href="#脱离文档流" class="headerlink" title="脱离文档流"></a>脱离文档流</h3><h4 id="浮动"><a href="#浮动" class="headerlink" title="浮动"></a>浮动</h4><p>概念：增加一个浮层来放置内容，相当于有两层页面，一个是底层的原页面，一层是脱离文档流的上层页面</p>
<p>float：定义元素向哪个方向浮动，任何元素都可以浮动</p>
<p>注意：只能左右浮动，没有上下浮动。当元素不够的时候，会自动换行</p>
<p><img src="D:\blog\source_posts\前端三件套.assets\image-20230816100959613.png" alt="image-20230816100959613"></p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="attribute">float</span>: left;</span><br><span class="line">//<span class="attribute">right</span></span><br></pre></td></tr></table></figure>

<h5 id="副作用"><a href="#副作用" class="headerlink" title="副作用"></a>副作用</h5><blockquote>
<p>1、造成父元素高度塌陷</p>
<p>2、后续元素会受到影响</p>
</blockquote>
<h5 id="清除浮动"><a href="#清除浮动" class="headerlink" title="清除浮动"></a>清除浮动</h5><blockquote>
<p>解决方案：</p>
<p>1、父元素设置高度</p>
<p>2、受影响的元素设置clear属性</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="attribute">clear</span>: left;//清除左浮动</span><br><span class="line">//<span class="attribute">right</span>,both(左右浮动都清除)</span><br></pre></td></tr></table></figure>

<p>3、overflow清除浮动</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">//两个属性要一起写在父级元素里面</span><br><span class="line"><span class="attribute">overflow</span>: hidden;</span><br><span class="line"><span class="attribute">clear</span>: both;</span><br></pre></td></tr></table></figure>

<p>4、伪对象方式</p>
<p>这种情况下父级元素不能设置高度</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">//给父级元素添加伪对象</span><br><span class="line"><span class="selector-class">.container</span><span class="selector-pseudo">::after</span>&#123;</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">clear</span>: both;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</blockquote>
<h4 id="定位"><a href="#定位" class="headerlink" title="定位"></a>定位</h4><figure class="highlight css"><table><tr><td class="code"><pre><span class="line">//<span class="attribute">position</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">position</span>: relative；</span><br><span class="line"></span><br><span class="line">//<span class="built_in">relative</span>(相对定位)，<span class="built_in">absolute</span>(绝对定位)，fixed（固定定位）</span><br><span class="line">//绝对定位和固定定位	会脱离文件流</span><br></pre></td></tr></table></figure>



<h5 id="相对定位"><a href="#相对定位" class="headerlink" title="相对定位"></a>相对定位</h5><p>没有脱离文档流，但是可以调整定位</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">//调整位置：<span class="attribute">left</span>,<span class="attribute">top</span>,<span class="attribute">right</span>,<span class="attribute">bottom</span></span><br><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>： relative;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="绝对定位"><a href="#绝对定位" class="headerlink" title="绝对定位"></a>绝对定位</h5><p>脱离文档流，并且可以调整定位，每设置一个定位，就有一层</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">	<span class="attribute">position</span>:  absolute;</span><br><span class="line">&#125;</span><br><span class="line">//调整位置：<span class="attribute">left</span>,<span class="attribute">top</span>,<span class="attribute">right</span>,<span class="attribute">bottom</span></span><br></pre></td></tr></table></figure>

<h5 id="固定定位"><a href="#固定定位" class="headerlink" title="固定定位"></a>固定定位</h5><p>脱离文档流，并且可以调整定位。一般一个页面只有一个固定定位，屏幕滚动，但是内容不会变化位置</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">&#125;</span><br><span class="line">//调整位置：<span class="attribute">left</span>,<span class="attribute">top</span>,<span class="attribute">right</span>,<span class="attribute">bottom</span></span><br></pre></td></tr></table></figure>

<h5 id="温馨提示"><a href="#温馨提示" class="headerlink" title="温馨提示"></a>温馨提示</h5><p>设置定位以后，相对定位和绝对定位是相对于具有定位的父级元素进行位置调整，如果父级元素不存在定位，则继续向上逐级寻找，直到找到顶层文档。</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span>&#123;//父级元素</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span>&#123;//子级元素</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Z-index"><a href="#Z-index" class="headerlink" title="Z-index"></a>Z-index</h5><p>哪一个值大，就是覆盖别的层</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.box&#123;//子级元素</span><br><span class="line">    position: absolute;</span><br><span class="line">    z-index: 100;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.box&#123;//子级元素</span><br><span class="line">    position: absolute;</span><br><span class="line">    z-index: 50;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="CSS3新特性"><a href="#CSS3新特性" class="headerlink" title="CSS3新特性"></a>CSS3新特性</h2><h3 id="圆角"><a href="#圆角" class="headerlink" title="圆角"></a>圆角</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    //<span class="number">100%</span>，<span class="number">50%</span>:完全变成圆形</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>规则如下：</p>
<p>一个值：四个圆角值相同</p>
<p>两个值：第一个值为左上角和右下角，第二个值为右上角和左下角</p>
<p>三个值：第一个值为左上角，第二个值为右上角和左下角，第三个值为右下角</p>
<p>四个值：第一个值为左上角，第二个值为右上角，第三个值为右下角，第四个值为左下角</p>
</blockquote>
<h3 id="阴影"><a href="#阴影" class="headerlink" title="阴影"></a>阴影</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">10px</span> <span class="number">10px</span> <span class="number">20px</span> <span class="built_in">rgb</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.5</span>);</span><br><span class="line">&#125;</span><br><span class="line">//h-shadow水平阴影位置（必选），v-shadow垂直阴影位置（必选），blur模糊距离，<span class="attribute">color</span>阴影颜色</span><br></pre></td></tr></table></figure>

<h3 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h3><p>比js更具有性能</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="keyword">@keyframes</span> name&#123;//创建动画</span><br><span class="line">    <span class="selector-tag">from</span>&#123;//<span class="number">0%</span></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">to</span>&#123;//<span class="number">100%</span></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//以上只有一个变化过程</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> name&#123;//创建动画</span><br><span class="line">    <span class="number">0%</span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">50%</span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">100%</span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="执行动画"><a href="#执行动画" class="headerlink" title="执行动画"></a>执行动画</h4><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="attribute">animation</span>: name duration timing-function delay iteration-count direction;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">:hover</span>&#123;//鼠标划到的地方变颜色</span><br><span class="line">    <span class="attribute">background-color</span>: coral;</span><br><span class="line">    <span class="attribute">animation-play-state</span>: paused;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>name:动画的名称</p>
<p>duration：设置动画的持续时间（要加s）</p>
<p>timing-function：设置动画的速率：</p>
<p>​	ease：逐渐变慢</p>
<p>​	linear：匀速</p>
<p>​	ease-in：加速</p>
<p>​	ease-out：减速</p>
<p>​	ease-in-out：先加速后减速</p>
<p>delay：设置动画的开始时间（延迟执行）</p>
<p>iteration-count：循环次数，infinite为无限次数的循环</p>
<p>direction：动画播放的方向</p>
<p>​	normal：向前播放</p>
<p>​	alternate：动画在第偶数次向前播放，在第奇数次反方向播放</p>
<p>animation-play-state：动画的播放状态，running是播放，paused是播放停止</p>
</blockquote>
<h4 id="呼吸效果"><a href="#呼吸效果" class="headerlink" title="呼吸效果"></a>呼吸效果</h4><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="keyword">@keyframes</span> name&#123;//创建动画</span><br><span class="line">    <span class="number">0%</span>&#123;</span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">0.2</span>;//透明度</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">50%</span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">100%</span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="媒体查询"><a href="#媒体查询" class="headerlink" title="媒体查询"></a>媒体查询</h3><blockquote>
<p>概念：媒体查询能在不同的条件下使用不同的模式</p>
<p>使页面在不同在终端设备下达到不同的效果</p>
<p>根据设备的大小自动识别加载不同的样式</p>
</blockquote>
<h4 id="设置meta标签"><a href="#设置meta标签" class="headerlink" title="设置meta标签"></a>设置meta标签</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">//使用设备的宽度作为视图宽度并禁止初始的缩放</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no&quot;</span>&gt;</span></span><br><span class="line">//width=device-width宽度相当于设备的宽度</span><br><span class="line">//initial-scale=1初始的缩放比例（默认设置为1.0）</span><br><span class="line">//maximum允许用户缩放到的最大比例（默认设置为1.0）</span><br><span class="line">//user-scalable用户是否可以手动缩放</span><br></pre></td></tr></table></figure>

<h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>:<span class="number">768px</span>)&#123;//意味这是手机</span><br><span class="line">	<span class="selector-class">.box</span>&#123;</span><br><span class="line">		<span class="attribute">display</span>: none;//不显示</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>:<span class="number">768px</span>) <span class="keyword">and</span> (<span class="attribute">max-width</span>:<span class="number">996px</span>)&#123;//意味这是平板</span><br><span class="line">	<span class="selector-class">.box</span>&#123;</span><br><span class="line">		<span class="attribute">display</span>: block;//显示</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>:<span class="number">996px</span>)&#123;//意味这是电脑</span><br><span class="line">	<span class="selector-class">.box</span>&#123;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="雪碧图"><a href="#雪碧图" class="headerlink" title="雪碧图"></a>雪碧图</h3><blockquote>
<p>CSS Sprite&#x3D;CSS精灵图&#x3D;CSS雪碧图，是一种网页图片应用处理方式，它允许你将一个页面涉及到的所有零星图片都包含到一张大图中去。</p>
<p>优点：</p>
<p>减少图片的字节</p>
<p>减少网页的http请求，从而大大的提高页面的性能</p>
<p>原理：</p>
<p>通过background-image引入背景图片</p>
<p>通过background-position把背景图片移动到自己需要的位置</p>
</blockquote>
<h3 id="字体图标"><a href="#字体图标" class="headerlink" title="字体图标"></a>字体图标</h3><blockquote>
<p>问题：</p>
<p>图标使用时可能会失真，并且可能会加载过慢</p>
<p>优点：</p>
<p>轻量性：加载速度快，减少http请求</p>
<p>灵活性：CSS设置大小和颜色</p>
<p>兼容性：支持多版浏览器</p>
</blockquote>
<h2 id="注释-1"><a href="#注释-1" class="headerlink" title="注释"></a>注释</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="comment">/*内容*/</span></span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>





<h1 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h1><blockquote>
<p>脚本语言，不具备开发操作系统的能力，只用来编写控制其他大型应用程序的”脚本“</p>
<p>嵌入式语言</p>
</blockquote>
<h2 id="JS和ECMAScript的关系"><a href="#JS和ECMAScript的关系" class="headerlink" title="JS和ECMAScript的关系"></a>JS和ECMAScript的关系</h2><p>ECMAScript是JS的规格，JS是ECMAScript的一种实现</p>
<p><img src="D:\blog\source_posts\前端三件套.assets\image-20230816213348171.png" alt="image-20230816213348171"></p>
<h2 id="语句、标识符"><a href="#语句、标识符" class="headerlink" title="语句、标识符"></a>语句、标识符</h2><blockquote>
<p>js的执行单位是行，一般情况下，一行是一个语句，以分号结尾</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> num=<span class="number">10</span>;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>标识符：</p>
<p>识别各种值得合法名称，最常见的是变量名</p>
<p>组成：由字母，美元符号，下划线和数字。除了数字不能开头，其他都可以。</p>
</blockquote>
<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><h3 id="打印"><a href="#打印" class="headerlink" title="打印"></a>打印</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">console.log(num)</span><br></pre></td></tr></table></figure>

<h3 id="变量提升"><a href="#变量提升" class="headerlink" title="变量提升"></a>变量提升</h3><blockquote>
<p>JS工作方式：先解析代码，获取所有被声明的变量，然后再一行一行地运行。这导致所有的变量的声明语句，都会被提升到代码的头部。这就是变量提升。</p>
</blockquote>
<h2 id="引入文件方式"><a href="#引入文件方式" class="headerlink" title="引入文件方式"></a>引入文件方式</h2><p>可以在body和head中引入</p>
<blockquote>
<p>1、嵌入到html中</p>
<p>2、引入本地独立js文件</p>
<p>3、引入网络来源文件</p>
</blockquote>
<h3 id="嵌入到html中"><a href="#嵌入到html中" class="headerlink" title="嵌入到html中"></a>嵌入到html中</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> age = <span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="引入本地独立js文件"><a href="#引入本地独立js文件" class="headerlink" title="引入本地独立js文件"></a>引入本地独立js文件</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> age=<span class="number">20</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(age);</span><br></pre></td></tr></table></figure>

<p>在html里面引入</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;xxx.js&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="引入网络来源文件"><a href="#引入网络来源文件" class="headerlink" title="引入网络来源文件"></a>引入网络来源文件</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="注释和常见输出方式"><a href="#注释和常见输出方式" class="headerlink" title="注释和常见输出方式"></a>注释和常见输出方式</h2><blockquote>
<p><strong>注释：</strong></p>
<p>单行&#x2F;多行</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//单行注释</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">多行</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">注释</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">*/</span></span></span><br><span class="line"><span class="language-javascript">&lt;script&gt;</span></span><br></pre></td></tr></table></figure>



<p><strong>输出方式：</strong></p>
<p>弹出框</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">alert</span>(<span class="string">&quot;我是弹出框&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>页面输出</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&quot;我是输出到页面&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>控制台输出</p>
</blockquote>
<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><p>六种</p>
<h3 id="分类-1"><a href="#分类-1" class="headerlink" title="分类"></a>分类</h3><blockquote>
<p>原始数据类型包括：数值，字符串，布尔值</p>
<p>合成数据类型（复合&#x2F;引用数据类型）：object，对象，多个原始数据类型的值合成</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">var user=&#123;</span><br><span class="line">	name: &quot;11&quot;,</span><br><span class="line">    age: 20,</span><br><span class="line">    learn:true</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>特殊值：null，undefined</p>
</blockquote>
<h4 id="数值"><a href="#数值" class="headerlink" title="数值"></a>数值</h4><h4 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h4><blockquote>
<p>被双引号和单引号包裹的值</p>
</blockquote>
<h4 id="布尔值"><a href="#布尔值" class="headerlink" title="布尔值"></a>布尔值</h4><h4 id="null"><a href="#null" class="headerlink" title="null"></a>null</h4><h4 id="undefined"><a href="#undefined" class="headerlink" title="undefined"></a>undefined</h4><h4 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h4><h4 id="Symbol（ES6新增）"><a href="#Symbol（ES6新增）" class="headerlink" title="Symbol（ES6新增）"></a>Symbol（ES6新增）</h4><h4 id="BigInt（ES6新增）"><a href="#BigInt（ES6新增）" class="headerlink" title="BigInt（ES6新增）"></a>BigInt（ES6新增）</h4><h3 id="typeof运算符"><a href="#typeof运算符" class="headerlink" title="typeof运算符"></a>typeof运算符</h3><p>作用：判断数据类型，一般用来判断基本数据类型</p>
<p>判断复合数据类型 不准确</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> age);<span class="comment">//number</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> name);<span class="comment">//string</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> flag);<span class="comment">//boolean</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> user);<span class="comment">//object</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="literal">null</span>);<span class="comment">//object</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="literal">undefined</span>);<span class="comment">//undefined</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>null代表对象没有</p>
<p>undefined代表数值没有</p>
</blockquote>
<h2 id="算数运算符"><a href="#算数运算符" class="headerlink" title="算数运算符"></a>算数运算符</h2><blockquote>
<p>加减乘除，自增，自减</p>
</blockquote>
<h3 id="加减乘除"><a href="#加减乘除" class="headerlink" title="加减乘除"></a>加减乘除</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num1+num2);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num1-num2);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num1*num2);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num1/num2);</span><br></pre></td></tr></table></figure>

<h3 id="取余"><a href="#取余" class="headerlink" title="取余"></a>取余</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num1%num2);</span><br></pre></td></tr></table></figure>

<h3 id="自增自减运算符"><a href="#自增自减运算符" class="headerlink" title="自增自减运算符"></a>自增自减运算符</h3><blockquote>
<p>一元运算符，只需要一个运算符。它们的作用将运算子首先转为数值，然后加上1或减去1</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">++和--在前面，应该先自增，自减再运算</span><br><span class="line">num3=<span class="number">20</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(++num);<span class="comment">//21</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(--num);<span class="comment">//20</span></span><br><span class="line"></span><br><span class="line">++和--在后面，应该先运算再自增，自减</span><br><span class="line">num3=<span class="number">20</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num++);<span class="comment">//20。先打印后自增</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num--);<span class="comment">//21</span></span><br></pre></td></tr></table></figure>



<h2 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h2><blockquote>
<p>x&#x3D;x+y      x+&#x3D;y</p>
<p>x&#x3D;x-y       x-&#x3D;y</p>
<p>x&#x3D;x * y      x*&#x3D;y</p>
<p>x&#x3D;x&#x2F;y       x&#x2F;&#x3D;y</p>
<p>x&#x3D;x%y       x%&#x3D;y</p>
</blockquote>
<h2 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h2><blockquote>
<p>“&gt;”,”&lt;”,”&gt;&#x3D;”,”&lt;&#x3D;”</p>
<p>&#x3D;&#x3D;相等运算符，比较两个值是否相等</p>
<p><strong>&#x3D;&#x3D;&#x3D;严格相等运算符，比较两个值是否相等，比较两个值的类型是否相同</strong></p>
<p>!&#x3D;不相等运算符，比较两个值是否不相等</p>
<p><strong>!&#x3D;&#x3D;严格不相等运算符，比较两个值是否不相等，比较两个值的类型是否不同</strong></p>
</blockquote>
<h2 id="布尔运算符"><a href="#布尔运算符" class="headerlink" title="布尔运算符"></a>布尔运算符</h2><blockquote>
<p>取反运算符！</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!<span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//非布尔值取反</span></span><br><span class="line"><span class="comment">//对于非布尔值，取反运算符会先将其转为布尔值，再取反。以下六个值取反后为true，其余取反后为false</span></span><br><span class="line"><span class="literal">undefined</span></span><br><span class="line"><span class="literal">null</span></span><br><span class="line"><span class="literal">false</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="title class_">NaN</span></span><br><span class="line"><span class="string">&quot;&quot;</span>（空字符串）</span><br></pre></td></tr></table></figure>



<p>且运算符&amp;&amp;</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">10</span>&lt;<span class="number">20</span> &amp;&amp; <span class="number">100</span>&gt;<span class="number">90</span>)</span><br></pre></td></tr></table></figure>



<p>或运算符||</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">10</span>&lt;<span class="number">20</span> || <span class="number">100</span>&gt;<span class="number">90</span>)</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="if语句"><a href="#if语句" class="headerlink" title="if语句"></a>if语句</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(flag或者 表达式)&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="if-else语句"><a href="#if-else语句" class="headerlink" title="if-else语句"></a>if-else语句</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(flag或者 表达式)&#123;</span><br><span class="line">    </span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="else-if语句"><a href="#else-if语句" class="headerlink" title="else-if语句"></a>else-if语句</h3><blockquote>
<p>语法规则：</p>
<p>if总是找离他最近的一个else</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(flag或者 表达式)&#123;</span><br><span class="line">    </span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>()&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Switch语句"><a href="#Switch语句" class="headerlink" title="Switch语句"></a>Switch语句</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">switch</span>()&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;<span class="comment">//必须加上break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="三元（目）运算符"><a href="#三元（目）运算符" class="headerlink" title="三元（目）运算符"></a>三元（目）运算符</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//语法：（条件）?表达式1:表达式2</span></span><br><span class="line">num%<span class="number">2</span>===<span class="number">0</span> ? consle.<span class="title function_">log</span>(<span class="string">&quot;偶数&quot;</span>) :<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;奇数&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> result= num%<span class="number">2</span>===<span class="number">0</span> ? <span class="string">&quot;偶数&quot;</span> : <span class="string">&quot;奇数&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result);</span><br></pre></td></tr></table></figure>



<h2 id="for语句"><a href="#for语句" class="headerlink" title="for语句"></a>for语句</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(初始表达式;条件;迭代因子)&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="While语句"><a href="#While语句" class="headerlink" title="While语句"></a>While语句</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span>(条件)&#123;</span><br><span class="line">    语句；</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="break语句"><a href="#break语句" class="headerlink" title="break语句"></a>break语句</h2><p>跳出所有循环</p>
<h2 id="continue语句"><a href="#continue语句" class="headerlink" title="continue语句"></a>continue语句</h2><p>跳出当前循环，进入下一次循环</p>
<h2 id="字符串-1"><a href="#字符串-1" class="headerlink" title="字符串"></a>字符串</h2><h3 id="基础知识-1"><a href="#基础知识-1" class="headerlink" title="基础知识"></a>基础知识</h3><blockquote>
<p>单双引号可以互相嵌套</p>
<p>如果要在单引号字符串的内部使用单引号，就必须在内部的单引号前面加上反斜杠，用来转义</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str=<span class="string">&quot;我们都知道书籍是要\&quot;阅读\&quot;的。&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>字符串默认写成一行，多行会报错。如果要换行，要加上\进行转义</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;a \</span></span><br><span class="line"><span class="string">b \</span></span><br><span class="line"><span class="string">cfdghh&quot;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="length属性"><a href="#length属性" class="headerlink" title="length属性"></a>length属性</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="property">length</span>);</span><br></pre></td></tr></table></figure>



<h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><h4 id="charAt"><a href="#charAt" class="headerlink" title="charAt"></a>charAt</h4><blockquote>
<p>返回指定位置的字符，参数是从0开始编号</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;dfghjkl&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">charAt</span>(<span class="number">4</span>));<span class="comment">//j</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//打印出最后一个字符</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">charAt</span>(str.<span class="property">length</span>-<span class="number">1</span>));</span><br></pre></td></tr></table></figure>

<p>当参数为负数，或者大于等于字符串的长度，charAt返回空字符串</p>
</blockquote>
<h4 id="concat"><a href="#concat" class="headerlink" title="concat"></a>concat</h4><blockquote>
<p>用于连接两个字符串，返回一个新字符串，不改变原字符串</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str1= <span class="string">&quot;Hell&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> str2= <span class="string">&quot;o&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str1.<span class="title function_">concat</span>(str2));</span><br><span class="line"></span><br><span class="line"><span class="comment">//连接多个字符串</span></span><br><span class="line"><span class="keyword">var</span> str1= <span class="string">&quot;Hell&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> str2= <span class="string">&quot;o&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> str3= <span class="string">&quot;！&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str1.<span class="title function_">concat</span>(str2,str3));</span><br><span class="line"></span><br><span class="line"><span class="comment">//连接数字</span></span><br><span class="line"><span class="keyword">var</span> str1= <span class="string">&quot;Hell&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> str2= <span class="string">&quot;o&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> str3= <span class="string">&quot;！&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> num= <span class="number">100</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str1.<span class="title function_">concat</span>(str2,str3,num));<span class="comment">//Hello!100,这里的数字还是数值型</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//字符串相加不需要concat，可以直接使用加号</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="substring"><a href="#substring" class="headerlink" title="substring"></a>substring</h4><blockquote>
<p>概念：从原字符串中取出子字符串并返回，不改变原字符串。它的第一个参数表示子字符串的开始位置，<strong>第二个位置表示结束位置</strong>（返回结果不含该位置）</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;abcdefg&#x27;</span>.<span class="title function_">substring</span>(<span class="number">1</span>,<span class="number">3</span>);<span class="comment">//bc</span></span><br></pre></td></tr></table></figure>

<p>如果省略第二个参数，说明打印到字符的最后</p>
<p>如果第一个参数大于第二个参数，会自动更换两个参数的位置</p>
<p>如果第一个参数是负数，那么第一个参数会自动转换成0</p>
</blockquote>
<h4 id="substr"><a href="#substr" class="headerlink" title="substr"></a>substr</h4><blockquote>
<p>概念：从原字符串中取出子字符串并返回，不改变原字符串。它的第一个参数表示子字符串的开始位置，<strong>第二个位置表示字符串的长度</strong></p>
<p>如果省略第二个参数，说明打印到字符的最后</p>
<p>如果第一个参数是负数，表示倒数计算的字符位置，如果第二个参数是负数，将被自动转为0，返回空字符串</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;helloworld&#x27;</span>.<span class="title function_">substr</span>(-<span class="number">1</span>,<span class="number">5</span>);<span class="comment">//world</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="indexOf"><a href="#indexOf" class="headerlink" title="indexOf"></a>indexOf</h4><blockquote>
<p>概念：用于确定一个字符串在另一个字符串中第一次出现的位置，返回的结果使匹配开始的位置，如果返回-1，表示不匹配</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;helloworld&#x27;</span>.<span class="title function_">indexOf</span>(<span class="string">&quot;e&quot;</span>);<span class="comment">//1</span></span><br></pre></td></tr></table></figure>

<p>接受第二个参数，表示从该位置开始向后匹配</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;thrusday&#x27;</span>.<span class="title function_">indexOf</span>(<span class="string">&#x27;u&#x27;</span>,<span class="number">5</span>);<span class="comment">//-1</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="trim"><a href="#trim" class="headerlink" title="trim"></a>trim</h4><blockquote>
<p>用于去除字符串两端的空格，返回一个新字符串，不改变原字符串</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;   itgit  &#x27;</span>.<span class="title function_">trim</span>();<span class="comment">//itgit</span></span><br></pre></td></tr></table></figure>

<p>不止可以去除空格，还可去除制表符（\t，\v）、换行符、回车符（\r）</p>
<p>ES6扩展方法：trimEnd()，trimStart()</p>
</blockquote>
<h4 id="split"><a href="#split" class="headerlink" title="split"></a>split</h4><blockquote>
<p>概念：将字符串按照给定规则分割字符串，返回一个<strong>由分割出来的子字符串组成的数组</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;it|sxt|baizhan|&#x27;</span>.<span class="title function_">split</span>(<span class="string">&#x27;|&#x27;</span>);<span class="comment">//[&quot;it&quot;,&quot;sxt&quot;,&quot;baizhan&quot;]</span></span><br></pre></td></tr></table></figure>

<p>如果分割规则是空字符串，则返回数组的成员是原字符串的每一个字符</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;hello&#x27;</span>.<span class="title function_">split</span>(<span class="string">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>如果省略参数。则返回数组的唯一成员，就是原字符串</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;hello&#x27;</span>.<span class="title function_">split</span>();<span class="comment">//[&quot;hello&quot;]</span></span><br></pre></td></tr></table></figure>

<p>可以传入<strong>第二个参数</strong>，就是字符串的长度</p>
</blockquote>
<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><blockquote>
<p>概念：按次序排列的一组值，每个位置都有编号（从0开始），整个数组用方括号表示</p>
<ul>
<li>通过数组下标进行赋值</li>
<li>任意类型都可以放入数组</li>
<li>数组可以先定义后赋值</li>
<li>可以通过下标读取值</li>
<li>数组越界，返回undefined</li>
</ul>
<p>length属性</p>
</blockquote>
<p>遍历</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> username = [];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> username)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="方法-1"><a href="#方法-1" class="headerlink" title="方法"></a>方法</h3><h4 id="Array-isArray"><a href="#Array-isArray" class="headerlink" title="Array.isArray"></a>Array.isArray</h4><blockquote>
<p>返回一个布尔值，判断一个参数是否是数组，可以弥补typeof的不足</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>]</span><br><span class="line"><span class="title class_">Array</span>.<span class="title function_">isArray</span>(arr);<span class="comment">//true</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="push-x2F-pop"><a href="#push-x2F-pop" class="headerlink" title="push&#x2F;pop"></a>push&#x2F;pop</h4><blockquote>
<p>push：在数组的末端添加一个或多个元素，并返回添加新元素后的数组长度。<strong>该方法会改变原数组</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">arr.<span class="title function_">push</span>(<span class="string">&quot;abc&quot;</span>,<span class="string">&quot;world&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>pop：删除数组的最后一个元素，并返回该元素。<strong>该方法会改变原数组</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">arr.<span class="title function_">pop</span>()</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="shift-x2F-unshift"><a href="#shift-x2F-unshift" class="headerlink" title="shift&#x2F;unshift"></a>shift&#x2F;unshift</h4><blockquote>
<p><strong>shift：</strong>删除数组的第一个元素，并返回该元素。<strong>该方法会改变原数组</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">name.<span class="title function_">shift</span>();</span><br></pre></td></tr></table></figure>

<ul>
<li>清空数组元素</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[]</span><br><span class="line">arr.<span class="title function_">shift</span>();<span class="comment">//undefined</span></span><br></pre></td></tr></table></figure>

<p>通过while循环的方式，清空数组元素</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> item;</span><br><span class="line"><span class="keyword">var</span> arr1=[<span class="number">100</span>,<span class="number">200</span>,<span class="number">300</span>];</span><br><span class="line"><span class="keyword">while</span>(item=arr1.<span class="title function_">shift</span>())&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>unshift：</strong>在数组的第一个位置添加元素，并返回添加新元素后的数组长度。<strong>该方法会改变原数组</strong></p>
</blockquote>
<h4 id="join"><a href="#join" class="headerlink" title="join"></a>join</h4><blockquote>
<p>概念：以指定方法作为分隔符，将所有数组成员连接为一个字符串返回。如果不提供参数，默认用逗号分隔</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>]</span><br><span class="line">a.<span class="title function_">join</span>(<span class="string">&quot;|&quot;</span>);<span class="comment">//a|b|c</span></span><br><span class="line">a.<span class="title function_">join</span>(<span class="string">&quot;&quot;</span>);<span class="comment">//abc</span></span><br><span class="line">a.<span class="title function_">join</span>();<span class="comment">//a,b,c</span></span><br></pre></td></tr></table></figure>

<p>如果数组成员是undefined或null或空值，会被转为空字符串。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="literal">null</span>,<span class="literal">undefined</span>]</span><br><span class="line">a.<span class="title function_">join</span>(<span class="string">&quot;|&quot;</span>);<span class="comment">//a|b|c||</span></span><br><span class="line">a.<span class="title function_">join</span>(<span class="string">&quot;&quot;</span>);<span class="comment">//abc</span></span><br><span class="line">a.<span class="title function_">join</span>();<span class="comment">//a,b,c,,</span></span><br></pre></td></tr></table></figure>

<p>join匹配split可以实现数组与字符串的互换</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//数组变字符串</span></span><br><span class="line"><span class="keyword">var</span> a=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>]</span><br><span class="line">result=a.<span class="title function_">join</span>(<span class="string">&quot; &quot;</span>)</span><br><span class="line">字符串变数组</span><br><span class="line">result.<span class="title function_">split</span>(<span class="string">&quot; &quot;</span>)</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="concat-1"><a href="#concat-1" class="headerlink" title="concat"></a>concat</h4><blockquote>
<p>概念：将<strong>多个数组</strong>进行合并，将新数组的成员添加到原数组成员的后部，然后返回一个新数组，<strong>原数组不变。</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>];</span><br><span class="line"><span class="keyword">var</span> arr1=[<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>];</span><br><span class="line">arr+arr1=a,bc,d<span class="comment">//变成字符串</span></span><br><span class="line">arr.<span class="title function_">concat</span>(arr1);<span class="comment">//[&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;]</span></span><br></pre></td></tr></table></figure>

<p>应用场景：上拉加载，合并数据</p>
<p>例题：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].<span class="title function_">concat</span>(<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]);<span class="comment">//[1,2,3,4,5,6,7,8,9]</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="reverse"><a href="#reverse" class="headerlink" title="reverse"></a>reverse</h4><blockquote>
<p>概念：用于颠倒排列数组元素，返回改变后的数组。<strong>该方法会改变原数组</strong></p>
</blockquote>
<h4 id="indexOf-1"><a href="#indexOf-1" class="headerlink" title="indexOf"></a>indexOf</h4><blockquote>
<p>概念：返回给定元素在数组中第一次出现的位置，返回的结果使匹配开始的位置，如果返回-1，表示不匹配</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">arr.<span class="title function_">indexOf</span>(<span class="number">1</span>);<span class="comment">//0</span></span><br><span class="line">arr.<span class="title function_">indexOf</span>(<span class="number">0</span>);<span class="comment">//-1</span></span><br></pre></td></tr></table></figure>

<p>接受第二个参数，表示从该位置开始向后匹配</p>
</blockquote>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><blockquote>
<p>概念：可以反复调用的代码块</p>
<ul>
<li><p>声明</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">print</span>(<span class="params">s</span>)&#123;</span><br><span class="line">                  </span><br><span class="line">&#125;</span><br><span class="line"><span class="attr">print</span>:函数名</span><br><span class="line">s：传入参数</span><br></pre></td></tr></table></figure>


</li>
<li><p>函数名的提升</p>
<p>先调用后创建</p>
</li>
<li><p>函数参数</p>
</li>
<li><p>函数返回值</p>
</li>
</ul>
</blockquote>
<h2 id="对象-1"><a href="#对象-1" class="headerlink" title="对象"></a>对象</h2><blockquote>
<p>概念：一组”键值对“的集合，是无序的复合数据类型</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> user=&#123;</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">	<span class="attr">name</span>: <span class="string">&quot;John&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>键 是属性</p>
<p>值可以是任何数据类型，如果是函数，则把这个属性称为方法，可以像函数一样调用</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> user=&#123;</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">	<span class="attr">getName</span>: <span class="keyword">function</span> (<span class="params">name</span>)&#123;<span class="comment">//函数名字要提前到键的位置</span></span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>对象的提取方式</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">user.<span class="property">name</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//函数调用</span></span><br><span class="line">user.<span class="title function_">getName</span>();</span><br></pre></td></tr></table></figure>

<p>如果属性的值还是一个对象，就形成了链式引用</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> user=&#123;</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">	<span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">    <span class="attr">container</span>: &#123;</span><br><span class="line">        <span class="attr">jobs</span>: [a,b,c],</span><br><span class="line">        <span class="attr">abc</span>: [d,e]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">user.<span class="property">container</span>.<span class="property">jobs</span>;<span class="comment">//这是链式调用</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="Math对象"><a href="#Math对象" class="headerlink" title="Math对象"></a>Math对象</h2><blockquote>
<p>是js的原生对象，提供各种数学功能</p>
<ul>
<li><p>Math.abs()</p>
<p>返回参数的绝对值</p>
</li>
<li><p>Math.max()</p>
<p>返回参数的最大值</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="number">21</span>,<span class="number">90</span>,<span class="number">11</span>,<span class="number">24</span>,<span class="number">66</span>,<span class="number">89</span>)</span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">max</span>()<span class="comment">//-Infinity</span></span><br></pre></td></tr></table></figure>


</li>
<li><p>Math.min()</p>
<p>返回参数的最小值</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Math</span>.<span class="title function_">min</span>(<span class="number">21</span>,<span class="number">90</span>,<span class="number">11</span>,<span class="number">24</span>,<span class="number">66</span>,<span class="number">89</span>)</span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">min</span>()<span class="comment">//Infinity</span></span><br></pre></td></tr></table></figure>


</li>
<li><p>Max.floor()</p>
<p>向下取整</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">num1=<span class="number">10.9</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">floor</span>(num1);<span class="comment">//10</span></span><br></pre></td></tr></table></figure>


</li>
<li><p>Max.ceil()</p>
<p>向上取整</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">num1=<span class="number">10.1</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">ceil</span>(num1);<span class="comment">//11</span></span><br></pre></td></tr></table></figure>


</li>
<li><p>Math.random()</p>
<p>返回从0到1的一个伪随机数，可能等于0，但是一定小于1</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Math</span>.<span class="title function_">random</span>()</span><br></pre></td></tr></table></figure>



<p>返回任意范围内的随机数</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">get</span>(<span class="params">min,max</span>)&#123;</span><br><span class="line">	<span class="keyword">var</span> res=<span class="title class_">Math</span>.<span class="title function_">random</span>()*(max-min)+min</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</blockquote>
<h2 id="Date对象"><a href="#Date对象" class="headerlink" title="Date对象"></a>Date对象</h2><blockquote>
<p>概念：js的原生时间库，以1970年1月1日00：00：00作为时间的零点，可以表示时间范围为前后各一亿年（以毫秒为单位）</p>
</blockquote>
<h3 id="Date-now"><a href="#Date-now" class="headerlink" title="Date.now()"></a>Date.now()</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Date</span>.<span class="title function_">now</span>();<span class="comment">//返回时间戳</span></span><br></pre></td></tr></table></figure>



<h3 id="get方法"><a href="#get方法" class="headerlink" title="get方法"></a>get方法</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> d=<span class="keyword">new</span> <span class="title class_">Date</span>(<span class="string">&#x27;January 6,2020&#x27;</span>);</span><br><span class="line">d.<span class="title function_">getTime</span>();<span class="comment">//返回实例距离1970年1月1日00：00：00的毫秒数</span></span><br><span class="line">d.<span class="title function_">getDate</span>();<span class="comment">//返回实例对象对应每个月的几号</span></span><br><span class="line">d.<span class="title function_">getDay</span>();<span class="comment">//返回星期几，星期日为0，星期一为1，以此类推</span></span><br><span class="line">d.<span class="title function_">getYear</span>();<span class="comment">//返回距离1900的年数</span></span><br><span class="line">d.<span class="title function_">getFullYear</span>();<span class="comment">//返回四位的年份</span></span><br><span class="line">d.<span class="title function_">getMonth</span>();<span class="comment">//返回月份，0是1月，11是12月</span></span><br><span class="line">d.<span class="title function_">getHour</span>();<span class="comment">//返回小时，0-23</span></span><br><span class="line">d.<span class="title function_">getMilliseconds</span>();<span class="comment">//返回毫秒 0-999</span></span><br><span class="line">d.<span class="title function_">getMinutes</span>();<span class="comment">//返回分钟 0-59</span></span><br><span class="line">d.<span class="title function_">getSeconds</span>();<span class="comment">//返回秒 0-59</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="title class_">Date</span>.<span class="title function_">now</span>();<span class="comment">//返回时间戳</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Date</span>(a);<span class="comment">//new获取的是当前时间</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Date</span>();<span class="comment">//当前时间</span></span><br></pre></td></tr></table></figure>



<h3 id="编写函数获得本年度剩余天数"><a href="#编写函数获得本年度剩余天数" class="headerlink" title="编写函数获得本年度剩余天数"></a>编写函数获得本年度剩余天数</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">leftDays = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// 今天的标准时间</span></span><br><span class="line">        <span class="keyword">let</span> today = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">        <span class="comment">// 本年最后标准时间</span></span><br><span class="line">        <span class="keyword">let</span> endYear = <span class="keyword">new</span> <span class="title class_">Date</span>(today.<span class="title function_">getFullYear</span>(), <span class="number">11</span>, <span class="number">31</span>, <span class="number">23</span>, <span class="number">59</span>, <span class="number">59</span>);</span><br><span class="line">        <span class="comment">// 一天的毫秒数</span></span><br><span class="line">        <span class="keyword">let</span> msPerDay = <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">1000</span>;</span><br><span class="line">        <span class="comment">// 计算剩余毫秒除以一天的毫秒数，就是天数</span></span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">round</span>((endYear.<span class="title function_">getTime</span>() - today.<span class="title function_">getTime</span>()) / msPerDay);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h2><blockquote>
<p>概念：js操作网页的接口，全称：”文档对象类型“。作用：将网页转换为一个JS对象，从而用脚本进行各种操作（比如对元素增删内容）</p>
<ul>
<li>浏览器会根据DOM模型，将结构化文档HTML解析成一系列的节点，再由这些节点组成一个树状结构（DOM Tree）。所有的节点和最终的树状结构，都有规范的对外接口</li>
<li>DOM只是一个接口规范，可以用各种语言实现。严格地说：DOM不是JS语法的一部分，但DOM操作时JS最常见的任务，离开了DOM，JS就无法控制网页。另一方面，JS也是最常用于DOM操作的语言</li>
</ul>
</blockquote>
<h3 id="节点"><a href="#节点" class="headerlink" title="节点"></a>节点</h3><blockquote>
<p>DOM的最小组成单位叫做节点，文档的树状结构（DOM树），就是由各种不同类型的节点组成。每个节点可以看作文档树的一片叶子。</p>
</blockquote>
<h4 id="类型分类"><a href="#类型分类" class="headerlink" title="类型分类"></a>类型分类</h4><blockquote>
<p>Document：整个文档树的顶层节点</p>
<p>DocumentType：doctype标签</p>
<p>Element：网页的各种HTML标签</p>
<p>Attribute：网页元素的属性</p>
<p>Text：标签之间或标签包含的文本</p>
<p>Comment：注释</p>
<p>DocumentFragment：文档的片段</p>
</blockquote>
<h3 id="节点树"><a href="#节点树" class="headerlink" title="节点树"></a>节点树</h3><p>一个文档的所有节点，按照所在的层级，可以抽象成一种树状结构。这种树状结构就是DOM树。它有一个顶层节点，下一层都是顶层节点的子节点，然后子节点又有自己的子节点，层层衍生。</p>
<p>浏览器原生提供document节点，代表整个文档</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">document</span>)</span><br></pre></td></tr></table></figure>

<h4 id="关系"><a href="#关系" class="headerlink" title="关系"></a>关系</h4><blockquote>
<ul>
<li>除了根节点之外，其他节点都有三种层级关系<ul>
<li>父节点关系</li>
<li>子节点关系</li>
<li>同级节点关系</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="Node-nodeType属性"><a href="#Node-nodeType属性" class="headerlink" title="Node.nodeType属性"></a>Node.nodeType属性</h3><blockquote>
<p>不同节点的nodeType属性值和对应的常量如下：</p>
<p>​	文档节点document：9，对应常量Node.DOCUMENT_NODE</p>
<p>​	元素节点element：1，对应常量Node.ELEMENT_NODE</p>
<p>​	属性节点attr：2，对应常量Node.ATTRIBUTE_NODE</p>
<p>​	文本节点text：3，对应常量Node.TEXT_NODE</p>
<p>​	文档片断节点DucumentFragment：11，对应常量Node.DOCUMENT_FRAGMENT_NODE</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">nodeType</span> <span class="comment">//9</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">nodeType</span> === <span class="title class_">Node</span>.<span class="property">DOCUMENT_NODE</span> <span class="comment">//true</span></span><br></pre></td></tr></table></figure>



<h2 id="document对象-方法-x2F-获取元素"><a href="#document对象-方法-x2F-获取元素" class="headerlink" title="document对象_方法&#x2F;获取元素"></a>document对象_方法&#x2F;获取元素</h2><h3 id="getElementsByTagName"><a href="#getElementsByTagName" class="headerlink" title="getElementsByTagName"></a>getElementsByTagName</h3><blockquote>
<p>搜索HTM标签名，返回符合条件的元素。它的返回值是一个类似数组对象（HTML Collection实例），可以实时反映HTML文档的变化。如果没有任何匹配的元素，就返回一个空集</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> paras = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;p&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> paras = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;div&quot;</span>)[<span class="number">0</span>];<span class="comment">//读取第一个颜色</span></span><br><span class="line">paras.<span class="property">innerHTML</span>=<span class="string">&quot;Hello World&quot;</span>;<span class="comment">//改变元素值</span></span><br></pre></td></tr></table></figure>

<p>如果传入*，就可以返回文档中所有HTML元素</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> paras = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;*&quot;</span>);</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="getElementsByClassName"><a href="#getElementsByClassName" class="headerlink" title="getElementsByClassName"></a>getElementsByClassName</h3><blockquote>
<p>返回一个类似数组的对象（HTMLCollection实例），包括了所有class名字符合指定条件的元素，元素的变化实时反应在返回结果中。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var paras = document.getElementsByClassName(&quot;name&quot;);</span><br></pre></td></tr></table></figure>

<p>参数可以是多个class，它们之间使用空格分隔</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> elements = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;foo bar&quot;</span>);</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="getElementsByName"><a href="#getElementsByName" class="headerlink" title="getElementsByName"></a>getElementsByName</h3><blockquote>
<p>用于选择拥有name属性的HTML元素（比如<form>,<radio>,<img>等），返回一个类似数组的对象（NodeList实例），因为name属性相同的元素可能不止一个</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//表单为&lt;form name=&#x27;abc&#x27;&gt;&lt;/form&gt;</span></span><br><span class="line"><span class="keyword">var</span> forms = <span class="variable language_">document</span>.<span class="title function_">getElementsByName</span>(<span class="string">&#x27;abc&#x27;</span>);</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="getElementsById"><a href="#getElementsById" class="headerlink" title="getElementsById"></a>getElementsById</h3><blockquote>
<p>返回匹配指定id属性的元素节点。如果没有匹配的节点，返回null</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> elem = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;foo&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>该方法的参数是大小写敏感的。</p>
</blockquote>
<h3 id="querySelector"><a href="#querySelector" class="headerlink" title="querySelector"></a>querySelector</h3><blockquote>
<p>接受一个CSS选择器作为参数，返回匹配该选择器的元素节点。如果有多个节点满足匹配条件，则返回<strong>第一个匹配</strong>的节点。如果没有匹配的节点，返回null</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> elem = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.nav&quot;</span>);</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="querySelectorAll"><a href="#querySelectorAll" class="headerlink" title="querySelectorAll"></a>querySelectorAll</h3><blockquote>
<p>返回一个NodeList对象，包含所有匹配给定选择器的节点</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> elems = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;.nav&quot;</span>);</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="document对象-方法-x2F-创建元素"><a href="#document对象-方法-x2F-创建元素" class="headerlink" title="document对象_方法&#x2F;创建元素"></a>document对象_方法&#x2F;创建元素</h2><h3 id="createElement"><a href="#createElement" class="headerlink" title="createElement"></a>createElement</h3><blockquote>
<p>生成元素节点，并返回该元素</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> newDiv = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="createTextNode"><a href="#createTextNode" class="headerlink" title="createTextNode"></a>createTextNode</h3><blockquote>
<p>生成文本节点，并返回该节点。它的参数是文本节点的内容</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> newDiv = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> newContent = <span class="variable language_">document</span>.<span class="title function_">createTextNode</span>(<span class="string">&#x27;Hello&#x27;</span>);</span><br><span class="line">newDiv.<span class="title function_">appendChild</span>(newContent);<span class="comment">//将内容或者子元素放入容器中</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="createAttribute"><a href="#createAttribute" class="headerlink" title="createAttribute"></a>createAttribute</h3><blockquote>
<p>生成一个新的属性节点，并返回它</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> attribute = <span class="variable language_">document</span>.<span class="title function_">creaeAttribute</span>(name);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> root = <span class="variable language_">document</span>.<span class="title function_">getElementsById</span>(<span class="string">&#x27;root&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> it = <span class="variable language_">document</span>.<span class="title function_">creaeAttribute</span>(<span class="string">&#x27;abc&#x27;</span>);</span><br><span class="line">it.<span class="property">value</span>=<span class="string">&#x27;it&#x27;</span>;</span><br><span class="line">root.<span class="title function_">setAttributeNode</span>(it);</span><br></pre></td></tr></table></figure>

<p>除了属性用方法creaeAttribute，其他都用appendChild</p>
</blockquote>
<h2 id="Element对象-属性"><a href="#Element对象-属性" class="headerlink" title="Element对象_属性"></a>Element对象_属性</h2><blockquote>
<p>Element对象对应网页的HTML元素，每一个HTML元素，在DOM树上都会转化成一个Element节点对象（以下简称元素节点）</p>
</blockquote>
<h3 id="id"><a href="#id" class="headerlink" title="id"></a>id</h3><blockquote>
<p>返回指定元素的id属性，该属性可读写</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> p = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;p&#x27;</span>)</span><br><span class="line">p.<span class="property">id</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="className"><a href="#className" class="headerlink" title="className"></a>className</h3><blockquote>
<p>用来读写当前元素节点的class属性，它的值是一个字符串，每个class之间用空格分割</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> p = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;p&#x27;</span>)</span><br><span class="line">p.<span class="property">className</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="classList"><a href="#classList" class="headerlink" title="classList"></a>classList</h3><h4 id="add"><a href="#add" class="headerlink" title="add"></a>add</h4><blockquote>
<p>增加一个class</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> div = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;myDiv&#x27;</span>);</span><br><span class="line">div.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;myCssClass&#x27;</span>);</span><br><span class="line">div.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;myCssClass1&#x27;</span>,<span class="string">&#x27;class2&#x27;</span>);</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="remove"><a href="#remove" class="headerlink" title="remove"></a>remove</h4><blockquote>
<p>移除一个class</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">div.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;myCssClass&#x27;</span>);</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="contains"><a href="#contains" class="headerlink" title="contains"></a>contains</h4><blockquote>
<p>检查当前元素是否包含某个class</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">div.<span class="property">classList</span>.<span class="title function_">contains</span>(<span class="string">&#x27;myCssClass&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>返回true或false</p>
</blockquote>
<h4 id="toggle"><a href="#toggle" class="headerlink" title="toggle"></a>toggle</h4><blockquote>
<p>将某个class移入或移出当前元素</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">div.<span class="property">classList</span>.<span class="title function_">toggle</span>(<span class="string">&#x27;myCssClass&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>如果myCssClass不存在就加入，否则移除</p>
</blockquote>
<h3 id="innerHTML"><a href="#innerHTML" class="headerlink" title="innerHTML"></a>innerHTML</h3><blockquote>
<p>返回一个字符串，等同于该元素包含的所有HTML代码，该属性可读写，常用来设置某个结点的内容。它能改写所有元素结点的内容，包括<code>&lt;HTML&gt;</code>和<code>&lt;body&gt;</code>元素</p>
<ul>
<li>可以识别标签</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">ele.<span class="property">innerHTML</span>;<span class="comment">//读取</span></span><br><span class="line">ele.<span class="property">innerHTML</span>= <span class="string">&quot;&quot;</span>;</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="innerText"><a href="#innerText" class="headerlink" title="innerText"></a>innerText</h3><blockquote>
<ul>
<li>会把标签识别成一个字符串</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">ele.<span class="property">innerText</span>;<span class="comment">//读取</span></span><br><span class="line">ele.<span class="property">innerText</span>= <span class="string">&quot;&quot;</span>;</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="Element获取元素位置"><a href="#Element获取元素位置" class="headerlink" title="Element获取元素位置"></a>Element获取元素位置</h2><p><img src="D:\blog\source_posts\前端三件套.assets\3113f2e37b0b6132bf2b8763fbaefae.jpg" alt="3113f2e37b0b6132bf2b8763fbaefae"></p>
<h3 id="clientHeight，clientWidth"><a href="#clientHeight，clientWidth" class="headerlink" title="clientHeight，clientWidth"></a>clientHeight，clientWidth</h3><blockquote>
<p>返回一个整数值，表示元素节点CSS高度，只对块级元素生效，对于行内元素返回0.</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//视口高度</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientHeight</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//网页总高度</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientHeight</span></span><br></pre></td></tr></table></figure>

<h3 id="scrollHeight，scrollWidth"><a href="#scrollHeight，scrollWidth" class="headerlink" title="scrollHeight，scrollWidth"></a>scrollHeight，scrollWidth</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//视口高度</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollHeight</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//网页总高度</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollHeight</span></span><br></pre></td></tr></table></figure>

<h3 id="scrollTop，scrollLeft"><a href="#scrollTop，scrollLeft" class="headerlink" title="scrollTop，scrollLeft"></a>scrollTop，scrollLeft</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//滚动高度</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollLeft</span></span><br></pre></td></tr></table></figure>

<h3 id="offsetHeight，offsetWidth"><a href="#offsetHeight，offsetWidth" class="headerlink" title="offsetHeight，offsetWidth"></a>offsetHeight，offsetWidth</h3><ul>
<li>只读属性</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">box.<span class="property">offsetHeight</span>;<span class="comment">//box是容器</span></span><br><span class="line">box.<span class="property">offsetWidth</span>;</span><br></pre></td></tr></table></figure>



<h2 id="CSS操作"><a href="#CSS操作" class="headerlink" title="CSS操作"></a>CSS操作</h2><blockquote>
<p>操作CSS样式最简单的方法就是使用网页元素节点的setAttribute方法直接操作网页元素的style属性。</p>
</blockquote>
<h3 id="HTML的style属性"><a href="#HTML的style属性" class="headerlink" title="HTML的style属性"></a>HTML的style属性</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> box = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;box&quot;</span>);</span><br><span class="line">box.<span class="title function_">setAttribute</span>(<span class="string">&#x27;style&#x27;</span>,<span class="string">&#x27;width:200px;height:400px;&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="元素节点的style属性"><a href="#元素节点的style属性" class="headerlink" title="元素节点的style属性"></a>元素节点的style属性</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> divStyle = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;div&#x27;</span>).<span class="property">style</span>;</span><br><span class="line">divStyle.<span class="property">style</span>.<span class="property">backgroundColor</span> = <span class="string">&#x27;red&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="cssText属性"><a href="#cssText属性" class="headerlink" title="cssText属性"></a>cssText属性</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> divStyle = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;div&#x27;</span>).<span class="property">style</span>;</span><br><span class="line">divStyle.<span class="property">style</span>.<span class="property">cssText</span> = <span class="string">&#x27;background-Color:red;&#x27;</span>+<span class="string">&#x27;border : 1px solid black;&#x27;</span>;</span><br></pre></td></tr></table></figure>



<h2 id="事件处理程序"><a href="#事件处理程序" class="headerlink" title="事件处理程序"></a>事件处理程序</h2><h3 id="分类-2"><a href="#分类-2" class="headerlink" title="分类"></a>分类</h3><ul>
<li><p>Html事件处理</p>
</li>
<li><p>DOM0级事件处理</p>
</li>
<li><p>DOM2级事件处理</p>
</li>
</ul>
<h3 id="HTML事件"><a href="#HTML事件" class="headerlink" title="HTML事件"></a>HTML事件</h3><p>缺点：HTML和JS无法分开</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&#x27;div&#x27;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&#x27;btn1&#x27;</span> <span class="attr">onclick</span>=<span class="string">&quot;demo()&quot;</span>&gt;</span></span><br><span class="line">            按钮</span><br><span class="line">        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">demo</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&quot;HTML事件处理&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="DOM0级事件处理"><a href="#DOM0级事件处理" class="headerlink" title="DOM0级事件处理"></a>DOM0级事件处理</h3><p>优点：HTML和JS分离</p>
<p>缺点：无法同时添加多个事件</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&#x27;div&#x27;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&#x27;btn1&#x27;</span>&gt;</span></span><br><span class="line">            按钮</span><br><span class="line">        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> btn1=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn1&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        btn1.<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&quot;DOM0级事件处理1&quot;</span>)<span class="comment">//被覆盖掉</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        btn1.<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&quot;DOM0级事件处理2&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="DOM2级事件处理"><a href="#DOM2级事件处理" class="headerlink" title="DOM2级事件处理"></a>DOM2级事件处理</h3><p>优点：可以添加多个事件</p>
<p>缺点：写法复杂</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&#x27;div&#x27;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&#x27;btn1&#x27;</span>&gt;</span></span><br><span class="line">            按钮</span><br><span class="line">        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> btn1=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn1&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        btn1.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&quot;DOM0级事件处理1&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">        btn1.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&quot;DOM0级事件处理2&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="鼠标事件"><a href="#鼠标事件" class="headerlink" title="鼠标事件"></a>鼠标事件</h2><h3 id="分类-3"><a href="#分类-3" class="headerlink" title="分类"></a>分类</h3><ul>
<li>click</li>
<li>dblclick 双击</li>
<li>mousedown 按下鼠标键</li>
<li>mouseup 释放按下的鼠标键</li>
<li>mousemove 鼠标在节点内部移动，持续移动</li>
<li>mouseenter 进入一个节点时触发，进入子节点不会触发</li>
<li>mouseleave 离开一个节点时触发，离开父节点不会触发</li>
<li>mouseover 进入一个节点时触发，进入子节点会再一次触发</li>
<li>mouseout 离开一个节点时触发，离开父节点会再次触发</li>
<li>wheel 滚动鼠标的滚轮时触发</li>
</ul>
<h3 id="单击-x2F-双击事件"><a href="#单击-x2F-双击事件" class="headerlink" title="单击&#x2F;双击事件"></a>单击&#x2F;双击事件</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&#x27;div&#x27;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&#x27;btn1&#x27;</span>&gt;</span></span><br><span class="line">            按钮</span><br><span class="line">        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&#x27;btn2&#x27;</span>&gt;</span></span><br><span class="line">            按钮</span><br><span class="line">        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> btn1=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn1&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> btn2=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn2&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">        btn1.<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&quot;单击事件&quot;</span>)<span class="comment">//被覆盖掉</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        btn2.<span class="property">ondblclick</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&quot;双击事件&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="鼠标按下-x2F-鼠标抬起"><a href="#鼠标按下-x2F-鼠标抬起" class="headerlink" title="鼠标按下&#x2F;鼠标抬起"></a>鼠标按下&#x2F;鼠标抬起</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&#x27;div&#x27;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&#x27;btn1&#x27;</span>&gt;</span></span><br><span class="line">            按钮</span><br><span class="line">        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&#x27;btn2&#x27;</span>&gt;</span></span><br><span class="line">            按钮</span><br><span class="line">        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> btn1=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn1&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> btn2=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn2&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">        btn1.<span class="property">onmousedown</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&quot;鼠标按下&quot;</span>)<span class="comment">//被覆盖掉</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        btn2.<span class="property">onmouseup</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&quot;鼠标抬起&quot;</span>)<span class="comment">//被覆盖掉</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="鼠标滑动"><a href="#鼠标滑动" class="headerlink" title="鼠标滑动"></a>鼠标滑动</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box1</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span> <span class="attr">class</span>=<span class="string">&quot;box1&quot;</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        btn.<span class="property">onmousemove</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&quot;鼠标移动了&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="鼠标进入-x2F-鼠标离开"><a href="#鼠标进入-x2F-鼠标离开" class="headerlink" title="鼠标进入&#x2F;鼠标离开"></a>鼠标进入&#x2F;鼠标离开</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box1</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box2</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;btn1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;box1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;btn2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;box2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        btn1.<span class="property">onmouseenter</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&quot;鼠标进入了&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        btn2.<span class="property">onmouseleave</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&quot;鼠标离开了&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="鼠标进入-x2F-鼠标离开（再次）"><a href="#鼠标进入-x2F-鼠标离开（再次）" class="headerlink" title="鼠标进入&#x2F;鼠标离开（再次）"></a>鼠标进入&#x2F;鼠标离开（再次）</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box1</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.box2</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;btn1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;box1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;btn2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;box2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        btn1.<span class="property">onmouseover</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&quot;鼠标进入了&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        btn2.<span class="property">onmouseout</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&quot;鼠标离开了&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="Event事件对象"><a href="#Event事件对象" class="headerlink" title="Event事件对象"></a>Event事件对象</h2><blockquote>
<p>事件发生以后，会产生一个事件对象，作为参数传给监听函数</p>
</blockquote>
<p>对象属性：Target type</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;btn1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;box1&quot;</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> btn1=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn1&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        btn1.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params">event</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(event);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="Target属性"><a href="#Target属性" class="headerlink" title="Target属性"></a>Target属性</h3><blockquote>
<p>返回事件当前所在的节点，点击谁就返回谁</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;btn1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;box1&quot;</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> btn1=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn1&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        btn1.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params">event</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(event.<span class="property">target</span>);</span></span><br><span class="line"><span class="language-javascript">            event.<span class="property">target</span>.<span class="property">innerHTML</span>= <span class="string">&quot;点击之后&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="Type属性"><a href="#Type属性" class="headerlink" title="Type属性"></a>Type属性</h3><blockquote>
<p>返回一个字符串，表示事件类型。事件的类型是在生成事件的时候。该属性<strong>只读</strong></p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;btn1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;box1&quot;</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> btn1=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn1&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        btn1.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params">event</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(event.<span class="property">type</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="preventDefault方法"><a href="#preventDefault方法" class="headerlink" title="preventDefault方法"></a>preventDefault方法</h3><blockquote>
<p>取消浏览器对当前事件的默认行为</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">btn1.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    e.<span class="title function_">preventDefault</span>();<span class="comment">//阻止默认事件</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="stopPropagation方法"><a href="#stopPropagation方法" class="headerlink" title="stopPropagation方法"></a>stopPropagation方法</h3><blockquote>
<p>阻止事件在DOM中继续传播，防止再触发定义在别的节点上的监听函数，但是不包括在当前节点上其他的事件监听函数</p>
<p>事件冒泡：点击子元素时，父元素也被点击</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">btn1.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    e.<span class="title function_">stopPropagation</span>();<span class="comment">//阻止事件冒泡</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="键盘事件"><a href="#键盘事件" class="headerlink" title="键盘事件"></a>键盘事件</h2><h3 id="keydown"><a href="#keydown" class="headerlink" title="keydown"></a>keydown</h3><p>按下键盘时触发</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">username.<span class="property">onkeydown</span>=<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;keydown事件&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="keypress"><a href="#keypress" class="headerlink" title="keypress"></a>keypress</h3><p>按下有值的键时触发，即按下Ctrl，Alt，Shift，Meta这样无值的键，这个事件不会触发。对于有值的键，按下时先触发keydown事件，再触发这个事件</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">username.<span class="property">onkeypress</span>=<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;keypress事件&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="keyup"><a href="#keyup" class="headerlink" title="keyup"></a>keyup</h3><p>松开键盘时触发事件</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">username.<span class="property">onkeyup</span>=<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;keyup事件&quot;</span>);</span><br><span class="line">    e.<span class="property">target</span>.<span class="property">value</span>;<span class="comment">//输入框的数据</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="keycode"><a href="#keycode" class="headerlink" title="keycode"></a>keycode</h3><p>唯一标识</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">username.<span class="property">onkeydown</span>=<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(e.<span class="property">keycode</span> === <span class="number">13</span>)&#123;</span><br><span class="line">    	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;回车&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="表单事件"><a href="#表单事件" class="headerlink" title="表单事件"></a>表单事件</h2><h3 id="input"><a href="#input" class="headerlink" title="input"></a>input</h3><blockquote>
<p>当<input>,<select>,<textarea>的值发生变化时触发，对于复选框，单选框，用户改变选项时，也会触发。会连续触发</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">username.<span class="property">oninput</span>=<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">target</span>.<span class="property">value</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="select"><a href="#select" class="headerlink" title="select"></a>select</h3><blockquote>
<p>当在<input>,<textarea>里面选中文本时触发</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//&lt;input id=&quot;test&quot; type=&quot;text&quot; value=&quot;select me&quot;&gt;</span></span><br><span class="line"><span class="keyword">var</span> elem = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;test&#x27;</span>);</span><br><span class="line">elem.<span class="title function_">addEventListener</span>(<span class="string">&#x27;select&#x27;</span>,<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">type</span>);</span><br><span class="line">&#125;,<span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line">username.<span class="property">onselect</span>=<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;选中了&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="change"><a href="#change" class="headerlink" title="change"></a>change</h3><blockquote>
<p>当<input>,<select>,<textarea>的值发生变化时触发，不会连续触发，只有全部修改完成时才会触发</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> elem = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;test&#x27;</span>);</span><br><span class="line"><span class="comment">//失去焦点和回车时触发</span></span><br><span class="line">elem.<span class="property">onchange</span>=<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">target</span>.<span class="property">value</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="reset"><a href="#reset" class="headerlink" title="reset"></a>reset</h3><blockquote>
<p>发生在表单对象form上，而不是表单的成员</p>
<p>将表单重置时触发</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">&quot;a&quot;</span> <span class="attr">onsubmit</span>=<span class="string">&quot;submitHandle&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span> = <span class="string">&quot;resetHandle&quot;</span>&gt;</span></span><br><span class="line">        重置数据</span><br><span class="line">    <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;a&quot;</span>)</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">resetHandle</span>(<span class="params"></span>)&#123;</span><br><span class="line">    a.<span class="title function_">reset</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="submit"><a href="#submit" class="headerlink" title="submit"></a>submit</h3><blockquote>
<p>发生在表单对象form上，而不是表单的成员</p>
<p>将表单数据向服务器提交时触发</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">&quot;a&quot;</span> <span class="attr">onsubmit</span>=<span class="string">&quot;submitHandle&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span> = <span class="string">&quot;resetHandle&quot;</span>&gt;</span></span><br><span class="line">        重置数据</span><br><span class="line">    <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;a&quot;</span>)</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">submitHandle</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;提交&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="事件代理（事件委托）"><a href="#事件代理（事件委托）" class="headerlink" title="事件代理（事件委托）"></a>事件代理（事件委托）</h2><blockquote>
<p>事件会在冒泡阶段向上传播到父节点，因此可以把子节点的监听函数定义在父节点上，由父节点的监听函数统一处理多个子元素的事件。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> list = <span class="variable language_">document</span>.<span class="title function_">getElementyId</span>(<span class="string">&quot;list&quot;</span>);</span><br><span class="line">list.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(e.<span class="property">target</span>.<span class="property">tagName</span> == <span class="string">&quot;LI&quot;</span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;点击了LI标签&quot;</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">target</span>.<span class="property">innerHTMLs</span>)；</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//小写</span></span><br><span class="line">    <span class="keyword">if</span>(e.<span class="property">target</span>.<span class="property">tagName</span>.<span class="property">toLowerCase</span> == <span class="string">&quot;li&quot;</span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;点击了li标签&quot;</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">target</span>.<span class="property">innerHTMLs</span>)；</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h2><blockquote>
<p>js提供定时执行代码的功能，叫做定时器。有setTimeout和setInterval这两个函数，它们向任务队列添加定时任务</p>
</blockquote>
<h3 id="setTimeout"><a href="#setTimeout" class="headerlink" title="setTimeout"></a>setTimeout</h3><blockquote>
<p>指定某个函数或者某段代码在多少毫秒之后执行。返回一个整数，表示定时器的编号，以后可以取消这个定时器</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//语法 var timeId = setTimeout(func|code ,delay);</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;定时器&quot;</span>)</span><br><span class="line">&#125;,<span class="number">1000</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>如果回调函数是对象的方法，那么setTimeout使得方法内部的this关键字指向全局环境，而不是定义时那个对象</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> name= adc</span><br><span class="line"><span class="keyword">var</span> user = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;abc&quot;</span>,</span><br><span class="line">    <span class="attr">getName</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    		<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)<span class="comment">//这里的this指向adc（全局变量）</span></span><br><span class="line">		&#125;,<span class="number">1000</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">user.<span class="title function_">getName</span>();<span class="comment">//adc</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//解决方案</span></span><br><span class="line"><span class="keyword">var</span> name= adc</span><br><span class="line"><span class="keyword">var</span> user = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;abc&quot;</span>,</span><br><span class="line">    <span class="attr">getName</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">var</span> that=<span class="variable language_">this</span>;<span class="comment">//这里的this指向getName</span></span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    		<span class="variable language_">console</span>.<span class="title function_">log</span>(that.<span class="property">name</span>)</span><br><span class="line">		&#125;,<span class="number">1000</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">user.<span class="title function_">getName</span>();<span class="comment">//abc</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="取消定时器"><a href="#取消定时器" class="headerlink" title="取消定时器"></a>取消定时器</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> timer = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;定时器&quot;</span>)</span><br><span class="line">&#125;,<span class="number">1000</span>)</span><br><span class="line"><span class="comment">//取消</span></span><br><span class="line"><span class="built_in">clearTimeout</span>(timer);</span><br></pre></td></tr></table></figure>



<h3 id="setInterval"><a href="#setInterval" class="headerlink" title="setInterval"></a>setInterval</h3><blockquote>
<p>每间隔一段时间执行一次</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> timer = <span class="built_in">setInterval</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    i++;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">&#125;,<span class="number">1000</span>)</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="取消定时器-1"><a href="#取消定时器-1" class="headerlink" title="取消定时器"></a>取消定时器</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> timer = <span class="built_in">setInterval</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    i++;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">&#125;,<span class="number">1000</span>)</span><br><span class="line"><span class="comment">//取消</span></span><br><span class="line"><span class="built_in">clearInterval</span>(timer);</span><br></pre></td></tr></table></figure>



<h2 id="防抖"><a href="#防抖" class="headerlink" title="防抖"></a>防抖</h2><blockquote>
<p>属于性能优化，遇到的频率较高，处理不当会引起浏览器卡死</p>
</blockquote>
<h3 id="滚动条监听"><a href="#滚动条监听" class="headerlink" title="滚动条监听"></a>滚动条监听</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">showTop</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> scrollTop = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;滚动条位置&quot;</span>+ scrollTop);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">pnscroll</span> = showTop<span class="comment">//监听滚动事件</span></span><br></pre></td></tr></table></figure>

<p>缺点：执行频率太高</p>
<p>解决方案：短时间内大量触发同一事件，只会执行一次函数</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">fn,delay</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">funtion</span>(<span class="params"></span>)&#123;<span class="comment">//闭包</span></span><br><span class="line">        <span class="keyword">if</span>(timer)&#123;</span><br><span class="line">            <span class="built_in">clearTimeout</span>(timer);</span><br><span class="line">        &#125;</span><br><span class="line">        timer = <span class="built_in">setTimeout</span>(fn,delay);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="节流"><a href="#节流" class="headerlink" title="节流"></a>节流</h2><blockquote>
<p>属于性能优化，遇到的频率较高，处理不当会引起浏览器卡死</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">throttle</span>(<span class="params">fn,delay</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> valid = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!valid)&#123;</span><br><span class="line">            reuturn <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        valid=<span class="literal">false</span>;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="title function_">fn</span>();</span><br><span class="line">            valid=<span class="literal">true</span>;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">pnscroll</span> = <span class="title function_">throttle</span>(fn,delay)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showTop</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> scrollTop = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;滚动条位置&quot;</span>+ scrollTop);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">pnscroll</span> = showTop<span class="comment">//监听滚动事件</span></span><br></pre></td></tr></table></figure>



<h2 id="防抖-x2F-节流开发使用场景"><a href="#防抖-x2F-节流开发使用场景" class="headerlink" title="防抖&#x2F;节流开发使用场景"></a>防抖&#x2F;节流开发使用场景</h2><ul>
<li>搜索框input事件，实时搜索时可以使用节流方案</li>
<li>页面resize事件，一般使用防抖方案</li>
</ul>
<h2 id="命令行工具"><a href="#命令行工具" class="headerlink" title="命令行工具"></a>命令行工具</h2><ul>
<li>cmd</li>
<li>PowerShell</li>
</ul>
<h3 id="命令行快捷键"><a href="#命令行快捷键" class="headerlink" title="命令行快捷键"></a>命令行快捷键</h3><p>快速补全目录或文件夹名称：tab</p>
<p>返回上一级目录： cd ..&#x2F;</p>
<h3 id="PowerShell快捷键"><a href="#PowerShell快捷键" class="headerlink" title="PowerShell快捷键"></a>PowerShell快捷键</h3><p>按住shift+右键，点击在此处打开PowerShell窗口</p>
<h1 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</h1><h2 id="let命令"><a href="#let命令" class="headerlink" title="let命令"></a>let命令</h2><blockquote>
<p>声明变量，但是所声明的变量只在let命令所在的代码块内有效</p>
</blockquote>
<h3 id="let块级作用域（花括号级作用域）"><a href="#let块级作用域（花括号级作用域）" class="headerlink" title="let块级作用域（花括号级作用域）"></a>let块级作用域（花括号级作用域）</h3><ul>
<li>适合for循环</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> i = <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(i);<span class="comment">//10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> i = <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(i);<span class="comment">//报错</span></span><br></pre></td></tr></table></figure>

<h3 id="不存在变量提升"><a href="#不存在变量提升" class="headerlink" title="不存在变量提升"></a>不存在变量提升</h3><h3 id="不能重复声明"><a href="#不能重复声明" class="headerlink" title="不能重复声明"></a>不能重复声明</h3><h2 id="const命令"><a href="#const命令" class="headerlink" title="const命令"></a>const命令</h2><blockquote>
<p>只读常量，一旦声明，不可改变</p>
<p>一旦声明，必须初始化</p>
<p>作用域：块级级别</p>
<p>不存在变量提升</p>
<p>不可重复声明</p>
<p>&#x2F;&#x2F;name浏览器可能默认赋值</p>
</blockquote>
<h2 id="对象解构赋值"><a href="#对象解构赋值" class="headerlink" title="对象解构赋值"></a>对象解构赋值</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> user&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;abc&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123;name,age&#125; = user;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name,age);</span><br></pre></td></tr></table></figure>

<p>对象的属性没有次序，变量必须与属性同名，才能取到正确的值。</p>
<p>对象的解构赋值可以方便地将现有对象的方法，赋值到某个变量</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;log&#125; = <span class="variable language_">console</span>;</span><br><span class="line"><span class="title function_">log</span>(name,age);</span><br></pre></td></tr></table></figure>



<h2 id="字符串扩展"><a href="#字符串扩展" class="headerlink" title="字符串扩展"></a>字符串扩展</h2><h3 id="Unicode表示法"><a href="#Unicode表示法" class="headerlink" title="Unicode表示法"></a>Unicode表示法</h3><p>\uxxxx：表示一个字符</p>
<h3 id="字符串遍历器接口"><a href="#字符串遍历器接口" class="headerlink" title="字符串遍历器接口"></a>字符串遍历器接口</h3><h4 id="for…of循环"><a href="#for…of循环" class="headerlink" title="for…of循环"></a>for…of循环</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">of</span> <span class="string">&quot;abcdefg&quot;</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="模板字符串"><a href="#模板字符串" class="headerlink" title="模板字符串"></a>模板字符串</h3><p>增强版字符串，用&#96;标识。可当作普通字符串使用，也可定义<strong>多行</strong>字符串，或在从字符串中嵌入常量</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> url=<span class="string">&quot;abcdefg&quot;</span></span><br><span class="line"><span class="keyword">let</span> h1=<span class="string">&quot;&lt;a href=&quot;</span>+url+<span class="string">&quot;djjcm&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> h2=<span class="string">`&lt;a href=`</span>$&#123;url&#125;<span class="string">`djjcm`</span>;</span><br></pre></td></tr></table></figure>



<h3 id="字符串新增方法"><a href="#字符串新增方法" class="headerlink" title="字符串新增方法"></a>字符串新增方法</h3><blockquote>
<p>前三个方法都支持第二个参数，表示从哪个位置开始查询</p>
</blockquote>
<h4 id="includes"><a href="#includes" class="headerlink" title="includes"></a>includes</h4><p>返回布尔值，表示是否找到了参数字符串</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="string">&#x27;Hello world&#x27;</span></span><br><span class="line"></span><br><span class="line">s.<span class="title function_">includes</span>(<span class="string">&#x27;o&#x27;</span>)<span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h4 id="startsWith"><a href="#startsWith" class="headerlink" title="startsWith"></a>startsWith</h4><p>返回布尔值，表示参数字符串是否在原字符串的头部</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">s.<span class="title function_">startsWith</span>(<span class="string">&#x27;Hello&#x27;</span>)<span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h4 id="endsWith"><a href="#endsWith" class="headerlink" title="endsWith"></a>endsWith</h4><p>返回布尔值，表示参数字符串是否在原字符串的尾部</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">s.<span class="title function_">endWith</span>(<span class="string">&#x27;d&#x27;</span>)<span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h4 id="repeat"><a href="#repeat" class="headerlink" title="repeat"></a>repeat</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">x.<span class="title function_">repeat</span>(<span class="number">3</span>)<span class="comment">//xxx</span></span><br></pre></td></tr></table></figure>

<h4 id="padStart"><a href="#padStart" class="headerlink" title="padStart"></a>padStart</h4><p>如果长度不够，在头部自动补全</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;x&#x27;</span>.<span class="title function_">padStart</span>(<span class="number">5</span>,<span class="string">&#x27;ab&#x27;</span>);<span class="comment">//&#x27;ababx&#x27;</span></span><br></pre></td></tr></table></figure>

<h4 id="padEnd"><a href="#padEnd" class="headerlink" title="padEnd"></a>padEnd</h4><p>如果长度不够，在尾部自动补全</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;x&#x27;</span>.<span class="title function_">padEnd</span>(<span class="number">4</span>,<span class="string">&#x27;ab&#x27;</span>);<span class="comment">//&#x27;xaba&#x27;</span></span><br></pre></td></tr></table></figure>

<h4 id="trimStart"><a href="#trimStart" class="headerlink" title="trimStart"></a>trimStart</h4><p>消除字符串头部空格，返回新字符串，不改变原字符串</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">s=<span class="string">&#x27;   angkfjhgb   &#x27;</span></span><br><span class="line">s.<span class="title function_">trimStart</span>()</span><br></pre></td></tr></table></figure>

<h4 id="trimEnd"><a href="#trimEnd" class="headerlink" title="trimEnd"></a>trimEnd</h4><p>消除字符串尾部空格，返回新字符串，不改变原字符串</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">s=<span class="string">&#x27;   angkfjhgb   &#x27;</span></span><br><span class="line">s.<span class="title function_">trimEnd</span>()</span><br></pre></td></tr></table></figure>

<h4 id="at"><a href="#at" class="headerlink" title="at"></a>at</h4><p>接受一个整数作为参数，返回参数指定位置的字符，支持负索引（倒数的位置）。如果超出范围，返回undefined</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> str= <span class="string">&#x27;hello&#x27;</span></span><br><span class="line">str.<span class="title function_">at</span>(<span class="number">1</span>);<span class="comment">//e</span></span><br><span class="line">str.<span class="title function_">at</span>(-<span class="number">1</span>);<span class="comment">//o</span></span><br></pre></td></tr></table></figure>



<h2 id="数组扩展"><a href="#数组扩展" class="headerlink" title="数组扩展"></a>数组扩展</h2><h3 id="扩展运算符"><a href="#扩展运算符" class="headerlink" title="扩展运算符"></a>扩展运算符</h3><p>是…，将一个数组转为用逗号分隔的参数序列</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(...[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]);<span class="comment">//1,2,3</span></span><br><span class="line">arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(...arr);<span class="comment">//1,2,3</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>,...[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],<span class="number">5</span>);<span class="comment">//1,2,3,4,5</span></span><br></pre></td></tr></table></figure>



<h4 id="替代函数的apply"><a href="#替代函数的apply" class="headerlink" title="替代函数的apply"></a>替代函数的apply</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//求数组最大值</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="property">max</span>.<span class="title function_">apply</span>(<span class="literal">null</span>,arr))</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">max</span>(...arr))</span><br></pre></td></tr></table></figure>



<h4 id="合并数组"><a href="#合并数组" class="headerlink" title="合并数组"></a>合并数组</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">arr1=[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>([...arr,...arr1])</span><br></pre></td></tr></table></figure>



<h3 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from"></a>Array.from</h3><blockquote>
<p>将类数组转为真正的数组</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">add</span>(<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>)</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params"></span>)&#123;</span><br><span class="line">    consoe.<span class="title function_">log</span>(<span class="variable language_">arguments</span>);<span class="comment">//10,20,30</span></span><br><span class="line">    <span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="variable language_">arguments</span>);<span class="comment">//[10,20,30]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="类数组分类"><a href="#类数组分类" class="headerlink" title="类数组分类"></a>类数组分类</h4><h5 id="arguments"><a href="#arguments" class="headerlink" title="arguments"></a>arguments</h5><p>可以通过数组下标来访问，只能使用数组的读取方法和length属性，不能使用数组的方法</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">add</span>(<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>)</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params"></span>)&#123;</span><br><span class="line">    consoe.<span class="title function_">log</span>(<span class="variable language_">arguments</span>);<span class="comment">//10,20,30</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="元素集合"><a href="#元素集合" class="headerlink" title="元素集合"></a>元素集合</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> titles=<span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;h3&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(titles)</span><br></pre></td></tr></table></figure>

<h5 id="类似数组的对象"><a href="#类似数组的对象" class="headerlink" title="类似数组的对象"></a>类似数组的对象</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> user = &#123;</span><br><span class="line">    <span class="string">&#x27;0&#x27;</span>: <span class="string">&#x27;abc&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;1&#x27;</span>:<span class="number">23</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="Array-of"><a href="#Array-of" class="headerlink" title="Array.of"></a>Array.of</h3><p>将一组值转为数组</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="title function_">of</span>(<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>);<span class="comment">//[10,20,30]</span></span><br></pre></td></tr></table></figure>



<h3 id="创建数组空间"><a href="#创建数组空间" class="headerlink" title="创建数组空间"></a>创建数组空间</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Array</span>(<span class="number">3</span>);</span><br></pre></td></tr></table></figure>



<h2 id="对象扩展"><a href="#对象扩展" class="headerlink" title="对象扩展"></a>对象扩展</h2><h3 id="属性的简洁表示法"><a href="#属性的简洁表示法" class="headerlink" title="属性的简洁表示法"></a>属性的简洁表示法</h3><p>允许在大括号里面直接写入变量和函数，作为对象的属性和方法。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> name=<span class="string">&#x27;abc&#x27;</span></span><br><span class="line"><span class="keyword">var</span> user=&#123;</span><br><span class="line">    name,<span class="comment">//同名可省略</span></span><br><span class="line">    <span class="attr">age</span>:<span class="number">20</span>,</span><br><span class="line">    <span class="title function_">getName</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(user.<span class="property">name</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">abc</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> y = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">return</span> &#123;x,y&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">abc</span>().<span class="property">x</span>,<span class="title function_">abc</span>().<span class="property">y</span>);</span><br></pre></td></tr></table></figure>



<h3 id="属性名表达式"><a href="#属性名表达式" class="headerlink" title="属性名表达式"></a>属性名表达式</h3><p>用表达式作为对象的属性名</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> propkey = <span class="string">&#x27;ggyhugyftd&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    [propkey]: <span class="literal">true</span>,</span><br><span class="line">    [<span class="string">&#x27;a&#x27;</span>+<span class="string">&#x27;bc&#x27;</span>]: <span class="number">123</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="对象的扩展运算符"><a href="#对象的扩展运算符" class="headerlink" title="对象的扩展运算符"></a>对象的扩展运算符</h3><p>将运算符引入对象</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> z = &#123;<span class="attr">a</span>:<span class="number">10</span>,<span class="attr">b</span>:<span class="number">20</span>&#125;</span><br><span class="line"><span class="keyword">var</span> n = &#123;...z&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(n)</span><br></pre></td></tr></table></figure>



<h2 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h2><p>允许用箭头声明函数</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn1</span>(<span class="params"></span>)&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2</span></span><br><span class="line"><span class="keyword">var</span> fn2 = <span class="keyword">function</span>(<span class="params">x,y</span>)&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//3</span></span><br><span class="line"><span class="keyword">var</span> <span class="title function_">fn3</span> = (<span class="params">x,y</span>) =&gt; x+y</span><br></pre></td></tr></table></figure>

<p>大括号被解释成代码块，如果箭头函数直接返回一个对象，必须在对象外面加上括号，否则会报错</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title function_">fn</span> = (<span class="params"></span>) =&gt;(&#123;<span class="attr">x</span>:<span class="number">10</span>,<span class="attr">y</span>:<span class="number">20</span>&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>简化回调函数（匿名函数）</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>]</span><br><span class="line">arr.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(item);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>对于普通函数来说，内部的this指向函数运行时所在的对象，对箭头函数不成立。它没有自己的this对象，内部的this就是定义时上层作用域中的this</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> name=<span class="string">&#x27;abc&#x27;</span></span><br><span class="line"><span class="keyword">var</span> user=&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;def&quot;</span></span><br><span class="line">    <span class="attr">age</span>:<span class="number">20</span>,</span><br><span class="line">    <span class="title function_">getName</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);<span class="comment">//def</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> name=<span class="string">&#x27;abc&#x27;</span></span><br><span class="line"><span class="keyword">var</span> user=&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;def&quot;</span></span><br><span class="line">    <span class="attr">age</span>:<span class="number">20</span>,</span><br><span class="line">    <span class="title function_">getName</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);<span class="comment">//abc</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> name=<span class="string">&#x27;abc&#x27;</span></span><br><span class="line"><span class="keyword">var</span> user=&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;def&quot;</span></span><br><span class="line">    <span class="attr">age</span>:<span class="number">20</span>,</span><br><span class="line">    <span class="title function_">getName</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);<span class="comment">//def</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Set数据结构"><a href="#Set数据结构" class="headerlink" title="Set数据结构"></a>Set数据结构</h2><p>类似于数组的，但是成员的值都是唯一的，<strong>没有重复的值</strong></p>
<p>set构造函数</p>
<p>通过add方法添加成员</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> s = <span class="keyword">new</span> <span class="title class_">Set</span>();</span><br><span class="line">[<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">3</span>].<span class="title function_">forEach</span>(<span class="function"><span class="params">x</span>=&gt;</span>s.<span class="title function_">add</span>(x))</span><br></pre></td></tr></table></figure>

<p>可以接收数组作为参数</p>
<p>可作为数组去重的方法</p>
<h3 id="set-x2F-数组互相转换"><a href="#set-x2F-数组互相转换" class="headerlink" title="set&#x2F;数组互相转换"></a>set&#x2F;数组互相转换</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> s = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">3</span>]);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>([...s])</span><br></pre></td></tr></table></figure>



<h3 id="字符串去重"><a href="#字符串去重" class="headerlink" title="字符串去重"></a>字符串去重</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[...<span class="keyword">new</span> <span class="title class_">Set</span>(<span class="string">&#x27;agdhjhhk&#x27;</span>)].<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure>



<p>向set加入值的时候，不会发生类型转换，所以5和“5”不是相同的值</p>
<h3 id="size属性"><a href="#size属性" class="headerlink" title="size属性"></a>size属性</h3><p>返回实例成员的总数</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">s = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">3</span>]);</span><br><span class="line">s.<span class="property">size</span>;</span><br></pre></td></tr></table></figure>



<h3 id="add方法"><a href="#add方法" class="headerlink" title="add方法"></a>add方法</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">s = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">3</span>]);</span><br><span class="line">s.<span class="title function_">add</span>(<span class="number">5</span>);</span><br></pre></td></tr></table></figure>



<h3 id="delete方法"><a href="#delete方法" class="headerlink" title="delete方法"></a>delete方法</h3><p>返回一个布尔值，表示删除是否</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">s = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">3</span>]);</span><br><span class="line">s.<span class="title function_">add</span>(<span class="number">5</span>);</span><br><span class="line">s.<span class="title function_">delete</span>(<span class="number">5</span>)</span><br></pre></td></tr></table></figure>



<h3 id="has方法"><a href="#has方法" class="headerlink" title="has方法"></a>has方法</h3><p>返回布尔值，表示是否是成员</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">s = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">3</span>]);</span><br><span class="line">s.<span class="title function_">has</span>(<span class="number">5</span>);</span><br></pre></td></tr></table></figure>



<h3 id="clear方法"><a href="#clear方法" class="headerlink" title="clear方法"></a>clear方法</h3><p>清除所有成员，没有返回值</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">s = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">3</span>]);</span><br><span class="line">s.<span class="title function_">clear</span>()</span><br></pre></td></tr></table></figure>



<h2 id="Promise对象"><a href="#Promise对象" class="headerlink" title="Promise对象"></a>Promise对象</h2><h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><p>异步编程中一种解决方案。Promise就是一个容器，里面保存着某个未来才会结束的事件（通常是一个异步操作）的结果。从语法上说，promise是一个对象，可以获取异步操作的消息。提供统一API，各种异步操作都可以用同样的方法进行处理</p>
<h3 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve,reject</span>))&#123;</span><br><span class="line">  <span class="comment">//异步处理</span></span><br><span class="line">  <span class="keyword">if</span>(<span class="comment">/*成功*/</span>)&#123;</span><br><span class="line">    <span class="title function_">resolve</span>(value);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="title function_">reject</span>(error);</span><br><span class="line">&#125;</span><br><span class="line">	<span class="keyword">return</span> promise;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">promise.<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">value</span>)&#123;</span><br><span class="line">    <span class="comment">//success</span></span><br><span class="line">&#125;,<span class="keyword">function</span>(<span class="params">error</span>)&#123;</span><br><span class="line">    </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<h3 id="Ajax实操"><a href="#Ajax实操" class="headerlink" title="Ajax实操"></a>Ajax实操</h3><p>promise封装ajax，让异步请求的异常操作变得更简单</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> getJSON = <span class="keyword">function</span>(<span class="params">url</span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve,reject</span>)&#123;</span><br><span class="line">        <span class="comment">//异步操作</span></span><br><span class="line">        <span class="keyword">const</span> handler = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        	<span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">readyState</span> !==<span class="number">4</span>)&#123;</span><br><span class="line">            	<span class="keyword">return</span> ;</span><br><span class="line">        	&#125;</span><br><span class="line">        	<span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">readyState</span> ===<span class="number">200</span>)&#123;</span><br><span class="line">            	<span class="title function_">resolve</span>(<span class="variable language_">this</span>.<span class="property">response</span>);</span><br><span class="line">        	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="variable language_">this</span>.<span class="property">statusText</span>))</span><br><span class="line">			&#125;</span><br><span class="line">    	&#125;</span><br><span class="line">        <span class="keyword">const</span> client = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">    	client.<span class="title function_">open</span>(<span class="string">&quot;GET&quot;</span>,url);</span><br><span class="line">    	client.<span class="property">onreadystatechange</span> = handler <span class="comment">//接受前后端交互的状态</span></span><br><span class="line">    	client.<span class="property">responseType</span>= <span class="string">&quot;json&quot;</span>;</span><br><span class="line">    	client.<span class="title function_">setRequestHeader</span>(<span class="string">&quot;Accept&quot;</span>,<span class="string">&quot;application/json&quot;</span>);</span><br><span class="line">    	client.<span class="title function_">send</span>();</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> promise;</span><br><span class="line">    </span><br><span class="line">    <span class="title function_">getJSON</span>(<span class="string">&quot;http://xx.php&quot;</span>).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">data</span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">    &#125;,<span class="keyword">function</span>(<span class="params">error</span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Async函数"><a href="#Async函数" class="headerlink" title="Async函数"></a>Async函数</h2><p>可以将异步操作变为同步操作</p>
<p>定时器是异步的</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">print</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;定时器&quot;</span>);</span><br><span class="line">    &#125;,<span class="number">10</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">print</span>();<span class="comment">//先输出hello再输出定时器</span></span><br></pre></td></tr></table></figure>

<p>解决方案</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">timeout</span>(<span class="params">ms</span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;定时器&quot;</span>);</span><br><span class="line">        	<span class="title function_">resolve</span>();</span><br><span class="line">            ),ms)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">asyncPrint</span>(<span class="params">ms,value</span>)&#123;</span><br><span class="line">    <span class="comment">//把具有异步操作的代码钱买你放入await</span></span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">timeout</span>(ms);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">asyncPrint</span>(<span class="number">100</span>,<span class="string">&quot;hello&quot;</span>)</span><br></pre></td></tr></table></figure>



<h2 id="class类"><a href="#class类" class="headerlink" title="class类"></a>class类</h2><h3 id="ES5"><a href="#ES5" class="headerlink" title="ES5"></a>ES5</h3><h4 id="ES5的类像函数可以提升"><a href="#ES5的类像函数可以提升" class="headerlink" title="ES5的类像函数可以提升"></a>ES5的类像函数可以提升</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Point</span>(<span class="params">x,y</span>)&#123;<span class="comment">//首字母大写说明它是类，小写说明它是函数</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">x</span>=x;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">y</span>=y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Point</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">getx</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="comment">//增加方法</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> <span class="title class_">Point</span>(<span class="number">3</span>,<span class="number">4</span>);</span><br><span class="line">p.<span class="title function_">getx</span>();</span><br></pre></td></tr></table></figure>



<h3 id="ES6-1"><a href="#ES6-1" class="headerlink" title="ES6"></a>ES6</h3><h4 id="ES6的类不存在提升"><a href="#ES6的类不存在提升" class="headerlink" title="ES6的类不存在提升"></a>ES6的类不存在提升</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">x,y</span>)&#123;<span class="comment">//构造函数传参</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">x</span>=x;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">y</span>=y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">getx</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> <span class="title class_">Point</span>(<span class="number">3</span>,<span class="number">4</span>);<span class="comment">//实例对象</span></span><br><span class="line">p.<span class="title function_">getx</span>();</span><br></pre></td></tr></table></figure>



<h3 id="静态方法"><a href="#静态方法" class="headerlink" title="静态方法"></a>静态方法</h3><p>类相当于实例的原型，所有在类中定义的方法，都会被实例继承。如果在一个方法前加上static关键字，就表示该方法不会被实例继承，而是直接通过类来调用。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">class Point&#123;</span><br><span class="line">    static getx()&#123;</span><br><span class="line">        console.log(&quot;&quot;);</span><br><span class="line">        //this指的是类Point</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">Point.getx()</span><br></pre></td></tr></table></figure>



<h2 id="Module语法"><a href="#Module语法" class="headerlink" title="Module语法"></a>Module语法</h2><p>export输出代码</p>
<p>import输入代码</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> <span class="title class_">Hello</span> = <span class="string">&quot;hello&quot;</span><span class="comment">//hello.js文件</span></span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">Hello</span>&#125; <span class="keyword">from</span> <span class="string">&quot;./hello.js&quot;</span><span class="comment">//index.js文件</span></span><br></pre></td></tr></table></figure>



<h3 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h3><p>项目路径下安装：npm install -D babel-preset-env</p>
<p>运行代码：babel-node –presets env index.js(要运行的文件)</p>
<h3 id="export"><a href="#export" class="headerlink" title="export"></a>export</h3><h4 id="导出变量"><a href="#导出变量" class="headerlink" title="导出变量"></a>导出变量</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> year=<span class="number">2000</span></span><br></pre></td></tr></table></figure>



<h4 id="导出函数"><a href="#导出函数" class="headerlink" title="导出函数"></a>导出函数</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">x,y</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> (x,y);  </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h3 id="import"><a href="#import" class="headerlink" title="import"></a>import</h3><h4 id="导入变量"><a href="#导入变量" class="headerlink" title="导入变量"></a>导入变量</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;a,b,c&#125; <span class="keyword">from</span> <span class="string">&#x27;./xxx.js&#x27;</span></span><br></pre></td></tr></table></figure>



<h4 id="导入函数"><a href="#导入函数" class="headerlink" title="导入函数"></a>导入函数</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;value <span class="keyword">as</span> val&#125; <span class="keyword">from</span> <span class="string">&#x27;./xxx.js&#x27;</span><span class="comment">//改名</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> <span class="title class_">MyHello</span> <span class="keyword">from</span> <span class="string">&#x27;./hello&#x27;</span><span class="comment">//表示导入的是hello的js文件里面全部导出的变量</span></span><br></pre></td></tr></table></figure>



<h3 id="export-default"><a href="#export-default" class="headerlink" title="export default"></a>export default</h3><p>表示默认导出</p>
<p>只能有一个</p>
<h1 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h1><h2 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vue create vue-demo</span><br><span class="line">选择第三个</span><br><span class="line">选择一三</span><br><span class="line">选择版本3</span><br><span class="line">选择第一个</span><br><span class="line">选择n</span><br></pre></td></tr></table></figure>

<p>assets存放静态资源，公共css文件，图片文件</p>
<p>components存放vue的组件</p>
<p>App.vue主入口的组件，根组件</p>
<h2 id="模板语法"><a href="#模板语法" class="headerlink" title="模板语法"></a>模板语法</h2><p>template：写html</p>
<p>script：写业务逻辑</p>
<h3 id="文本"><a href="#文本" class="headerlink" title="文本"></a>文本</h3><p>数据绑定最常见的形式就是使用双大括号语法的插值</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;span&gt;Message:&#123;&#123; msg &#125;&#125;&lt;/span&gt;</span><br></pre></td></tr></table></figure>





















































]]></content>
      <tags>
        <tag>html5，css，js</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>/2023/08/11/%E5%89%8D%E7%AB%AF%E7%A4%BE%E6%8B%9B%E7%AC%94%E8%AF%95%E9%A2%98/</url>
    <content><![CDATA[<h1 id="百度"><a href="#百度" class="headerlink" title="百度"></a>百度</h1><h2 id="百度2020校招Web前端工程师笔试卷（第三批）"><a href="#百度2020校招Web前端工程师笔试卷（第三批）" class="headerlink" title="百度2020校招Web前端工程师笔试卷（第三批）"></a>百度2020校招Web前端工程师笔试卷（第三批）</h2><p>链接：<a href="https://zhuanlan.zhihu.com/p/544331738">请点这里</a></p>
<h3 id="1请选出3的颜色"><a href="#1请选出3的颜色" class="headerlink" title="1请选出3的颜色"></a>1请选出3的颜色</h3><p>a 蓝色 b绿色 c红色 d黄色</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-tag">ul</span> &#123; <span class="attribute">color</span>: blue <span class="meta">!important</span>; &#125;     <span class="comment">/* 设置无序列表（ul）的文本颜色为蓝色，并使用 !important 标记，表示该样式优先级高于其他样式。 */</span></span></span><br><span class="line"><span class="language-css">  <span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span> &#123;  <span class="attribute">color</span>: green; &#125;          <span class="comment">/* 设置直接子级列表项（li）的文本颜色为绿色。 */</span></span></span><br><span class="line"><span class="language-css">  <span class="selector-tag">ul</span> <span class="selector-tag">li</span> + <span class="selector-tag">li</span> &#123; <span class="attribute">color</span>: red;  &#125;         <span class="comment">/* 设置列表项（li）中，紧邻前一个列表项的文本颜色为红色。 */</span></span></span><br><span class="line"><span class="language-css">  <span class="selector-tag">li</span> &#123;  <span class="attribute">color</span>: yellow;  &#125;             <span class="comment">/* 设置所有列表项（li）的文本颜色为黄色。 */</span></span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>选择c</p>
<p>代码运行结果：</p>
<p><img src="D:\blog\source_posts\前端社招笔试题.assets\image-20230811165409052.png" alt="image-20230811165409052"></p>
<p>！important优先级最高，但被后面的继承覆盖掉了<br>        ul&gt; li选择父元素是 <ul> 的所有 <li> 元素<br>        ul li+li <strong>相邻兄弟选择器</strong> (+) 介于两个选择器之间，当第二个元素<em>紧跟在</em>第一个元素之后，并且两个元素都是属于同一个父元素的子元素，则第二个元素将被选中。而这里并没有指明第一个元素就是最前面的哪一个li，所以每一个li都会找自己的兄弟，结果就是除了第一个li以外的所有li都被选中。<br>        li 单个元素选择器<br>        对比优先级：3个元素选择器&gt;2个&gt;1个 所以，1、2、3三个元素的颜色分别为green、red、red</p>
</blockquote>
<h3 id="2"><a href="#2" class="headerlink" title="2"></a>2</h3><p>下列哪项transform属性可以对元素进行旋转（）</p>
<p>A translate                                 B scale</p>
<p>C rotate                                      D skew</p>
<blockquote>
<p>选a</p>
<p>transform 属性向元素应用 2D 或 3D 转换。该属性允许我们对元素进行旋转、缩放、移动或倾斜。</p>
</blockquote>
<h3 id="3"><a href="#3" class="headerlink" title="3"></a>3</h3>]]></content>
  </entry>
  <entry>
    <title>什么是数学建模</title>
    <url>/2023/07/16/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1/</url>
    <content><![CDATA[<h1 id="数学模型"><a href="#数学模型" class="headerlink" title="数学模型"></a>数学模型</h1><h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p>对一个现实世界的特定对象，为了某个目的，根据内在规律，作出必要的简化假设，运用数学工具，得到数学结构</p>
<h2 id="举例"><a href="#举例" class="headerlink" title="举例"></a>举例</h2><p>自由落体运动，高度和时间的函数关系式<br>$$<br>h&#x3D;\frac{1}{2}gt^2<br>$$</p>
<h2 id="常用的分类标准数学模型"><a href="#常用的分类标准数学模型" class="headerlink" title="常用的分类标准数学模型"></a>常用的分类标准数学模型</h2><h3 id="按变量性质"><a href="#按变量性质" class="headerlink" title="按变量性质"></a>按变量性质</h3><p>确定性模型和随机性模型</p>
<p>连续模型和离散模型</p>
<h3 id="按时间关系"><a href="#按时间关系" class="headerlink" title="按时间关系"></a>按时间关系</h3><p>静态模型和动态模型</p>
<h3 id="按研究工具"><a href="#按研究工具" class="headerlink" title="按研究工具"></a>按研究工具</h3><p>初等模型、几何模型、微分方程模型、运筹学模型、概率模型、统计模型、图论与网络模型、层次分析模型、系统动力学模型、灰色系统模型</p>
<h3 id="按研究对象"><a href="#按研究对象" class="headerlink" title="按研究对象"></a>按研究对象</h3><p>经济模型、生态模型、人口模型、交通模型、战争模型、资源模型、环境模型</p>
<h3 id="按建模目的"><a href="#按建模目的" class="headerlink" title="按建模目的"></a>按建模目的</h3><p>分析模型、预测模型、优化模型、决策模型、控制模型</p>
<h2 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h2><p>逼真性、可行性、渐进性（建模的反复迭代）、强健性（抗干扰能力，适应能力）、转移性、逻辑性</p>
<h1 id="数学建模"><a href="#数学建模" class="headerlink" title="数学建模"></a>数学建模</h1><h2 id="概念-1"><a href="#概念-1" class="headerlink" title="概念"></a>概念</h2><p>应用知识从实际课题中抽象、提炼出数学模型的过程</p>
<h2 id="一般步骤"><a href="#一般步骤" class="headerlink" title="一般步骤"></a>一般步骤</h2><p>对现实问题的调查研究——假设+简化+抽象——简历初步数学模型——对模型检验和评价——改进模型——迭代</p>
<p>ps：</p>
<p>在检验和评价阶段可以采用75%的数据建模，25%的数据评价和检验</p>
<h3 id="调查研究"><a href="#调查研究" class="headerlink" title="调查研究"></a>调查研究</h3><p>需要大量查看参考文献，了解实际问题的历史背景和内在规律，对问题进行全面的、深入的、细致的调查和研究，收集相关的数据</p>
<h3 id="模型假设"><a href="#模型假设" class="headerlink" title="模型假设"></a>模型假设</h3><p>抓住主要因素，暂不考虑或忽略次要因素，对模型大胆假设，理清变量之间的关系，建立相应模型</p>
<h3 id="模型建立"><a href="#模型建立" class="headerlink" title="模型建立"></a>模型建立</h3><p>实体或对象之间的内在关系用数学语言加以描述，建立问题的数学结构，得到数学模型</p>
<h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><h5 id="分清变量类型，恰当使用数学工具"><a href="#分清变量类型，恰当使用数学工具" class="headerlink" title="分清变量类型，恰当使用数学工具"></a>分清变量类型，恰当使用数学工具</h5><p>如果是<strong>确定型变量</strong>，建模多用微积分、微分方程、线性规划、非线性规划、图论与网络、投入产出、插值与拟合</p>
<p>如果是<strong>随机变量</strong>，建模多用概率、统计、随机性存储论、排队论、对策论、决策论、随机微分方程</p>
<h5 id="抓住问题本质，简化变量之间的关系"><a href="#抓住问题本质，简化变量之间的关系" class="headerlink" title="抓住问题本质，简化变量之间的关系"></a>抓住问题本质，简化变量之间的关系</h5><p>建模原则：模型简单明了，思路清晰，侧重于实际应用</p>
<h5 id="建模要有严密推理"><a href="#建模要有严密推理" class="headerlink" title="建模要有严密推理"></a>建模要有严密推理</h5><h5 id="建模要有足够的精确度"><a href="#建模要有足够的精确度" class="headerlink" title="建模要有足够的精确度"></a>建模要有足够的精确度</h5><h3 id="模型求解"><a href="#模型求解" class="headerlink" title="模型求解"></a>模型求解</h3><h3 id="模型检验"><a href="#模型检验" class="headerlink" title="模型检验"></a>模型检验</h3><p><strong>对模型进行分析和检验</strong></p>
<p>分析：误差分析，模型对数据的稳定性分析和灵敏度分析</p>
<p>检验：得到结果的理论值与实际值相比较</p>
<h3 id="模型应用"><a href="#模型应用" class="headerlink" title="模型应用"></a>模型应用</h3><h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><blockquote>
<h3 id="中国未来五十年的人口预测"><a href="#中国未来五十年的人口预测" class="headerlink" title="中国未来五十年的人口预测"></a>中国未来五十年的人口预测</h3><p>当今，人类生存面临五大问题：人口问题、工业化的资金问题、粮食问题、资源问题和环境污染问题。其中人口问题为首要问题，主要是人口增长过快，尤其是20世纪70年代到80年代，增加10亿人口只用了12年。有人预计到21世纪中叶，人类将超过100亿。地球上人类可利用的资源是有限的，世界人口的迅速膨胀，尤其是发展中国家过高的人口增长率成为十分严峻的问题。</p>
<p>面临这样的形式问题，我们国家作为发展中国家的必须进行自我控制，即采取必要的措施来抑制过快的人口增长率。而影响人口增长的因素有哪些？其中人口的基数、出生率和死亡率的高低、人口男女比例大小、人口年龄组成情况、工农业生产水平的高低、营养条件、医疗水平、人口素质和环境污染等诸因素都影响人口增长、另外各民族的风俗习惯、传统观念、自然灾难、战争和人口迁移等也与人口增长密切相关。</p>
<p>试建立一个数学模型，对我国人口作出增长预测和控制，为正确的人口政策提供科学的依据。</p>
</blockquote>
<p>思考：首先确定主要因素是人口基数，出生率和死亡率，其他因素作为次要因素，接下来提出假设，假设我国人口基数此时为x，出生率今年为b，死亡率今年为d，由此得出下一年的人口数量为：（1+b-d）x，出生率和死亡率可以参考往年的数值。</p>
<blockquote>
<h2 id="老师的思路"><a href="#老师的思路" class="headerlink" title="老师的思路"></a>老师的思路</h2><p>假设人口增长只与人口的基数和增长率有关，这两个为主要因素。N0表示当年人口基数，r表示年增长率，Nk表示k年后人口数量，建立数学模型<br>$$<br>Nk&#x3D;N0（1+r）^k<br>$$<br>对模型检验需要搜集获得足够的数据。</p>
<p>检验后发现模型不好，采用马尔萨斯模型，之后又发现不够好，于是改进为逻辑斯蒂模型</p>
</blockquote>
]]></content>
      <categories>
        <category>数学建模</category>
      </categories>
      <tags>
        <tag>数学建模</tag>
      </tags>
  </entry>
  <entry>
    <title>找工作历程</title>
    <url>/2023/10/10/%E6%89%BE%E5%B7%A5%E4%BD%9C%E5%8E%86%E7%A8%8B/</url>
    <content><![CDATA[<h1 id="第一次投简历-java后端"><a href="#第一次投简历-java后端" class="headerlink" title="第一次投简历-java后端"></a>第一次投简历-java后端</h1><h2 id="时间"><a href="#时间" class="headerlink" title="时间"></a>时间</h2><ul>
<li>2023&#x2F;10&#x2F;10</li>
</ul>
<h2 id="招聘信息"><a href="#招聘信息" class="headerlink" title="招聘信息"></a>招聘信息</h2><ul>
<li><p>老师群里发布一个招聘信息</p>
<p><img src="D:\blog\source_posts\找工作历程.assets\image-20231010222641486.png" alt="image-20231010222641486"></p>
</li>
</ul>
<h2 id="思想历程"><a href="#思想历程" class="headerlink" title="思想历程"></a>思想历程</h2><blockquote>
<p>我的思想历程：</p>
<p>这次我还没有准备好，而且我的技术知识还不够完备，投这次简历主要是为了判断我的简历的水准，以及可以的话，想了解下面试的流程。</p>
</blockquote>
<h2 id="简历"><a href="#简历" class="headerlink" title="简历"></a>简历</h2><p> <a href="%E6%89%BE%E5%B7%A5%E4%BD%9C%E5%8E%86%E7%A8%8B.assets%5C%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%8A%95%E5%AE%9E%E4%B9%A0%E7%AE%80%E5%8E%86-%E5%90%8E%E7%AB%AF.pdf">第一次投实习简历-后端.pdf</a>  </p>
<h2 id="发送过程（留念）"><a href="#发送过程（留念）" class="headerlink" title="发送过程（留念）"></a>发送过程（留念）</h2><p><img src="D:\blog\source_posts\找工作历程.assets\6273a4426311a165a01625375310bb7.png" alt="6273a4426311a165a01625375310bb7"></p>
<h2 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h2>]]></content>
      <tags>
        <tag>找工作</tag>
      </tags>
  </entry>
  <entry>
    <title>网站搭建</title>
    <url>/2023/08/30/%E6%90%AD%E5%BB%BA%E7%BD%91%E7%AB%99/</url>
    <content><![CDATA[<h1 id="前端"><a href="#前端" class="headerlink" title="前端"></a>前端</h1><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 添加全局前置守卫</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// const requiresAuth = to.matched.some(record =&gt; record.meta.requiresAuth);</span></span><br><span class="line">    <span class="keyword">const</span> isCookieValid = <span class="title function_">validateCookie</span>(); <span class="comment">// 调用验证 cookie 的函数</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 如果目标为登录页面，则直接放行导航</span></span><br><span class="line">    <span class="keyword">if</span> (to.<span class="property">path</span> === <span class="string">&#x27;/login&#x27;</span> || to.<span class="property">path</span> === <span class="string">&#x27;/admin&#x27;</span>) &#123;</span><br><span class="line">        <span class="title function_">next</span>(); <span class="comment">// 如果目标路径已经是登录路径，则直接放行导航</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (isCookieValid) &#123;</span><br><span class="line">        <span class="comment">// cookie 有效，或者不需要验证，继续导航到目标页面</span></span><br><span class="line">        <span class="title function_">next</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 如果需要验证且 cookie 无效，重定向到登录页面</span></span><br><span class="line">        <span class="title function_">next</span>(<span class="string">&#x27;/login&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 解密 DES 函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">decryptDES</span>(<span class="params">ciphertext: <span class="built_in">string</span>, key: <span class="built_in">string</span>, iv: <span class="built_in">string</span></span>): <span class="built_in">string</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> decrypted = <span class="title class_">CryptoJS</span>.<span class="property">DES</span>.<span class="title function_">decrypt</span>(&#123;</span><br><span class="line">        <span class="attr">ciphertext</span>: <span class="title class_">CryptoJS</span>.<span class="property">enc</span>.<span class="property">Hex</span>.<span class="title function_">parse</span>(ciphertext),</span><br><span class="line">    &#125;, <span class="title class_">CryptoJS</span>.<span class="property">enc</span>.<span class="property">Utf8</span>.<span class="title function_">parse</span>(key), &#123;</span><br><span class="line">        <span class="attr">iv</span>: <span class="title class_">CryptoJS</span>.<span class="property">enc</span>.<span class="property">Hex</span>.<span class="title function_">parse</span>(iv),</span><br><span class="line">        <span class="attr">mode</span>: <span class="title class_">CryptoJS</span>.<span class="property">mode</span>.<span class="property">CBC</span>,</span><br><span class="line">        <span class="attr">padding</span>: <span class="title class_">CryptoJS</span>.<span class="property">pad</span>.<span class="property">Pkcs7</span>,</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> decrypted.<span class="title function_">toString</span>(<span class="title class_">CryptoJS</span>.<span class="property">enc</span>.<span class="property">Utf8</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 验证 cookie 的函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">validateCookie</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> cookies = <span class="variable language_">document</span>.<span class="property">cookie</span>.<span class="title function_">split</span>(<span class="string">&#x27;;&#x27;</span>); <span class="comment">// 将所有 Cookie 拆分成数组</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; cookies.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">const</span> cookie = cookies[i].<span class="title function_">trim</span>().<span class="title function_">split</span>(<span class="string">&#x27;=&#x27;</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (cookie[<span class="number">0</span>] == <span class="string">&#x27;expiration_time&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> ciphertext = cookie[<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">const</span> key = <span class="string">&#x27;88888888&#x27;</span>;</span><br><span class="line">            <span class="keyword">const</span> iv = <span class="string">&#x27;0000000000000000&#x27;</span>;</span><br><span class="line">            <span class="keyword">const</span> plaintext = <span class="title function_">decryptDES</span>(ciphertext, key, iv);</span><br><span class="line">            <span class="comment">// 将 plaintext 转换为数字</span></span><br><span class="line">            <span class="keyword">const</span> expiration_time = <span class="built_in">parseInt</span>(plaintext);</span><br><span class="line">            <span class="comment">// 获取当前时间戳</span></span><br><span class="line">            <span class="keyword">const</span> timestamp = <span class="title class_">Date</span>.<span class="title function_">parse</span>(<span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">toString</span>()) / <span class="number">1000</span>;</span><br><span class="line">            <span class="keyword">if</span> (expiration_time &gt; timestamp) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>; <span class="comment">// 如果 cookie 有效，返回 true</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// 如果 cookie 无效，返回 false</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// 如果未找到 expiration_time，返回 false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure>



<h2 id="to-from-next"><a href="#to-from-next" class="headerlink" title="(to, from, next)"></a>(to, from, next)</h2><blockquote>
<p><code>(to, from, next)</code> 是 Vue Router 中全局前置守卫函数的参数，用于控制路由导航的流程。这三个参数分别代表了：</p>
<ol>
<li><code>to</code>：即将进入的目标路由对象，表示用户要导航到的路由。</li>
<li><code>from</code>：即将离开的当前路由对象，表示用户要离开的路由。</li>
<li><code>next</code>：一个回调函数，用于控制路由导航是否继续进行。它可以接受一个参数，用于指定导航的下一个步骤，如继续导航到目标路由、中断导航或重定向到其他路由。</li>
</ol>
<p>在全局前置守卫函数内部，你可以根据 <code>to</code> 和 <code>from</code> 的信息，来进行路由导航的控制和判断。<code>next</code> 函数则决定了路由是否继续进行，有以下用法：</p>
<ul>
<li><code>next()</code>：继续导航到目标路由，相当于放行。</li>
<li><code>next(false)</code>：中断导航，不进行路由切换。</li>
<li><code>next(&#39;/path&#39;)</code>：重定向到其他路径，相当于进行路由跳转。</li>
</ul>
</blockquote>
]]></content>
      <tags>
        <tag>router,部署,前端</tag>
      </tags>
  </entry>
  <entry>
    <title>一些常用的数学模型</title>
    <url>/2023/07/31/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1%E6%A8%A1%E5%9E%8B/</url>
    <content><![CDATA[<p>代码来源：<a href="https://zhuanlan.zhihu.com/p/618061990?utm_id=0">https://zhuanlan.zhihu.com/p/618061990?utm_id=0</a></p>
<h1 id="线性规划"><a href="#线性规划" class="headerlink" title="线性规划"></a>线性规划</h1><p>导入代码模块</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> scipy</span><br><span class="line"><span class="keyword">import</span> sympy</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"><span class="keyword">import</span> numpy</span><br></pre></td></tr></table></figure>



<h2 id="简单线性规划"><a href="#简单线性规划" class="headerlink" title="简单线性规划"></a>简单线性规划</h2><h3 id="例一（linprog）"><a href="#例一（linprog）" class="headerlink" title="例一（linprog）"></a>例一（linprog）</h3><p><img src="https://pic2.zhimg.com/80/v2-c6f90939bd931458d35d950cea8f2d59_1440w.webp" alt="img"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 简单线性规划</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> scipy.optimize <span class="keyword">import</span> linprog</span><br><span class="line"></span><br><span class="line"><span class="comment"># 目标函数</span></span><br><span class="line">f=[-<span class="number">2</span>,-<span class="number">3</span>,<span class="number">5</span>]</span><br><span class="line"><span class="comment"># 小于等于约束</span></span><br><span class="line">aub=[[-<span class="number">2</span>,<span class="number">5</span>,-<span class="number">1</span>],[<span class="number">1</span>,<span class="number">3</span>,<span class="number">1</span>]]</span><br><span class="line">bub=[-<span class="number">10</span>,<span class="number">12</span>]</span><br><span class="line"><span class="comment"># 等式约束</span></span><br><span class="line">aeq=[[<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>]]</span><br><span class="line">beq=[<span class="number">7</span>]</span><br><span class="line"><span class="comment"># 非零约束</span></span><br><span class="line">x0bounds=(<span class="number">0</span>,<span class="literal">None</span>)</span><br><span class="line">x1bounds=(<span class="number">0</span>,<span class="literal">None</span>)</span><br><span class="line">x3bounds=(<span class="number">0</span>,<span class="literal">None</span>)</span><br><span class="line"><span class="comment"># 标准型线性规划：最小值、小于等于约束、等输约束、非零约束</span></span><br><span class="line"><span class="comment"># simplex单纯形法；interior-point内点法;highs使用HIPS求解器</span></span><br><span class="line">res = linprog(f, A_ub=aub, b_ub=bub,A_eq=aeq,b_eq=beq ,bounds=[x0bounds, x1bounds,x3bounds], method=<span class="string">&#x27;highs&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(res)</span><br></pre></td></tr></table></figure>

<p>运行时结果：</p>
<p><img src="D:\blog\source_posts\数学建模模型.assets\image-20230731183116746.png" alt="image-20230731183116746"></p>
<blockquote>
<p>这段代码是关于数学线性规划的Python代码运行后得出的结果。让我逐步解释一下每一部分的含义：</p>
<ol>
<li><code>con</code>: 这是一个数组，值为 <code>[0.]</code>。通常在线性规划中，这个数组表示约束条件（constraints）。这里只有一个约束条件，即等式约束条件。</li>
<li><code>crossover_nit</code>: 这个值为 <code>0</code>，表示交叉（crossover）的迭代次数。</li>
<li><code>eqlin</code>: 这是一个包含 <code>marginals</code> 和 <code>residual</code> 两个部分的等式约束信息。<code>marginals</code> 表示等式约束条件的边际值，值为 <code>[-2.28571429]</code>。而 <code>residual</code> 表示等式约束条件的残差，值为 <code>[0.]</code>。</li>
<li><code>fun</code>: 这个值为 <code>-14.571428571428573</code>，表示线性规划的目标函数值（objective function value）。目标是最大化或最小化此值。</li>
<li><code>ineqlin</code>: 这是一个包含 <code>marginals</code> 和 <code>residual</code> 两个部分的不等式约束信息。<code>marginals</code> 表示不等式约束条件的边际值，值为 <code>[-0.14285714, -0. ]</code>。而 <code>residual</code> 表示不等式约束条件的残差，值为 <code>[0., 3.85714286]</code>。这里有两个不等式约束条件。</li>
<li><code>lower</code>: 这是一个包含 <code>marginals</code> 和 <code>residual</code> 两个部分的下界信息。<code>marginals</code> 表示变量的下界（lower bound）边际值，但该值由一个内存视图（MemoryView）来表示。而 <code>residual</code> 表示下界条件的残差，值为 <code>[6.42857143, 0.57142857, 0.]</code>。</li>
<li><code>message</code>: 这是一个字符串，值为 <code>&#39;Optimization terminated successfully.&#39;</code>，表示优化过程成功终止。</li>
<li><code>nit</code>: 这个值为 <code>3</code>，表示迭代次数（iterations）。</li>
<li><code>slack</code>: 这是一个数组，值为 <code>[0., 3.85714286]</code>。在线性规划中，这个数组表示松弛变量（slack variables），它们用于衡量不等式约束条件是否被满足。</li>
<li><code>status</code>: 这个值为 <code>0</code>，表示优化的状态。在大多数优化库中，状态为 <code>0</code> 表示成功找到最优解。</li>
<li><code>success</code>: 这个值为 <code>True</code>，表示优化是否成功。</li>
<li><code>upper</code>: 这是一个包含 <code>marginals</code> 和 <code>residual</code> 两个部分的上界信息。<code>marginals</code> 表示变量的上界（upper bound）边际值，但该值由一个内存视图（MemoryView）来表示。而 <code>residual</code> 表示上界条件的残差，值为 <code>[inf, inf, inf]</code>。这里 <code>inf</code> 表示正无穷大，说明部分变量可能没有上界。</li>
<li><code>x</code>: 这是一个数组，值为 <code>[6.42857143, 0.57142857, 0.]</code>。这是线性规划得出的最优解，表示使目标函数达到最大或最小值时的变量取值。</li>
</ol>
<p>综上所述，这段数学线性规划代码的运行结果表明优化成功，得出的最优解为 <code>x = [6.42857143, 0.57142857, 0.]</code>，在这个解下，目标函数的值为 <code>-14.571428571428573</code>。同时，满足了等式约束条件以及不等式约束条件，并且部分变量可能没有上界。</p>
</blockquote>
<h3 id="例二（linprog）"><a href="#例二（linprog）" class="headerlink" title="例二（linprog）"></a>例二（linprog）</h3><p><img src="https://pic2.zhimg.com/80/v2-8b7ba11e726c91025155a9f073fda695_1440w.webp" alt="img"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 简单线性规划</span></span><br><span class="line"><span class="keyword">from</span> scipy.optimize <span class="keyword">import</span> linprog</span><br><span class="line"><span class="comment"># 目标函数</span></span><br><span class="line">f=[-<span class="number">4</span>,-<span class="number">3</span>]</span><br><span class="line"><span class="comment"># 小于等于约束</span></span><br><span class="line">aub=[[<span class="number">2</span>,<span class="number">1</span>],[<span class="number">1</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">1</span>]]</span><br><span class="line">bub=[<span class="number">10</span>,<span class="number">8</span>,<span class="number">7</span>]</span><br><span class="line"><span class="comment"># 等式约束</span></span><br><span class="line">aeq=<span class="literal">None</span></span><br><span class="line">beq=<span class="literal">None</span></span><br><span class="line"><span class="comment"># 非零约束</span></span><br><span class="line">x0bounds=(<span class="number">0</span>,<span class="literal">None</span>)</span><br><span class="line">x1bounds=(<span class="number">0</span>,<span class="literal">None</span>)</span><br><span class="line">x=[x0bounds, x1bounds]</span><br><span class="line"><span class="comment"># 标准型线性规划：最小值、小于等于约束、等输约束、非零约束</span></span><br><span class="line"><span class="comment"># simplex单纯形法；interior-point内点法;highs使用HIPS求解器</span></span><br><span class="line">res = linprog(f, A_ub=aub, b_ub=bub,A_eq=aeq,b_eq=beq ,bounds=x, method=<span class="string">&#x27;simplex&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(res)</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\数学建模模型.assets\image-20230731183904084.png" alt="image-20230731183904084"></p>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p>其他的方法有：</p>
<ul>
<li><a href="https://blog.csdn.net/m0_54510474/article/details/127849897#minimize_51">minimize()函数</a></li>
<li><a href="https://blog.csdn.net/m0_54510474/article/details/127849897#cvxpy_96">cvxpy库</a></li>
<li><a href="https://blog.csdn.net/m0_54510474/article/details/127849897#cvxopt_130">cvxopt库</a></li>
</ul>
<p>可查看：<a href="https://blog.csdn.net/m0_54510474/article/details/127849897">https://blog.csdn.net/m0_54510474/article/details/127849897</a></p>
<h2 id="简单整数规划"><a href="#简单整数规划" class="headerlink" title="简单整数规划"></a>简单整数规划</h2><p><img src="https://pic3.zhimg.com/80/v2-b68d4e5869618c8b0c3a38088d27de7a_1440w.webp" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 简单整数规划</span><br><span class="line"></span><br><span class="line">import pulp as pp</span><br><span class="line"># 参数设置</span><br><span class="line">c = [3,4,1]        #目标函数未知数前的系数</span><br><span class="line"># 约束1</span><br><span class="line">A_gq = [[1,6,2],[2,0,0]]   # 大于等于式子 未知数前的系数集合 二维数组</span><br><span class="line">b_gq = [5,3]         # 大于等于式子右边的数值 一维数组</span><br><span class="line"># 确定最大最小化问题，当前确定的是最小化问题</span><br><span class="line">m = pp.LpProblem(sense=pp.LpMinimize)</span><br><span class="line"># 定义三个变量放到列表中 生成x1 x2 x3</span><br><span class="line">x = [pp.LpVariable(f&#x27;x&#123;i&#125;&#x27;,lowBound=0,cat=&#x27;Integer&#x27;) for i in [1,2,3]]</span><br><span class="line"># 定义目标函数，并将目标函数加入求解的问题中</span><br><span class="line">m += pp.lpDot(c,x) # lpDot 用于计算点积</span><br><span class="line"># 设置比较条件</span><br><span class="line">for i in range(len(A_gq)):# 大于等于</span><br><span class="line">    m += (pp.lpDot(A_gq[i],x) &gt;= b_gq[i])</span><br><span class="line"># 求解</span><br><span class="line">m.solve()</span><br><span class="line"># 输出结果</span><br><span class="line">print(f&#x27;优化结果：&#123;pp.value(m.objective)&#125;&#x27;)</span><br><span class="line">print(f&#x27;参数取值：&#123;[pp.value(var) for var in x]&#125;&#x27;)</span><br></pre></td></tr></table></figure>

<p>代码运行结果：</p>
<p><img src="D:\blog\source_posts\数学建模模型.assets\image-20230731184740251.png" alt="image-20230731184740251"></p>
<h1 id="人口模型"><a href="#人口模型" class="headerlink" title="人口模型"></a>人口模型</h1><h2 id="马尔萨斯模型"><a href="#马尔萨斯模型" class="headerlink" title="马尔萨斯模型"></a>马尔萨斯模型</h2><h3 id="模型过程"><a href="#模型过程" class="headerlink" title="模型过程"></a>模型过程</h3><p>人口增长与人口基数和增长率有关，这两项为主要因素。假设人口的增长过程可用微分方程来描述。初看起来，人口增长不能用微分方程来描述，因为人口总数是按整数变化的而不是时间的可微函数。然而人口总数很大时，可以近似认为它是时间的连续函数，甚至是可微函数。</p>
<blockquote>
<p>N（t）表示t时刻人口总数</p>
<p>r（t，N（t））表示t时刻的人口增长率，它与时间t和t时刻的人口总数N（t）有关。</p>
</blockquote>
<p>模型建立：</p>
<p>根据假设只考虑人口的基数和增长率，则在t到t+△t这段时间内人口总数增长为<br>$$<br>N（t+△t）-N（t）&#x3D;r（t，N（t））<em>N（t）</em>△t<br>$$<br>两端同除△t，并令△t-&gt;0，则<br>$$<br>\frac{dN（t）}{dt}&#x3D;r[t，N（t）]<em>N（t）<br>$$<br>令r[t，N（t）]&#x3D;r（一个常数）就是马尔萨斯模型（Malthus模型）<br>$$<br>\frac{dN（t）}{dt}&#x3D;r</em>N（t）<br>$$</p>
<p>$$<br>N（t）|（ t&#x3D;t0） &#x3D;N0<br>$$</p>
<p>求解得到<br>$$<br>N（t）&#x3D;N0<em>e^{r</em>(t-t0)}<br>$$</p>
<h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><p>只符合过去的人口总数而不能用来预测未来人口总数</p>
<p>原因人口总数不太大时，人口总数增长的线性数学模型是正确的，但当人口总数非常大时，地球上的资源，环境等因素对人口增长的限制作用越来越显著</p>
<h2 id="逻辑斯蒂模型"><a href="#逻辑斯蒂模型" class="headerlink" title="逻辑斯蒂模型"></a>逻辑斯蒂模型</h2><p>当人口总数较小时，人口增长率可看作常数，当人口增长到一定数量后，这个增长率就要随人口的增加而减小。该模型考虑到自然资源、环境条件等因素对人口增长起着阻滞作用，并随人口增加，阻滞作用越来越大，该模型又称为阻滞增长模型，它是一种伯努利方程。</p>
<blockquote>
<p>k为生命系数</p>
<p>N为单位时间内两个成员相遇次数的统计平均值</p>
</blockquote>
<p>$$<br>\frac{dN（t）}{dt}&#x3D;r<em>N（t）-K</em>N^2<br>$$</p>
<p>$$<br>N（t）| （t&#x3D;t0） &#x3D;N0<br>$$</p>
<p>可以查到：r&#x3D;0.029，K&#x3D;2.941*10^(-12)</p>
]]></content>
      <categories>
        <category>模型</category>
      </categories>
      <tags>
        <tag>数学建模</tag>
      </tags>
  </entry>
  <entry>
    <title>算法</title>
    <url>/2023/10/08/%E7%AE%97%E6%B3%95/</url>
    <content><![CDATA[<h1 id="学习进度"><a href="#学习进度" class="headerlink" title="学习进度"></a>学习进度</h1><p>课程学习：<a href="https://www.bilibili.com/video/BV1wh4y1m7CC/?spm_id_from=333.999.0.0&vd_source=05b9305044517a2659100450096dfe80">算法入门教程】终于找到了！这绝对是全B站最详细（没有之一）教程</a></p>
<blockquote>
<p>学习进度：</p>
<p>2023&#x2F;10&#x2F;10： 3&#x2F;30</p>
<p>2023&#x2F;10&#x2F;11： 无</p>
<p>2023&#x2F;10&#x2F;12： 无</p>
<p>2023&#x2F;10&#x2F;13： 5&#x2F;30</p>
<p>2023&#x2F;10&#x2F;14： </p>
<p>2023&#x2F;10&#x2F;15： </p>
<p>2023&#x2F;10&#x2F;16： </p>
<p>2023&#x2F;10&#x2F;17： </p>
</blockquote>
]]></content>
      <categories>
        <category>算法,leetcode</category>
      </categories>
      <tags>
        <tag>算法,leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title>气候变化增加了跨物种病毒传播的风险</title>
    <url>/2023/07/22/%E6%B0%94%E5%80%99%E5%8F%98%E5%8C%96%E5%A2%9E%E5%8A%A0%E4%BA%86%E8%B7%A8%E7%89%A9%E7%A7%8D%E7%97%85%E6%AF%92%E4%BC%A0%E6%92%AD%E7%9A%84%E9%A3%8E%E9%99%A9/</url>
    <content><![CDATA[<p>网页地址：<a href="https://www.nature.com/articles/s41586-022-04788-w">气候变化增加跨物种病毒传播风险 |自然界 (nature.com)</a></p>
<h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>至少有10，000种病毒物种具有感染人类的能力</p>
<p>目前绝大多数病毒都在野生哺乳动物中悄无声息地传播</p>
<p>气候和土地利用的变化将导致以前地理上孤立的野生动物物种之间病毒共享的机会</p>
<p>使用哺乳动物病毒网络的系统地理模型模拟未来病毒共享的潜在热点，并预测3年气候变化和土地利用情景下139，2070种哺乳动物物种的地理范围变化</p>
<p>蝙蝠占新型病毒共享的大部分，并且可能沿着进化途径共享病毒</p>
<p>最近几次起源于野生动物的病毒（人畜共患病毒或人畜共患病）的流行病和大流行，大多数预测跨物种传播的框架都集中在使动物病原体能够飞跃到人类宿主的步骤上（这一过程称为溢出）</p>
<p>大多数可归因于气候变化的跨物种传播事件可能会发生在野生动物宿主中，可能威胁到野生动物种群，并且基本上未被人畜共患疾病监测发现</p>
<p>大多数宿主没有机会交换病原体：在所有可能的哺乳动物物种对中，只有大约7%共享任何地理范围，目前已知只有约6%拥有一种或多种相同的病毒物种（以下简称病毒共享）</p>
<p>系统发育是病原体共享和对新病毒入侵的易感性的有力预测指标</p>
<p>随着气候和土地利用变化导致全球动物生物多样性的重新组合，蝙蝠和啮齿动物是否仍将在病毒出现中发挥核心作用尚不得而知</p>
<p><img src="https://media.springernature.com/full/springer-static/esm/art%3A10.1038%2Fs41586-022-04788-w/MediaObjects/41586_2022_4788_Fig6_ESM.jpg?as=webp" alt="扩展数据图1"></p>
<p>边缘宽度表示共享病毒的预期数量（成对物种-物种病毒共享概率的总和），其中大多数共享存在于最具体和密切相关的群体中。网络中显示的边缘是前 25% 的链路。节点的大小按宿主病毒关联数据集中的物种总数按该顺序调整，颜色按程度缩放。</p>
<h1 id="本文重点关注"><a href="#本文重点关注" class="headerlink" title="本文重点关注"></a>本文重点关注</h1><p>通过预测新的合适栖息地（物种可能会或可能不会迁移到）并应用跨物种传播的机制生物学规则，我们预测了全球变化如何以及在何处可能为病毒共享创造新的机会，特别关注这些风险与人类健康之间的潜在联系</p>
<p>专注于哺乳动物</p>
<p>我们为 3870 种胎盘哺乳动物物种建立了物种分布模型 （SDM），并根据气候变化（代表性浓度途径 （RCP））和土地利用（共享社会经济途径 （SSP））的四种配对情景预测地理范围的潜在变化到 2070 年。这些情景描述了全球环境变化的替代未来，从可持续的土地利用变化和将全球变暖保持在2°C以下的高概率（SSP 1-RCP 2.6），到升温超过4°C的高概率，持续的化石燃料依赖以及快速的土地退化和变化（SSP 5-RCP 8.5;<a href="https://www.nature.com/articles/s41586-022-04788-w#Sec8">方法</a>中提供了详细的解释)。</p>
<p>我们使用新合适栖息地的预测来确定未来当前非重叠物种之间可能发生的新范围重叠（以下简称第一次相遇）。然后，我们使用最近开发的病毒共享模型来预测新的病毒共享事件的概率 - 这里定义为至少一个病毒物种的未来跨物种传播，在这种情况下是第一次遇到一对宿主之间的传播 - 基于新的地理重叠和宿主系统发育相似性。</p>
<h1 id="气候变化和土地利用的影响"><a href="#气候变化和土地利用的影响" class="headerlink" title="气候变化和土地利用的影响"></a>气候变化和土地利用的影响</h1><p>如果物种范围的变化能够跟上气候变化的步伐，我们预测绝大多数哺乳动物物种将在其潜在未来范围内的某个地方与至少一个不熟悉的物种重叠</p>
<p>这些哺乳动物物种之间的首次相遇将发生在世界各地，但集中在热带非洲和东南亚</p>
<p><img src="https://media.springernature.com/full/springer-static/esm/art%3A10.1038%2Fs41586-022-04788-w/MediaObjects/41586_2022_4788_Fig9_ESM.jpg" alt="扩展数据图4"></p>
<p>对四种代表性浓度途径（RCP）进行了预测，考虑了气候变化和土地利用变化，没有（左）和有扩散限制（右）。颜色越深对应于像素中更多的第一次相遇。结果是九个全球气候模型的平均值。</p>
<p><a href="https://www.nature.com/articles/s41586-022-04788-w#Fig9">这一</a>结果与物种可能在高纬度聚集的预期背道而驰，因为先前的研究已经预测了气候变化，范围变化和北极寄生虫宿主转换之间的联系</p>
<p>物种沿着纬度梯度移动时，它们与其他已经包含在其组合中的物种以相同的方向行进，导致很少有第一次遇到。相比之下，当物种沿着海拔梯度跟踪热最优值时（允许它们来自不同的方向，即山脉迫使物种聚集），它们将在山脉中以最新的组合聚集，特别是在基线多样性最高的热带地区，与先前的预测相匹配。</p>
<p><a href="https://www.nature.com/articles/s41586-022-04788-w#Fig2">最</a>显著的模型变异发生在亚马逊盆地，以及中非盆地的一小部分、博茨瓦纳和印度次大陆的部分地区些地区基本上没有在最敏感的气候模式和最温暖的路径中首次相遇，大概是因为所有这些都是同质气候的高特有盆地，可能变暖太多，以至于物种逃脱到高海拔避难所（一个相当有据可查的模式）。</p>
<p><strong>气候变化将推动哺乳动物物种之间新的病毒共享</strong></p>
<p><img src="https://media.springernature.com/lw685/springer-static/image/art%3A10.1038%2Fs41586-022-04788-w/MediaObjects/41586_2022_4788_Fig1_HTML.png?as=webp" alt="图1"></p>
<p><strong>蝙蝠不成比例地推动了未来的新型病毒共享</strong></p>
<p><img src="https://media.springernature.com/lw685/springer-static/image/art%3A10.1038%2Fs41586-022-04788-w/MediaObjects/41586_2022_4788_Fig2_HTML.png?as=webp" alt="图2"></p>
<p><strong>a</strong>，<strong>b</strong>， 第一次相遇的空间模式（在SSP 1-RCP 2.6中）在范围变化的哺乳动物对之间有所不同，包括蝙蝠-蝙蝠和蝙蝠-非蝙蝠相遇（<strong>a</strong>）和仅非蝙蝠（<strong>b</strong>）。<strong>c-e</strong>， 使用线性模型，我们表明海拔（<strong>c</strong>），物种丰富度（<strong>d</strong>）和土地利用（<strong>e</strong>）会影响蝙蝠和非蝙蝠在不同情景中的新重叠数量（<a href="https://www.nature.com/articles/s41586-022-04788-w#Sec8">RCP与方法</a>中所述的SSP配对）。<em>n</em> &#x3D; 9 个 GCM 重复。高程效应的坡度通常为正：对数10-转换的海拔增加与 0.4–1.41 对数相关10增加初次相遇。结果是九个大气环流模型的平均值。 CL、气候和土地利用变化;CLD，气候和土地利用变化具有分散限制。e 中的误差线是模型估计值的 <strong>s.e</strong>.。</p>
<p>假设病毒共享最初将局限于新宿主重叠的区域，我们绘制了预期的病毒共享事件，并再次发现大多数共享应该发生在非洲和亚洲的高海拔，物种丰富的生态系统中（图）。<a href="https://www.nature.com/articles/s41586-022-04788-w#Fig1">1a</a>）. 如果物种通过在高海拔避难所聚集而生存在不断变化的气候中生存，这表明新出现的病毒可能是其保护的一个日益严重的问题。</p>
<h1 id="分散推动了蝙蝠的重要性"><a href="#分散推动了蝙蝠的重要性" class="headerlink" title="分散推动了蝙蝠的重要性"></a>分散推动了蝙蝠的重要性</h1><h2 id="蝙蝠特点"><a href="#蝙蝠特点" class="headerlink" title="蝙蝠特点"></a>蝙蝠特点</h2><p>蝙蝠独特的飞行能力</p>
<p>蝙蝠快速移动的能力</p>
<p>即使是非迁徙蝙蝠，一生中也可以定期旅行数百公里，远远超过小型哺乳动物50年所能走过的范围</p>
<p>一半的蝙蝠种群遗传研究未能找到任何通过距离隔离的证据<a href="https://www.nature.com/articles/s41586-022-04788-w#ref-CR35">35</a>.这种独特的传播能力具有不可避免的流行病学意义</p>
<p>世界各地蝙蝠物种正在进行的快速范围扩张</p>
<h2 id="病毒共享的限制"><a href="#病毒共享的限制" class="headerlink" title="病毒共享的限制"></a>病毒共享的限制</h2><p>物种内在的传播能力（限制迁移到新地点的能力</p>
<p>体型、营养等级（这两个决定扩散能力</p>
<p>十大事件的异速生长尺度</p>
<p>温度变暖</p>
<h3 id="发现"><a href="#发现" class="headerlink" title="发现"></a>发现</h3><p>食肉动物的首次遭遇次数略不成比例，而有蹄类动物和啮齿动物的首次遭遇次数略少于随机预期</p>
<p>当增加扩散限制时，空间模式也发生了很大变化，大多数首次接触和跨物种病毒传播事件发生在东南亚</p>
<p>蝙蝠在大陆内的传播不受限制</p>
<p>蝙蝠被排除在先前表征移程哺乳动物扩散能力的研究中<a href="https://www.nature.com/articles/s41586-022-04788-w#ref-CR14">14</a>，遗传证据表明飞行使蝙蝠及其病毒经常在大陆水平上传播<a href="https://www.nature.com/articles/s41586-022-04788-w#ref-CR24">24</a>，<a href="https://www.nature.com/articles/s41586-022-04788-w#ref-CR25">25</a>数据表明，蝙蝠分布已经经历了不成比例的快速变化26，<a href="https://www.nature.com/articles/s41586-022-04788-w#ref-CR27">27</a>，<a href="https://www.nature.com/articles/s41586-022-04788-w#ref-CR28">28</a>，<a href="https://www.nature.com/articles/s41586-022-04788-w#ref-CR26">29</a>，<a href="https://www.nature.com/articles/s41586-022-04788-w#ref-CR30">30</a>，<a href="https://www.nature.com/articles/s41586-022-04788-w#ref-CR31">31</a>，<a href="https://www.nature.com/articles/s41586-022-04788-w#ref-CR32">32</a>，<a href="https://www.nature.com/articles/s41586-022-04788-w#ref-CR33">33</a>，<a href="https://www.nature.com/articles/s41586-022-04788-w#ref-CR34">34</a>.在任何气候情景下，蝙蝠在限制扩散后首次遭遇中占近90%（RCP 2.6：88%±0.1%;RCP 8.5：89%±0.5%），并在空间格局中占主导地位，他们的第一次遭遇大多仅限于东南亚</p>
<p>蝙蝠独特的飞行能力可能是气候驱动的范围变化与哺乳动物病毒组未来变化之间重要且以前未考虑的联系。最近的证据表明，大陆泛混病在人畜共患宿主中可能很常见，使病毒能够以相当的规模传播<a href="https://www.nature.com/articles/s41586-022-04788-w#ref-CR24">24</a>，<a href="https://www.nature.com/articles/s41586-022-04788-w#ref-CR25">25</a>，<a href="https://www.nature.com/articles/s41586-022-04788-w#ref-CR36">36</a>。如果飞行确实使蝙蝠比其他哺乳动物经历更快的范围变化，我们预计它们应该会驱动大多数新的跨物种病毒传播，并可能将人畜共患病毒带入新的区域。然而，蝙蝠快速移动的能力可能会因物种分布的其他生物限制（例如，社会行为和食物供应，目前的方法没有解决）而减弱。这种不确定性为正在进行的关于蝙蝠是否在与其他哺乳动物相比更高的病毒丰富度、更高的人畜共患病毒比例或免疫适应方面的独特性争论增加了一个重要的新维度。<a href="https://www.nature.com/articles/s41586-022-04788-w#ref-CR2">2</a>，<a href="https://www.nature.com/articles/s41586-022-04788-w#ref-CR11">11</a>.</p>
<h1 id="人畜共患疾病的出现与人类健康"><a href="#人畜共患疾病的出现与人类健康" class="headerlink" title="人畜共患疾病的出现与人类健康"></a>人畜共患疾病的出现与人类健康</h1><p>气候变化对哺乳动物病毒共享模式的影响可能会在未来人畜共患病毒的出现中级联</p>
<p>在数以千计的预期病毒共享事件中，一些风险最高的人畜共患病或潜在的人畜共患病可能会找到新的宿主。</p>
<p>跨物种传播的一般规则解释了新兴人畜共患病的溢出模式<a href="https://www.nature.com/articles/s41586-022-04788-w#ref-CR11">11</a>，成功跨越野生动物物种的病毒物种具有最高的人畜共患出现倾向</p>
<p>野生动物到野生动物宿主的跳跃可能是目前在哺乳动物宿主中传播的大约10，000种潜在人畜共患病毒的进化垫脚石</p>
<p>由于气候变化，许多潜在的人畜共患病可能会经历新的进化机会。</p>
<p>预计未来新哺乳动物组合和病毒进化的热点将与人口密度高的地区相吻合，进一步增加对潜在人畜共患病的脆弱性。潜在的第一次遭遇不成比例地可能发生在预计为人类定居或用作农田的地区，而不太可能发生在森林中</p>
<p>我们预测，到2070年，新型病毒共享的热带热点将与高人口密度地区大致重合，特别是在萨赫勒、埃塞俄比亚高原和东非大裂谷、印度、中国东部、印度尼西亚和菲律宾（图）。一些欧洲人口中心也登陆这些热点地区;该地区最近出现的病原体，如乌苏图病毒，突显出尽管有更多的监测和医疗保健，但这些人群仍然很脆弱。如果范围变化的哺乳动物为未被发现的人畜共患病创造了生态释放，那么这些地区的种群都可能很脆弱，一些病毒将能够从这些人口中心中的任何一个在全球范围内传播。</p>
<h2 id="举例"><a href="#举例" class="headerlink" title="举例"></a>举例</h2><p>猿猴免疫缺陷病毒使宿主从猴子跳到黑猩猩和大猩猩促进了艾滋病毒的起源</p>
<p>SARS-CoV溢出到果子狸中使蝙蝠病毒能够传播给人类一样</p>
<p>在非洲构建一个由13个扎伊尔埃博拉病毒（ZEBOV）可能宿主组成的子网，并预测了可能涉及这些物种的首次遭遇（图）即使有扩散限制，预计这些第一次相遇也会产生近一百个新的病毒共享事件，可能包括ZEBOV并且覆盖的非洲地区比目前埃博拉的人畜共患生态位要广泛得多<a href="https://www.nature.com/articles/s41586-022-04788-w#ref-CR37">37</a>。这可能会使几种新的野生动物物种暴露于一种致命的病毒中，这种病毒在历史上是造成大量灵长类动物死亡的原因。对于像ZEBOV这样没有已知水库的人畜共患病，未来的宿主跳跃 - 因此，出现覆盖更大地理区域的更大潜在储层池（例如可能将ZEBOV引入东非哺乳动物） - 只会使正在进行的追踪溢出来源和预测未来出现的努力复杂化。</p>
<h1 id="减缓气候变化的影响"><a href="#减缓气候变化的影响" class="headerlink" title="减缓气候变化的影响"></a>减缓气候变化的影响</h1><p>研究结果表明，仅靠通过减少温室气体排放的缓解措施并不能降低气候驱动的病毒共享的可能性。相反，全球变暖可能产生至少同样多甚至更多的跨物种病毒传播：当变暖较慢时，物种可以成功地跟踪气候变化的最优状态，从而产生更大的范围扩大和更多首次相遇的潜力。</p>
<p>总体而言，我们的结果表明，气候系统的轻微扰动可能会为病毒寻找新宿主创造数千种新机会。</p>
<p>变暖将伴随着大规模变暖、毁灭性的疾病出现以及前所未有的人口流离失所和全球不稳定。</p>
<p>我们的研究结果强调了改善野生动物疾病监测系统和公共卫生基础设施作为适应气候变化的一种形式的紧迫性，即使缓解措施取得成功，全球变暖保持在比工业化前水平高+2°C以下</p>
<h1 id="生态机会的时机"><a href="#生态机会的时机" class="headerlink" title="生态机会的时机"></a>生态机会的时机</h1><p>我们研究了气候变化影响的潜在时间。我们预计大多数第一次相遇将发生在二十一世纪后期，因为物种栖息地需要时间转移（特别是在扩散限制的情况下）</p>
<p>用一种全新的气候产品，在最近的过去（1981-2010）设定基线，并检查未来影响的三个时间间隔（2011-2040年，2041-2070年和2071-2100年）。通过预测每个区间平均条件下的物种分布，我们确定了每个区间中唯一第一次相遇的累积次数。值得注意的是，我们发现大多数第一次相遇发生在2011-2040年期间（图）。</p>
<p>物种在整个世纪中不断相遇，我们的模拟表明，物种移动的速度对第一次相遇的时间和规模比合适的栖息地移动或已经移动的速度更重要。此外，第一次相遇的地理位置在所有时间点上保持一致</p>
<p>总体而言，这些研究结果表明，在一个已经超过+1°C全球变暖的世界中，大多数与气候相关的新型病毒共享机会可能已经实现 - 当且仅当物种的传播跟上栖息地适宜性的变化。这个前提——特别是我们对蝙蝠不受扩散限制的模拟——在较小的时间尺度上更加脆弱;迫切需要研究来估计气候引起的范围变化的实时信号。即使存在这些机会，跨物种传播本身的时间仍然不确定和不可预测;我们的病毒共享模型是在平衡的连接水平上训练的，我们预计种间接触和病毒建立之间存在一定程度的滞后。气候变化肯定有可能，甚至有可能已经重塑了哺乳动物病毒组，随着未来半个世纪的持续变暖，我们预测为生态新颖性创造的机会以及由此产生的对病毒组合的影响都将开始饱和。</p>
<h1 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h1><p>我们所做的预测也可能因几个生态因素而变得复杂，包括病毒宿主跳跃的温度敏感性。<a href="https://www.nature.com/articles/s41586-022-04788-w#ref-CR41">41</a>;媒介或非哺乳动物宿主范围变化的潜在独立性;或者，特别是在低海拔地区，脱落可能通过生物多样性稀释和放大效应与疾病流行相互作用，我们的模型没有捕捉到。</p>
<p>鸟类拥有仅次于哺乳动物的记录最好的病毒组，并且占非哺乳动物人畜共患病毒库的大部分</p>
<p>由于全球真菌泛动物动物，两栖动物面临不成比例的高灭绝率，以及雷纳病毒等新出现的威胁引起保护问题，两栖动物之间的病原体交换对于保护从业者来说可能尤为重要</p>
<p>在最近的一项研究暗示北极海冰减少与鳍足类动物和海獭之间的新型病毒传播有关之后</p>
<p>气候变化很容易成为病毒跨物种传播的主要人为力量</p>
<h1 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h1><p>我们绘制了陆生哺乳动物的全球地图，描述了它们的栖息地利用和生态位作为气候的函数</p>
<p>我们使用哺乳动物病毒共享网络的模型预测了物种对之间病毒共享的概率，该模型经过系统发育相关性和当前地理范围重叠的训练。通过该模型，我们绘制了不同未来新病毒共享的预测热点。</p>
]]></content>
      <tags>
        <tag>气候变化，病毒传播</tag>
      </tags>
  </entry>
  <entry>
    <title>短链接项目</title>
    <url>/2024/02/15/%E7%9F%AD%E9%93%BE%E6%8E%A5%E9%A1%B9%E7%9B%AE/</url>
    <content><![CDATA[<h2 id="学习进度："><a href="#学习进度：" class="headerlink" title="学习进度："></a>学习进度：</h2><blockquote>
<p>2024&#x2F;2&#x2F;15: </p>
</blockquote>
<h1 id="项目介绍"><a href="#项目介绍" class="headerlink" title="项目介绍"></a>项目介绍</h1><p><strong>短链接</strong>：通常只包括几个字符</p>
<p><strong>短链接服务</strong>：将较长的URL通过算法或服务转化成短链接，使访问时可以通过访问短链接跳转到原链接</p>
<ol>
<li>短链接服务通过特定算法或服务为长的URL生成唯一的标识符或短码</li>
<li>将短链接服务的域名（例如：<a href="http://nurl.ink/%EF%BC%89%E5%92%8C%E6%A0%87%E8%AF%86%E7%AC%A6%E6%8B%BC%E6%8E%A5%E5%9C%A8%E4%B8%80%E8%B5%B7%EF%BC%8C%E6%9E%84%E6%88%90%E7%9F%AD%E9%93%BE%E6%8E%A5%E3%80%82%E6%A0%87%E8%AF%86%E7%AC%A6%E4%B8%8E%E5%8E%9F%E5%A7%8B%E9%93%BE%E6%8E%A5%E5%94%AF%E4%B8%80%E5%85%B3%E8%81%94%EF%BC%8C%E5%B9%B6%E5%AD%98%E5%82%A8%E5%88%B0%E6%95%B0%E6%8D%AE%E5%BA%93%E6%88%96%E5%85%B6%E4%BB%96%E6%8C%81%E4%B9%85%E5%8C%96%E5%AD%98%E5%82%A8%E4%B8%AD">http://nurl.ink/）和标识符拼接在一起，构成短链接。标识符与原始链接唯一关联，并存储到数据库或其他持久化存储中</a></li>
<li>用户访问短链接时，短链接服务接收到请求后根据标识符查找关联的长URL，用户再重定向到原始链接</li>
<li>短链接服务还能提供统计跟踪服务，例如计算访问量、来源、地理位置等</li>
</ol>
<p><img src="D:\blog\source_posts\短链接项目.assets\image-20240215230150541.png" alt="image-20240215230150541"></p>
<p><strong>举例</strong>：一些商家发送的短信中包含的链接可能是短链接</p>
<p><strong>优点</strong>：</p>
<ol>
<li>节省字符</li>
<li>方便记忆</li>
<li>美观，提升用户体验</li>
<li>便于跟踪统计分析</li>
</ol>
<p><strong>技术框架</strong>：</p>
<ol>
<li>JDK17 + SpringBoot3&amp;SpringCloud 微服务架构</li>
<li>采用Saas（软件即服务）方式开发，<strong>Saas</strong>：不用在本地安装和维护软件，可以通过互联网来访问软件</li>
<li>问题&#x2F;项目亮点：①并发访问②海量存储③多租户场景④数据安全性⑤扩展性&amp;可伸缩性</li>
</ol>
<h1 id="dependencies和dependencyManagement的区别"><a href="#dependencies和dependencyManagement的区别" class="headerlink" title="dependencies和dependencyManagement的区别"></a>dependencies和dependencyManagement的区别</h1><blockquote>
<p><strong>dependencies</strong>：</p>
<ol>
<li>自动引入依赖</li>
<li>继承父项目的依赖</li>
<li>传承给子项目</li>
</ol>
<p><strong>dependencyManagement</strong>：</p>
<ol>
<li>只声明依赖，不会自动引入依赖</li>
<li>只是一种规约</li>
</ol>
</blockquote>
<h1 id="实体注入"><a href="#实体注入" class="headerlink" title="实体注入"></a>实体注入</h1><blockquote>
<p><strong>写法一</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@Autowired</span><br><span class="line">private UserService userService;</span><br></pre></td></tr></table></figure>

<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p>
<p><strong>写法二</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@Resource</span><br><span class="line">private UserService userService;</span><br></pre></td></tr></table></figure>

<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p>
<p>缺点：resource在JDK17以后进行改版，修改的工程量大</p>
<p><strong>写法三</strong>：构造器方式注入</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@RestController</span><br><span class="line">@RequiredArgsConstructor//①</span><br><span class="line">public class UserController &#123;</span><br><span class="line">    private final UserService userService;//②</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;build&gt;</span><br><span class="line">        &lt;plugins&gt;</span><br><span class="line">            &lt;plugin&gt;</span><br><span class="line">                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;</span><br><span class="line">                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;</span><br><span class="line">                &lt;version&gt;3.6.1&lt;/version&gt;</span><br><span class="line">                &lt;configuration&gt;</span><br><span class="line">                    &lt;source&gt;17&lt;/source&gt;</span><br><span class="line">                    &lt;target&gt;17&lt;/target&gt;</span><br><span class="line">                &lt;/configuration&gt;</span><br><span class="line">            &lt;/plugin&gt;</span><br><span class="line">        &lt;/plugins&gt;</span><br><span class="line">    &lt;/build&gt;</span><br></pre></td></tr></table></figure>

<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p>
<h1 id="关于实体类"><a href="#关于实体类" class="headerlink" title="关于实体类"></a>关于实体类</h1><ol>
<li>注意加Data注释，否则会出现406报错</li>
</ol>
<h1 id="QueryWrapper"><a href="#QueryWrapper" class="headerlink" title="QueryWrapper"></a>QueryWrapper</h1><p>构造查询条件常用对象</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">LambdaQueryWrapper&lt;UserDO&gt; queryWrapper = Wrappers.lambdaQuery(UserDO.class)</span><br><span class="line">                .eq(UserDO::getUsername, username);</span><br></pre></td></tr></table></figure>

<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p>
<h1 id="异常码设计"><a href="#异常码设计" class="headerlink" title="异常码设计"></a>异常码设计</h1><ol>
<li>位数：6位或者更多位</li>
<li>格式：错误产生来源（1位）+数字编号</li>
<li>错误的产生来源可以分为：客户端，服务端异常，当前系统（业务逻辑），第三方服务等等</li>
</ol>
<h1 id="全局异常拦截器"><a href="#全局异常拦截器" class="headerlink" title="全局异常拦截器"></a>全局异常拦截器</h1><h1 id="空指针"><a href="#空指针" class="headerlink" title="空指针"></a>空指针</h1><p>一个空的对象获取它的属性</p>
<h1 id="信息脱敏"><a href="#信息脱敏" class="headerlink" title="信息脱敏"></a>信息脱敏</h1><ol>
<li><strong>AOP注解</strong>：用AOP的形式扫描注解，如果有注解，就会一层层反射，递归，直到拿到实体类的自定义注解，从而标记数据类型，并对应透明展示。<strong>缺点</strong>：过于复杂</li>
<li><strong>JSON默认序列化方式</strong>：返回正常脱敏的数据</li>
</ol>
<h2 id="业务逻辑"><a href="#业务逻辑" class="headerlink" title="业务逻辑"></a>业务逻辑</h2><ol>
<li><p>定义敏感信息的Json自定义序列化器 </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 手机号脱敏反序列化</span><br><span class="line"> */</span><br><span class="line">public class PhoneDesensitizationSerializer extends JsonSerializer&lt;String&gt; &#123;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void serialize(String phone, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException &#123;</span><br><span class="line">        String phoneDesensitization = DesensitizedUtil.mobilePhone(phone);</span><br><span class="line">        jsonGenerator.writeString(phoneDesensitization);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p>
</li>
<li><p>在敏感信息字段前添加Json自定义序列化器@JsonSerialize(using &#x3D; xxxDesensitizationSerializer.class)</p>
</li>
</ol>
<h1 id="缓存穿透"><a href="#缓存穿透" class="headerlink" title="缓存穿透"></a>缓存穿透</h1><p><strong>概念</strong>：用户端发来大量的请求，访问数据库不存在的数据，造成数据库的宕机。</p>
<p><strong>解决方案</strong>：</p>
<ol>
<li>redis缓存全部的数据，例如用户名。<strong>缺点</strong>：占用redis的内存大</li>
<li>使用布隆过滤器。<strong>优点</strong>：能够判断大规模数据是否存在，节省内存。<strong>缺点</strong>：存在误判。</li>
</ol>
<h2 id="布隆过滤器"><a href="#布隆过滤器" class="headerlink" title="布隆过滤器"></a><strong>布隆过滤器</strong></h2><h3 id="理论"><a href="#理论" class="headerlink" title="理论"></a><strong>理论</strong></h3><ol>
<li><strong>插入数据时</strong>，将数据通过多个哈希函数映射成不同的数值，将其作为数组下标。一开始初始化一个一维数组，将所有位置为0，插入数据时，数据对应的数组下标的所有值置为1。</li>
<li><strong>查询数据时</strong>，将数据同样通过多个哈希函数映射成多个数组下标，查看其在数组中的值是否都为1，若都为1，则说明存在该数据；若有其中一个不为1，则说明该数据不存在。</li>
<li><strong>误判问题</strong>：一开始初始化时会设置<strong>初始容量</strong>，初始容量越大，越不容易误判。初始化时会先设置一个<strong>预期的误判值</strong>。使用布隆过滤器时，考虑数据是否能够<strong>容忍误判</strong>。</li>
</ol>
<h3 id="核心参数"><a href="#核心参数" class="headerlink" title="核心参数"></a>核心参数</h3><p>布隆过滤器初始化函数tryInit的两个核心参数：</p>
<ol>
<li>ExpectedInsertions：布隆过滤器预期要存储的元素数量</li>
<li>falseProbability：误判率</li>
</ol>
<p>误判率越低，位数组越长，占用内存越多，散列哈希函数越多，计算耗时越长。</p>
<h3 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h3><ol>
<li>初始时使用：直接向容器中插入数据</li>
<li>使用过程中引入：将数据从数据库中读出并存入容器中</li>
</ol>
<h3 id="实践"><a href="#实践" class="headerlink" title="实践"></a>实践</h3><ol>
<li><p>引入Redission依赖 </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.redisson&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;redisson-spring-boot-starter&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p>
</li>
<li><p>配置Redis参数 </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">spring:</span><br><span class="line">  data:</span><br><span class="line">    redis:</span><br><span class="line">      host: 127.0.0.1</span><br><span class="line">      port: 6379</span><br><span class="line">      password: 123456</span><br></pre></td></tr></table></figure>

<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p>
</li>
<li><p>创建布隆过滤器实例 </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import org.redisson.api.RBloomFilter;</span><br><span class="line">import org.redisson.api.RedissonClient;</span><br><span class="line">import org.springframework.boot.context.properties.EnableConfigurationProperties;</span><br><span class="line">import org.springframework.context.annotation.Bean;</span><br><span class="line">import org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 布隆过滤器配置</span><br><span class="line"> */</span><br><span class="line">@Configuration</span><br><span class="line">public class RBloomFilterConfiguration &#123;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 防止用户注册查询数据库的布隆过滤器</span><br><span class="line">     */</span><br><span class="line">    @Bean</span><br><span class="line">    public RBloomFilter&lt;String&gt; userRegisterCachePenetrationBloomFilter(RedissonClient redissonClient) &#123;</span><br><span class="line">        RBloomFilter&lt;String&gt; cachePenetrationBloomFilter = redissonClient.getBloomFilter(&quot;xxx&quot;);</span><br><span class="line">        cachePenetrationBloomFilter.tryInit(0, 0);</span><br><span class="line">        return cachePenetrationBloomFilter;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p>
</li>
</ol>
<h1 id="数据库分库分表框架ShardingSphere"><a href="#数据库分库分表框架ShardingSphere" class="headerlink" title="数据库分库分表框架ShardingSphere"></a>数据库分库分表框架ShardingSphere</h1><p><strong>概念</strong>：Sharding-JDBC轻量级Java框架</p>
<p><strong>作用</strong>：将对逻辑表操作的sql语句映射成对真实表操作的sql语句，例如：该框架根据username字段对user表进行分表，一共16张表，则ShardingSphere会将操作<strong>逻辑表user</strong>的sql语句映射成操作<strong>真实表user_0</strong>的sql语句</p>
<p><strong>分片和加密原理</strong>：ShardingSphere在底层对sql进行解析，如果有类似的加密规则，就会对sql进行改写</p>
<h2 id="分片键"><a href="#分片键" class="headerlink" title="分片键"></a>分片键</h2><p><strong>概念</strong>：用于将数据库（表）水平拆分的数据库字段</p>
<p><strong>选择的关键因素</strong>：</p>
<ol>
<li>访问频率：访问高频的数据放在同一个分片上，提高查询性能和降低分片查询的开销</li>
<li>数据均匀性：分片键应该保证数据均匀地分布在各个分片上，避免热点数据集中在某个分片上</li>
<li>数据不可变：一旦选择了分片键，就不可变，且不能随业务改变而频繁修改，即分片键的数据一旦创建，就不允许修改，防止其被分片算法计算以后存入不同的表中</li>
</ol>
<p><strong>用户名和用户ID选择哪个？</strong></p>
<p>使用<strong>用户名</strong></p>
<p><strong>用户名具备用户ID不具备的特性</strong>：可以登录，登陆的时候传入用户名参数，可以根据用户名进行分表，然后到对应的表查数据</p>
<p>查询数据时，如果不传入分片键，则会导致查询数据库中所有表，造成性能深渊</p>
<h2 id="逻辑表"><a href="#逻辑表" class="headerlink" title="逻辑表"></a>逻辑表</h2><p>相同结构的水平拆分数据库（表）的逻辑名称，是 SQL 中表的逻辑标识。</p>
<h2 id="真实表"><a href="#真实表" class="headerlink" title="真实表"></a>真实表</h2><p>在水平拆分的数据库中真实存在的物理表。</p>
<h1 id="用户敏感信息如何实现加密存储"><a href="#用户敏感信息如何实现加密存储" class="headerlink" title="用户敏感信息如何实现加密存储"></a>用户敏感信息如何实现加密存储</h1><h2 id="加密原理"><a href="#加密原理" class="headerlink" title="加密原理"></a>加密原理</h2><p><img src="https://img-blog.csdnimg.cn/direct/96ee04255ff64df097f4c3cf3aa03cb6.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p>
<h2 id="业务逻辑-1"><a href="#业务逻辑-1" class="headerlink" title="业务逻辑"></a>业务逻辑</h2><ol>
<li>通过ShardingSphere框架来实现进行加密配置</li>
<li>使用可逆的加密算法对敏感信息进行加密，注意保存密钥</li>
<li>将加密信息后的数据存入数据库中</li>
</ol>
<p><strong>如果原本的数据库中已存在未加密的数据：</strong></p>
<ol>
<li>在数据库中添加新列：new_phone（假设是phone字段），作为密文字段，phone作为明文字段</li>
<li>在前期，在配置项将queryWithCipherColumn设置为false，就是查询的时候按照明文字段查</li>
<li>将明文字段清洗到密文字段</li>
<li>之后将queryWithCipherColumn设置为true，就是查询的时候按照密文字段查</li>
<li>运行稳定后，就可以将明文字段删除</li>
</ol>
<h1 id="登录"><a href="#登录" class="headerlink" title="登录"></a>登录</h1><h2 id="业务逻辑-2"><a href="#业务逻辑-2" class="headerlink" title="业务逻辑"></a>业务逻辑</h2><ol>
<li>判断用户是否存在</li>
<li>判断用户是否已登录</li>
<li>若用户未登录，判断用户是否注册</li>
<li>若用户已注册，判断用户的密码是否正确</li>
<li>若用户的用户名和密码都正确，则生成具有有效时间的token，设置用户登陆状态</li>
</ol>
<h2 id="StringRedisTemplate"><a href="#StringRedisTemplate" class="headerlink" title="StringRedisTemplate"></a>StringRedisTemplate</h2><p><strong>概念</strong>：是一个继承RedisTemplate的类，可以通过该类操作Redis，存放数据。</p>
<p><strong>相比较于RedisTemplate的优点</strong>：RedisTemplate会导致存放的key被序列化</p>
<h1 id="海量注册"><a href="#海量注册" class="headerlink" title="海量注册"></a>海量注册</h1><p><strong>创建唯一索引</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">use shortlink;</span><br><span class="line">create unique index idx_unique_username on t_user(username);</span><br></pre></td></tr></table></figure>

<h2 id="大量恶意请求同时注册一个未注册的用户名"><a href="#大量恶意请求同时注册一个未注册的用户名" class="headerlink" title="大量恶意请求同时注册一个未注册的用户名"></a>大量恶意请求同时注册一个未注册的用户名</h2><p>因为用户名没注册，所以无法用布隆过滤器拦截这些大量请求。</p>
<p><strong>解决方案</strong>：根据用户名使用Redisson的分布式锁，其优点：具有看门狗机制，因底层其网络通信更高效。这里的话其中一个请求获取到锁以后，其他用户不必等待，默认获取到锁的用户一定创建成功，没有获取到锁的用户，系统会抛出自定义异常。</p>
<p><strong>看门狗机制</strong>：负责监控某个区域，并在发生异常的时候采取解决措施。</p>
<p><strong>线程安全</strong>：当多个线程同时访问同一个共享资源时，不会导致共享资源的数据的不一致性或损坏</p>
<p><strong>为什么使用用户名</strong>：因为</p>
<h2 id="分布式锁"><a href="#分布式锁" class="headerlink" title="分布式锁"></a>分布式锁</h2><p><strong>锁的基本条件</strong>：</p>
<ul>
<li><strong>互斥</strong>：只有一个线程可以拿到锁</li>
<li><strong>可重入</strong>：如果某一线程持有锁，那它可以多次获取锁而不发生死锁</li>
<li><strong>安全</strong>：线程获得了锁，当它发生断连&#x2F;宕机时，必须要释放锁</li>
</ul>
<p><strong>分布式锁</strong>：当多个线程同时访问同一个共享资源时，保证线程互斥访问共享资源</p>
<p><strong>特性</strong>：</p>
<ul>
<li><strong>高性能性P</strong>：必须要保证锁获取和释放的高效性</li>
<li><strong>高可用性A</strong>：不能当某一线程崩溃或者redis宕机，锁无法释放</li>
<li><strong>锁失效</strong>：当某个进程获取到锁，因为线程崩溃导致锁无法释放，导致其他线程无法获取锁</li>
<li><strong>非阻塞机制</strong>：某个线程获取锁时，如果锁已经被占有，则直接返回失败，而不会一直等待</li>
</ul>
<p><strong>原理</strong>：使用setnx命令，使得只有一个线程可以获取锁，当释放锁时，将值删除</p>
<p><strong>setnx命令</strong>：如果值不存在，则存入数据；如果值存在，则不存入数据</p>
<p><strong>特殊情况</strong>：</p>
<ol>
<li><strong>死锁</strong>：如果线程崩溃且没有设置值的过期时间，导致锁没有释放，会导致其他线程一直无法获取锁。<strong>解决方案</strong>：设置锁的过期时间</li>
<li>锁由于过了过期时间被释放，而线程的事务却没处理完。<strong>解决方案</strong>：Redis的看门狗机制，开启子线程，一段时间就查询剩余过期时间，如果时间不足，就进行延长。</li>
<li>如果redis的节点宕机，所有线程无法获取锁。<strong>解决方案</strong>：设置主从节点，主从节点进行数据同步，如果主节点宕机，就替换成从节点</li>
<li>如果主节点宕机，但数据之间没有同步，导致线程无法获取锁。<strong>解决方案</strong>：使用红锁</li>
</ol>
<h2 id="红锁"><a href="#红锁" class="headerlink" title="红锁"></a>红锁</h2><p><strong>原理</strong>：当线程获取锁的时候，主节点记录value的时候，必须先把数据同步到从节点，然后才返回信号。</p>
<p><strong>缺点</strong>：成本高，无法完全保证锁的安全性</p>
<h1 id="短链接分组"><a href="#短链接分组" class="headerlink" title="短链接分组"></a>短链接分组</h1><h2 id="拦截用户上下文"><a href="#拦截用户上下文" class="headerlink" title="拦截用户上下文"></a>拦截用户上下文</h2><h3 id="线程安全的TTL"><a href="#线程安全的TTL" class="headerlink" title="线程安全的TTL"></a>线程安全的TTL</h3><ul>
<li>可以实现父子线程之间的传递</li>
<li>可以实现没有任何关系之间的跨线程的传递（异步传输）</li>
</ul>
<h1 id="短链接管理"><a href="#短链接管理" class="headerlink" title="短链接管理"></a>短链接管理</h1><p><strong>方法</strong>：</p>
<ol>
<li>通过数据库生成</li>
<li>通过哈希算法生成，<strong>原理</strong>：生成一个唯一的十进制，再转换为62进制<ol>
<li>为什么要转换为62进制：62进制可以包含字母大小写和数字</li>
</ol>
</li>
</ol>
<h2 id="短链接创建"><a href="#短链接创建" class="headerlink" title="短链接创建"></a>短链接创建</h2><h3 id="业务逻辑-3"><a href="#业务逻辑-3" class="headerlink" title="业务逻辑"></a>业务逻辑</h3><p>考虑：使用全域名下唯一</p>
<ol>
<li>将原始链接通过哈希函数映射成6位数的短链接<ol>
<li>6位数可以包括26个字母和10位数字组合，最多可以涵盖范围568多亿条数据</li>
</ol>
</li>
<li>判断这个短链接是否重复<ol>
<li>生成重复的短链接，可能因为产生了哈希冲突<ol>
<li><strong>解决方法</strong>：在原来的短链接后面添加当下的时间戳，位数越长，越不容易产生哈希冲突</li>
</ol>
</li>
<li>直接查看数据库是否存在该数据</li>
<li>上述方法容易被恶意攻击，因此可以使用布隆过滤器<ol>
<li>数据存在，但布隆过滤器得到不存在。<strong>产生原因</strong>：如果没有添加事务导致短链接存入数据库中，但是没有存入布隆过滤器中，事务没有回滚。<strong>解决方案</strong>：在数据库层，因为设置了短链接的唯一索引，因此数据库会报错，这是数据库的“兜底”策略</li>
<li>数据不存在，但布隆过滤器得到存在（<strong>产生原因</strong>：如果达到布隆过滤器的阙值，越容易产生哈希冲突，导致所有的短链接都被认为数据库已存在。<strong>解决方案</strong>：可以设置定时任务，每次查看布隆过滤器的阙值，如果近于阙值则设置新的布隆过滤器）</li>
</ol>
</li>
</ol>
</li>
<li>如果连续生成的短链接都重复了，设置最多循环次数10，以免造成死循环，超过限制抛异常</li>
<li>如果成功生成短链接，将其存入数据库</li>
</ol>
<h2 id="短链接分库分表"><a href="#短链接分库分表" class="headerlink" title="短链接分库分表"></a>短链接分库分表</h2><p><strong>分片键</strong>：gid</p>
<p><strong>为什么不使用短链接</strong>：分组查询页面下，查询每个分组的短链接是传入分组id，如果使用短链接，那么每一次查询不同分组的短链接都要查询所有的表，造成性能深渊</p>
<p><strong>如果使用分组id，在短链接跳转到长链接时，传入参数无分组id，该如何解决查询哪个表</strong>：</p>
<h2 id="分页查询【不是很懂】"><a href="#分页查询【不是很懂】" class="headerlink" title="分页查询【不是很懂】"></a>分页查询【不是很懂】</h2><h2 id="路由表"><a href="#路由表" class="headerlink" title="路由表"></a>路由表</h2><h2 id="解决缓存击穿"><a href="#解决缓存击穿" class="headerlink" title="解决缓存击穿"></a>解决缓存击穿</h2><ul>
<li>使用分布式锁</li>
<li>使用双重判定锁<ul>
<li><strong>优点</strong>：在获取到分布式锁后，为了进一步减少数据库响应，进行了双重判定锁。即在获取到锁后再次判断一次缓存中是否存在原始链接。如果存在，则直接返回重定向。这个双重判定锁的目的是为了在高并发的情况下，避免多个线程同时到达数据库查询的逻辑，造成数据库的压力过大。</li>
</ul>
</li>
</ul>
<h1 id="解决缓存穿透"><a href="#解决缓存穿透" class="headerlink" title="解决缓存穿透"></a>解决缓存穿透</h1><h1 id="解决缓存雪崩"><a href="#解决缓存雪崩" class="headerlink" title="解决缓存雪崩"></a>解决缓存雪崩</h1><p>缓存预热：已知必被访问的数据先放在缓存中，避免在运行时被用户访问才方到缓存中</p>
<h2 id="短链接不存在跳转到指定页面"><a href="#短链接不存在跳转到指定页面" class="headerlink" title="短链接不存在跳转到指定页面"></a>短链接不存在跳转到指定页面</h2><ul>
<li><strong>@RestController</strong>：将返回值返回JSON格式</li>
<li><strong>@Controller</strong>：先从视图（前端页面）去匹配，</li>
</ul>
<h1 id="mysql设置某表某字段自增"><a href="#mysql设置某表某字段自增" class="headerlink" title="mysql设置某表某字段自增"></a>mysql设置某表某字段自增</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">use shortlink;</span><br><span class="line">alter table t_user modify id int auto_increment;</span><br></pre></td></tr></table></figure>

<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"><img src="D:\blog\source_posts\短链接项目.assets\image-20240215231128059.png" alt="image-20240215231128059"></p>
<h1 id="获取mysql建表语句"><a href="#获取mysql建表语句" class="headerlink" title="获取mysql建表语句"></a>获取mysql建表语句</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">use shortlink;</span><br><span class="line">SHOW CREATE TABLE tableName;</span><br></pre></td></tr></table></figure>

<h1 id="设置mysql查询区分大小写"><a href="#设置mysql查询区分大小写" class="headerlink" title="设置mysql查询区分大小写"></a>设置mysql查询区分大小写</h1><p>修改编码方式</p>
<p><img src="D:\blog\source_posts\短链接项目.assets\image-20240301233357266.png" alt="image-20240301233357266"></p>
<h1 id="注解"><a href="#注解" class="headerlink" title="注解"></a>注解</h1><h2 id="事务回滚"><a href="#事务回滚" class="headerlink" title="事务回滚"></a>事务回滚</h2><p><em>@Transactional(rollbackFor&#x3D;Exception.class)</em>,如果类加了这个注解,那么这个类里面的方法抛出异常,就会回滚,数据库里面的数据也会回滚</p>
<ul>
<li>在短链接修改信息时，涉及到先删后加</li>
</ul>
<h1 id="一些疑难"><a href="#一些疑难" class="headerlink" title="一些疑难"></a>一些疑难</h1><ul>
<li>putmapping和postmapping的区别</li>
</ul>
<p>前者主要是更新资源的请求</p>
<p>后者主要是创建资源的请求</p>
<ul>
<li>1</li>
</ul>
<p>创建短链接分组时，发生了名称name重复，为什么新创建的分组id是负数<img src="D:\blog\source_posts\短链接项目.assets\image-20240301161529915.png" alt="image-20240301161529915"></p>
]]></content>
      <categories>
        <category>项目</category>
      </categories>
      <tags>
        <tag>短链接项目</tag>
      </tags>
  </entry>
  <entry>
    <title>脉诊笔记-基于分类器集成融合心电图时间和形态信息的心跳分类</title>
    <url>/2023/07/15/%E8%84%89%E8%AF%8A/</url>
    <content><![CDATA[<p>资料：</p>
<p>（英文） <a href="C:\Users\86137\Desktop\脉诊\脉诊论文\1_Heartbeat_Classification_Fusing_Temporal_and_Morphological_Information_of_ECGs_via_Ensemble_of_Classifiers2.pdf">1_Heartbeat_Classification_Fusing_Temporal_and_Morphological_Information_of_ECGs_via_Ensemble_of_Classifiers2.pdf</a> </p>
<p>（中文） <a href="C:\Users\86137\Desktop\脉诊\脉诊论文\1基于分类器集成融合心电图时间和形态信息的心跳分类.pdf">1基于分类器集成融合心电图时间和形态信息的心跳分类.pdf</a> </p>
<h1 id="基本资料"><a href="#基本资料" class="headerlink" title="基本资料"></a>基本资料</h1><h2 id="心律失常"><a href="#心律失常" class="headerlink" title="心律失常"></a>心律失常</h2><p>心率紊乱，通常被称为心律失常，心律失常通常与其他形式的心脏病有关。心电图(ECG)是一种无创和廉价的技术，它们经常被用来检测心律异常，测量一段时间内心脏的电活动。对于心脏电活动的常规分析，通常使用由 12 个独立导联记录的ECG。12导联ECG包括3 条双极肢体 导联 (I、II 和 III)，单极肢体导 联 (AVR、 AVL 和 AVF)和 6 条 单极胸导联，也称为心前导联或 V 导 联 (V1、V2、 V3、 V4、V5 和 V6)。每根导联都是从一 个特定的角度观察全身的心脏电活动。记录中每条导联的持续时间约为 2.5 秒。此外，为了准确地评估心律，一段引线的长时间记录被用来提供 10 秒的节奏条。II 型导联是最常用的节奏条 [3]，因为它通常可以很好地看到最重要的波:P、Q、R、S 和 T。</p>
<p>p 波是心房去极化引起的小缺陷， Q、R 和 S 波通常被认为是一个单一的事件，称为 qrs 复合体，它是 ECG 中振幅最大的部分， 由腹侧去极化 引起。 T 波是 由腹侧再极 化引起的。 最后，在某些情况下，在 T波之后可能会出现一个额外的 U 波。</p>
<p>用于心律失常分类的通用自动系统：</p>
<p>1、对信号进行预处理：基线去除和高频噪声的清洗</p>
<p>2、用心跳分割算法在拍频水平上对信号进行分割（检测qrs复合体</p>
<p>3、提取特征，训练分类器</p>
<p>分类器的集合将组成它的单个分类器的决策组合在一起，改进最终预测。</p>
<p>评估使用支持向量机集合来解决心律失常分类问题的好处，即结合几个支持向量机模型，每个模型都用不同 的特征进行训练。本文使用了基于 R-R 区 间 、小 波 、HOS、 LBP 和 几个幅度值的几个特征描述符并对每个单个特征的适用性进行了评估。 Zhang 等人也使用支持向量机集合进行心律失常自动分类。然而，他们从导联 II 和 V1中提取了特征，并从每个导联的特征中训练了一个分离的模 型。 最后，将两个模型的决策与乘积规则结合起来。</p>
<h2 id="两种范式"><a href="#两种范式" class="headerlink" title="两种范式"></a>两种范式</h2><p> 区分两种流行的评估心律失常分类任务的范式，即患者内和患者间。</p>
<p>患者内范式：可以不受任何限制地使用整个数据库来生成和测试分类模型。该范式在分类器的泛化方面存在一个主要缺点。由于模型可以在训练过程 中学习患者的特殊性，因此在评估步骤中获得的分数可能不是高度可靠的。理想情况下，自动心律失常分类器必须 对任何患者做出准确的诊断，即使系统不包含任何关于该患者的先前信息。因此，需要一种具有高泛化的方法，因为包含所有可能患者记录的训练过的数据库将是不可行的。</p>
<p>患者间范式：他们将MIT-BIH数据库记录分成两组:一组用于训练，另一组用于测试。这些集经过精心设计，避免在两组中包含来自同一患者的任何记录。我们遵循患者间的范式来评估我们的方法。</p>
<h1 id="MIT-BIH-心律失常数据库"><a href="#MIT-BIH-心律失常数据库" class="headerlink" title="MIT-BIH 心律失常数据库"></a><em>MIT-BIH</em> 心律失常数据库</h1><p>MI T-BI H 的心跳类型分为5类：不考虑节奏节拍的记录，发现数据库高度不平衡，因为近90%的节拍属于N 类，而剩下的3%、6%和1%的节拍属于 SVEB、 VEB 和 f 类，并且忽略Q类。</p>
<p><img src="D:\blog\source_posts\脉诊.assets\image-20230717231000382.png" alt="image-20230717231000382"></p>
<h1 id="实验"><a href="#实验" class="headerlink" title="实验"></a>实验</h1><h2 id="数据预处理"><a href="#数据预处理" class="headerlink" title="数据预处理"></a>数据预处理</h2><h3 id="基线去除"><a href="#基线去除" class="headerlink" title="基线去除"></a>基线去除</h3><p>使用两个连续的200 ms 和 600 ms 的中值滤波器，从原始信号中减去该基线，得到基线校正后的ECG信号。</p>
<h3 id="（不执行）高频噪声滤波"><a href="#（不执行）高频噪声滤波" class="headerlink" title="（不执行）高频噪声滤波"></a>（不执行）高频噪声滤波</h3><h2 id="选择"><a href="#选择" class="headerlink" title="选择"></a>选择</h2><h3 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h3><p>将完整信号分割成拍</p>
<h3 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h3><p>使用QRS检测算法</p>
]]></content>
      <categories>
        <category>脉诊</category>
      </categories>
      <tags>
        <tag>脉诊</tag>
      </tags>
  </entry>
  <entry>
    <title>虚拟机硬盘存储空间不够</title>
    <url>/2023/10/15/%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%A1%AC%E7%9B%98%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4%E4%B8%8D%E5%A4%9F/</url>
    <content><![CDATA[<h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><p>一打开虚拟机出现内存空间不够提醒，没注意，后来想要上传一个较大一点的文件，无法复制。</p>
<h1 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h1><p>链接：</p>
<ol>
<li><a href="https://blog.csdn.net/w2298119289j/article/details/127827471?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_baidulandingword~default-0-127827471-blog-123678286.235%5Ev38%5Epc_relevant_default_base&spm=1001.2101.3001.4242.1&utm_relevant_index=3">虚拟机新增磁盘空间</a></li>
<li></li>
</ol>
<h2 id="修改硬盘大小"><a href="#修改硬盘大小" class="headerlink" title="修改硬盘大小"></a>修改硬盘大小</h2><h2 id="刷新磁盘信息"><a href="#刷新磁盘信息" class="headerlink" title="刷新磁盘信息"></a>刷新磁盘信息</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo partprobe</span><br></pre></td></tr></table></figure>

<h2 id="重新分区"><a href="#重新分区" class="headerlink" title="重新分区"></a>重新分区</h2><h3 id="打印当前磁盘分区表"><a href="#打印当前磁盘分区表" class="headerlink" title="打印当前磁盘分区表"></a>打印当前磁盘分区表</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo fdisk -l</span><br></pre></td></tr></table></figure>

<p>&#x2F;dev&#x2F;sda是新添加的磁盘</p>
<p><img src="D:\blog\source_posts\虚拟机硬盘存储空间不够.assets\image-20231015100951781.png" alt="image-20231015100951781"></p>
<h4 id="含义解释"><a href="#含义解释" class="headerlink" title="含义解释"></a>含义解释</h4><p><img src="D:\blog\source_posts\虚拟机硬盘存储空间不够.assets\image-20231015101545901.png" alt="image-20231015101545901"></p>
<h3 id="查看磁盘空间"><a href="#查看磁盘空间" class="headerlink" title="查看磁盘空间"></a>查看磁盘空间</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">df -h</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\虚拟机硬盘存储空间不够.assets\image-20231015101249814.png" alt="image-20231015101249814"></p>
<h4 id="含义解释-1"><a href="#含义解释-1" class="headerlink" title="含义解释"></a>含义解释</h4><p><img src="D:\blog\source_posts\虚拟机硬盘存储空间不够.assets\image-20231015101522488.png" alt="image-20231015101522488"></p>
<h3 id="不确定新增磁盘空间，可查看新增分区"><a href="#不确定新增磁盘空间，可查看新增分区" class="headerlink" title="不确定新增磁盘空间，可查看新增分区"></a>不确定新增磁盘空间，可查看新增分区</h3><p><img src="D:\blog\source_posts\虚拟机硬盘存储空间不够.assets\image-20231015103716429.png" alt="image-20231015103716429"></p>
<h4 id="含义解释-2"><a href="#含义解释-2" class="headerlink" title="含义解释"></a>含义解释</h4><ul>
<li><code>sr0</code>: 这是光学驱动器，通常是 CD&#x2F;DVD 驱动器或 ISO 映像的虚拟设备。通常不是您新增的磁盘空间。</li>
<li><code>sda</code>: 这是您的主硬盘，可能是您虚拟机的系统盘。您在 <code>/dev/sda</code> 上有两个分区：<ul>
<li><code>sda1</code>: 这是根分区，用于挂载您的根文件系统 (<code>/</code>)。</li>
<li><code>sda2</code> 和 <code>sda5</code>：这些分区不显示有实际数据，可能是一些小分区或未使用的分区。<code>sda5</code> 通常是交换分区。</li>
</ul>
</li>
</ul>
<h4 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h4><p>sda有 45G，但是其分区加起来只有25G，说明新增加的磁盘空间是&#x2F;dev&#x2F;sda，并且还未进行分区</p>
<h3 id="新增分区"><a href="#新增分区" class="headerlink" title="新增分区"></a>新增分区</h3><p>使用 <code>fdisk</code> 命令分区：运行以下命令以分区未分区的空间。根据您的需求创建一个新分区</p>
<p><img src="D:\blog\source_posts\虚拟机硬盘存储空间不够.assets\image-20231015104221145.png" alt="image-20231015104221145"></p>
<blockquote>
<p>命令(输入 m 获取帮助)：m # 查看操作的意思，类似于–help<br>命令操作<br>   a   toggle a bootable flag # 切换可引导标志<br>   b   edit bsd disklabel # 编辑 BSD 磁盘标签<br>   c   toggle the dos compatibility flag # 切换 DOS 兼容性标志<br>   d   delete a partition # 删除分区<br>   g   create a new empty GPT partition table #创建一个新的空 GPT 分区表<br>   G   create an IRIX (SGI) partition table # 创建 IRIX （SGI） 分区表列出已知的分区类型<br>   l   list known partition types # 列出已知的分区类型<br>   m   print this menu # 打印此菜单<br>   n   add a new partition # 添加新分区<br>   o   create a new empty DOS partition table # 创建一个新的空 DOS 分区表<br>   p   print the partition table # 打印分区表<br>   q   quit without saving changes # 退出而不保存更改<br>   s   create a new empty Sun disklabel # 创建一个新的空 Sun 磁盘标签<br>   t   change a partition’s system id # 更改分区的系统 ID<br>   u   change display&#x2F;entry units # 更改显示&#x2F;输入单元<br>   v   verify the partition table # 验证分区表<br>   w   write table to disk and exit # 将表写入磁盘并退出<br>   x   extra functionality (experts only) #  额外功能（仅限专家）</p>
</blockquote>
<p><img src="D:\blog\source_posts\虚拟机硬盘存储空间不够.assets\image-20231015104924425.png" alt="image-20231015104924425"></p>
<h3 id="修改id"><a href="#修改id" class="headerlink" title="修改id"></a>修改id</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo fdisk /dev/sda</span><br><span class="line"></span><br><span class="line">命令(输入 m 获取帮助)：t</span><br><span class="line">已选择分区 1</span><br><span class="line">Hex 代码(输入 L 列出所有代码)：8e</span><br><span class="line">已将分区“Linux”的类型更改为“Linux LVM”</span><br><span class="line"></span><br><span class="line">命令(输入 m 获取帮助)：w</span><br><span class="line">The partition table has been altered!</span><br></pre></td></tr></table></figure>

<p><img src="D:\blog\source_posts\虚拟机硬盘存储空间不够.assets\image-20231015105828244.png" alt="image-20231015105828244"></p>
]]></content>
      <categories>
        <category>虚拟机</category>
      </categories>
      <tags>
        <tag>虚拟机</tag>
      </tags>
  </entry>
  <entry>
    <title>华为ICT计算机网络课程</title>
    <url>/2023/10/09/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/</url>
    <content><![CDATA[<h1 id="学习进度"><a href="#学习进度" class="headerlink" title="学习进度"></a>学习进度</h1><blockquote>
<p>2023&#x2F;10&#x2F;9： 1.1</p>
<p>2023&#x2F;10&#x2F;10： </p>
<p>2023&#x2F;10&#x2F;11： </p>
<p>2023&#x2F;10&#x2F;12： </p>
<p>2023&#x2F;10&#x2F;13： </p>
<p>2023&#x2F;10&#x2F;14： </p>
<p>2023&#x2F;10&#x2F;15： </p>
<p>2023&#x2F;10&#x2F;16： </p>
</blockquote>
<h1 id="计算机网络基础"><a href="#计算机网络基础" class="headerlink" title="计算机网络基础"></a>计算机网络基础</h1><h2 id="课程目标"><a href="#课程目标" class="headerlink" title="课程目标"></a>课程目标</h2><p><img src="D:\blog\source_posts\计算机网络.assets\image-20231009222953946.png" alt="image-20231009222953946"></p>
<h2 id="概念和体系结构"><a href="#概念和体系结构" class="headerlink" title="概念和体系结构"></a>概念和体系结构</h2><p>社会网络：由许多节点构成的一种社会结构</p>
<p>计算机网络：将地理位置不同的，具有独立功能的多台计算机及其外部设备通过通信链路连接起来，实现资源共享和信息传递的计算机系统</p>
<ul>
<li>最简单的计算机网络：只有两台计算机和一条通信链路</li>
<li>最庞大的计算机网络：因特网（也成为网络的网络）</li>
</ul>
<p>通信的规程（协议）</p>
<h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><h4 id="按网络共享服务划分"><a href="#按网络共享服务划分" class="headerlink" title="按网络共享服务划分"></a>按网络共享服务划分</h4><ul>
<li>客户端&#x2F;服务器网络 C&#x2F;S模式</li>
<li>对等网络 P2P</li>
<li>浏览器&#x2F;服务器网络 B&#x2F;S</li>
<li>混合网络</li>
</ul>
<h4 id="按网络节点分布范围划分"><a href="#按网络节点分布范围划分" class="headerlink" title="按网络节点分布范围划分"></a>按网络节点分布范围划分</h4><ul>
<li>局域网：通讯距离和范围不超过10公里的计算机网络</li>
<li>城域网：覆盖范围大约在10~100公里的计算机网络</li>
<li>广域网：覆盖范围在1000公里以外的计算机网络，也成为互联网，通常由多个城域网或局域网组成</li>
</ul>
<h3 id="分层"><a href="#分层" class="headerlink" title="分层"></a>分层</h3><h4 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h4><blockquote>
<p>为什么要分层：</p>
<p>计算机网络很复杂，分层是为了更好地表述和处理</p>
<p><img src="D:\blog\source_posts\计算机网络.assets\image-20231009224821939.png" alt="image-20231009224821939"></p>
</blockquote>
<h4 id="分层结构"><a href="#分层结构" class="headerlink" title="分层结构"></a>分层结构</h4><p>国际标准化组织（ISO）：提出开放系统互连参考模型，简称OSI模型</p>
<p><img src="D:\blog\source_posts\计算机网络.assets\image-20231009225020715.png" alt="image-20231009225020715"></p>
<p><img src="D:\blog\source_posts\计算机网络.assets\image-20231009225100654.png" alt="image-20231009225100654"></p>
<h3 id="数据发送"><a href="#数据发送" class="headerlink" title="数据发送"></a>数据发送</h3><p>数据发送：典型的应用数据封装过程</p>
<h4 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h4><ul>
<li><p>应用层		用户数据  +  应用层协议  -&gt;  应用数据，向下传输</p>
</li>
<li><p>传输层		应用数据  +  TCP头部  -&gt;  数据段（报文），向下传输</p>
</li>
<li><p>网络层		数据段（报文）  +  IP头部  -&gt;  数据包</p>
</li>
<li><p>数据链路层		数据包  +  MAC头部  -&gt;  数据帧，向下传输</p>
</li>
<li><p>物理层		数据帧传输到以太网卡上</p>
<p>ps：以太网卡包括了数据链路层和物理层的功能，通过硬件的方式，将数据加入到以太网首部，再在物理线路上传输</p>
<p><img src="D:\blog\source_posts\计算机网络.assets\image-20231009225949983.png" alt="image-20231009225949983"></p>
</li>
</ul>
<h3 id="接受数据"><a href="#接受数据" class="headerlink" title="接受数据"></a>接受数据</h3><p>过程：</p>
<ul>
<li>在物理层，网络节点通过以太网卡上的硬件单元，读取数据帧，并发往数据链路层</li>
<li>在数据链路层，去除物理地址，帧头，帧尾和校验码以后形成数据包发往网络层</li>
<li>在网络层，通过比对数据包中的IP地址和本机IP地址，如果一致，则将数据包中的IP头部去掉，形成数据报文，发往传输层；如果不一致，而且不是一个广播包，就要抛弃数据包</li>
<li>在传输层，提取数据报文中的控制信息，如报文序列号等，去除TCP头部信息，并进行缓存。然后根据报文序列号，将数据段组成完整的应用数据，发往应用层</li>
<li>在应用层，应用数据根据需要进行格式转换，比如解压，解密等，去除控制信息，比如数据大小和校验码等，转换为用户的数据。</li>
</ul>
<h2 id="核心协议"><a href="#核心协议" class="headerlink" title="核心协议"></a>核心协议</h2><h2 id="网络设备和配置管理"><a href="#网络设备和配置管理" class="headerlink" title="网络设备和配置管理"></a>网络设备和配置管理</h2>]]></content>
      <categories>
        <category>计算机网络,华为ICT</category>
      </categories>
      <tags>
        <tag>计算机网络,华为ICT</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>/2023/08/08/%E9%A1%B9%E7%9B%AE%E6%A0%87%E4%B9%A6/</url>
    <content><![CDATA[<hr>
<h2 id="title-项目标书date-’2023-8-16’updated-’2023-8-16’tags-项目标书categories-项目标书keywords-项目标书description-准备大三的暑假回到实验室中和老师同学一起写项目标书，以下就是项目标书的大纲，特此记录。"><a href="#title-项目标书date-’2023-8-16’updated-’2023-8-16’tags-项目标书categories-项目标书keywords-项目标书description-准备大三的暑假回到实验室中和老师同学一起写项目标书，以下就是项目标书的大纲，特此记录。" class="headerlink" title="title:项目标书date:’2023-8-16’updated:’2023-8-16’tags:项目标书categories:项目标书keywords:项目标书description:准备大三的暑假回到实验室中和老师同学一起写项目标书，以下就是项目标书的大纲，特此记录。"></a>title:项目标书<br>date:’2023-8-16’<br>updated:’2023-8-16’<br>tags:项目标书<br>categories:项目标书<br>keywords:项目标书<br>description:准备大三的暑假回到实验室中和老师同学一起写项目标书，以下就是项目标书的大纲，特此记录。</h2><h1 id="报告正文"><a href="#报告正文" class="headerlink" title="报告正文"></a>报告正文</h1><h2 id="（一）立项依据与研究内容"><a href="#（一）立项依据与研究内容" class="headerlink" title="（一）立项依据与研究内容"></a>（一）立项依据与研究内容</h2><h3 id="项目的立项依据"><a href="#项目的立项依据" class="headerlink" title="项目的立项依据"></a>项目的立项依据</h3><h4 id="研究意义"><a href="#研究意义" class="headerlink" title="研究意义"></a>研究意义</h4><h5 id="必要和意义"><a href="#必要和意义" class="headerlink" title="必要和意义"></a>必要和意义</h5><h5 id="创新和价值"><a href="#创新和价值" class="headerlink" title="创新和价值"></a>创新和价值</h5><h4 id="国内外研究现状及发展动态分析"><a href="#国内外研究现状及发展动态分析" class="headerlink" title="国内外研究现状及发展动态分析"></a>国内外研究现状及发展动态分析</h4><h5 id="研究方案"><a href="#研究方案" class="headerlink" title="研究方案"></a>研究方案</h5><h5 id="技术分析"><a href="#技术分析" class="headerlink" title="技术分析"></a>技术分析</h5><h4 id="需结合科学研究发展趋势来论述科学意义"><a href="#需结合科学研究发展趋势来论述科学意义" class="headerlink" title="需结合科学研究发展趋势来论述科学意义"></a>需结合科学研究发展趋势来论述科学意义</h4><h4 id="结合国民经济和社会发展中迫切需要解决的关键科技问题来论述其应用前景"><a href="#结合国民经济和社会发展中迫切需要解决的关键科技问题来论述其应用前景" class="headerlink" title="结合国民经济和社会发展中迫切需要解决的关键科技问题来论述其应用前景"></a>结合国民经济和社会发展中迫切需要解决的关键科技问题来论述其应用前景</h4><h4 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h4><h3 id="研究内容"><a href="#研究内容" class="headerlink" title="研究内容"></a>研究内容</h3><h4 id="研究的仪器"><a href="#研究的仪器" class="headerlink" title="研究的仪器"></a>研究的仪器</h4><h4 id="研究目标"><a href="#研究目标" class="headerlink" title="研究目标"></a>研究目标</h4><h4 id="拟解决的关键科学问题及解决方案"><a href="#拟解决的关键科学问题及解决方案" class="headerlink" title="拟解决的关键科学问题及解决方案"></a>拟解决的关键科学问题及解决方案</h4><h5 id="检测问题"><a href="#检测问题" class="headerlink" title="检测问题"></a>检测问题</h5><h5 id="预测和分析问题"><a href="#预测和分析问题" class="headerlink" title="预测和分析问题"></a>预测和分析问题</h5><h1 id="拟采取的研究方案及可行性分析"><a href="#拟采取的研究方案及可行性分析" class="headerlink" title="拟采取的研究方案及可行性分析"></a>拟采取的研究方案及可行性分析</h1><h3 id="研究方法"><a href="#研究方法" class="headerlink" title="研究方法"></a>研究方法</h3><h3 id="技术路线"><a href="#技术路线" class="headerlink" title="技术路线"></a>技术路线</h3><h3 id="实验手段"><a href="#实验手段" class="headerlink" title="实验手段"></a>实验手段</h3><h3 id="关键技术"><a href="#关键技术" class="headerlink" title="关键技术"></a>关键技术</h3><h3 id="研究内容-1"><a href="#研究内容-1" class="headerlink" title="研究内容"></a>研究内容</h3><h4 id="产物介绍"><a href="#产物介绍" class="headerlink" title="产物介绍"></a>产物介绍</h4><h4 id="模型介绍"><a href="#模型介绍" class="headerlink" title="模型介绍"></a>模型介绍</h4><h1 id="本项目的特色与创新之处"><a href="#本项目的特色与创新之处" class="headerlink" title="本项目的特色与创新之处"></a>本项目的特色与创新之处</h1><h3 id="优势"><a href="#优势" class="headerlink" title="优势"></a>优势</h3><h1 id="年度研究计划及预期研究结果"><a href="#年度研究计划及预期研究结果" class="headerlink" title="年度研究计划及预期研究结果"></a>年度研究计划及预期研究结果</h1><h3 id="拟组织的重要学术交流活动"><a href="#拟组织的重要学术交流活动" class="headerlink" title="拟组织的重要学术交流活动"></a>拟组织的重要学术交流活动</h3><h3 id="国际合作与交流计划"><a href="#国际合作与交流计划" class="headerlink" title="国际合作与交流计划"></a>国际合作与交流计划</h3><h3 id="预期研究成果"><a href="#预期研究成果" class="headerlink" title="预期研究成果"></a>预期研究成果</h3><h2 id="（二）研究基础与工作条件"><a href="#（二）研究基础与工作条件" class="headerlink" title="（二）研究基础与工作条件"></a>（二）研究基础与工作条件</h2><h2 id="研究基础"><a href="#研究基础" class="headerlink" title="研究基础"></a>研究基础</h2><h3 id="与本项目相关的研究工作积累"><a href="#与本项目相关的研究工作积累" class="headerlink" title="与本项目相关的研究工作积累"></a>与本项目相关的研究工作积累</h3><h3 id="已取得的研究工作成绩"><a href="#已取得的研究工作成绩" class="headerlink" title="已取得的研究工作成绩"></a>已取得的研究工作成绩</h3><h2 id="工作条件"><a href="#工作条件" class="headerlink" title="工作条件"></a>工作条件</h2><h3 id="已具备的实验条件"><a href="#已具备的实验条件" class="headerlink" title="已具备的实验条件"></a>已具备的实验条件</h3><h3 id="尚缺少的实验条件和拟解决的途径"><a href="#尚缺少的实验条件和拟解决的途径" class="headerlink" title="尚缺少的实验条件和拟解决的途径"></a>尚缺少的实验条件和拟解决的途径</h3><h3 id="利用国家实验室、国家重点实验室和部门重点实验室等研究基地的计划与落实情况"><a href="#利用国家实验室、国家重点实验室和部门重点实验室等研究基地的计划与落实情况" class="headerlink" title="利用国家实验室、国家重点实验室和部门重点实验室等研究基地的计划与落实情况"></a>利用国家实验室、国家重点实验室和部门重点实验室等研究基地的计划与落实情况</h3><h2 id="正在承担的与本项目相关的科研项目情况"><a href="#正在承担的与本项目相关的科研项目情况" class="headerlink" title="正在承担的与本项目相关的科研项目情况"></a>正在承担的与本项目相关的科研项目情况</h2><h3 id="申请人和主要参与者正在承担的与本项目相关的科研项目情况"><a href="#申请人和主要参与者正在承担的与本项目相关的科研项目情况" class="headerlink" title="申请人和主要参与者正在承担的与本项目相关的科研项目情况"></a>申请人和主要参与者正在承担的与本项目相关的科研项目情况</h3><p>包括国家自然科学基金的项目和国家其他科技计划项目，要注明项目的资助机构、项目类别、批准号、项目名称、获资助金额、起止年月、与本项目的关系及负责的内容等</p>
<h2 id="完成国家自然科学基金项目情况"><a href="#完成国家自然科学基金项目情况" class="headerlink" title="完成国家自然科学基金项目情况"></a>完成国家自然科学基金项目情况</h2><p>对申请人负责的前一个已资助期满的科学基金项目（项目名称及批准号）完成情况、后续研究进展及与本申请项目的关系加以详细说明。另附该项目的研究工作总结摘要（限500字）和相关成果详细目录</p>
<h2 id="（三）其他需要说明的情况"><a href="#（三）其他需要说明的情况" class="headerlink" title="（三）其他需要说明的情况"></a>（三）其他需要说明的情况</h2><p>\1. 申请人同年申请不同类型的国家自然科学基金项目情况（列明同年申请的其他项目的项目类型、项目名称信息，并说明与本项目之间的区别与联系）。</p>
<p>无</p>
<p>\2. 具有高级专业技术职务（职称）的申请人或者主要参与者是否存在同年申请或者参与申请国家自然科学基金项目的单位不一致的情况；如存在上述情况，列明所涉及人员的姓名，申请或参与申请的其他项目的项目类型、项目名称、单位名称、上述人员在该项目中是申请人还是参与者，并说明单位不一致原因。</p>
<p>无</p>
<p>\3. 具有高级专业技术职务（职称）的申请人或者主要参与者是否存在与正在承担的国家自然科学基金项目的单位不一致的情况；如存在上述情况，列明所涉及人员的姓名，正在承担项目的批准号、项目类型、项目名称、单位名称、起止年月，并说明单位不一致原因。</p>
<p>无</p>
<p>\4. 其他。</p>
<p>无</p>
]]></content>
  </entry>
  <entry>
    <title>超过一半的已知人类致病性疾病会因气候变化而加剧</title>
    <url>/2023/07/23/%E8%B6%85%E8%BF%87%E4%B8%80%E5%8D%8A%E7%9A%84%E5%B7%B2%E7%9F%A5%E4%BA%BA%E7%B1%BB%E8%87%B4%E7%97%85%E6%80%A7%E7%96%BE%E7%97%85%E4%BC%9A%E5%9B%A0%E6%B0%94%E5%80%99%E5%8F%98%E5%8C%96%E8%80%8C%E5%8A%A0%E5%89%A7/</url>
    <content><![CDATA[<p>论文地址：<a href="https://www.nature.com/articles/s41558-022-01426-1">超过一半的已知人类致病性疾病会因气候变化而加剧 |自然 气候变化 (nature.com)</a></p>
<h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><p>系统地搜索了关于对温室气体（GHG）排放敏感的十种气候危害对每种已知人类致病性疾病的影响的经验示例</p>
<p>全世界人类面临的传染病中有58%（即218种中的375种）在某些时候因气候灾害而加剧;16%有时会减少。</p>
<p>经验案例揭示了1，006种独特的途径，其中气候灾害通过不同的传播类型导致致病性疾病。</p>
<p>温室气体排放对地球系统的多种气候危害（例如，变暖、热浪、干旱、野火、极端降水、洪水、海平面上升等）具有后果，另一方面，人类致病病（例如细菌、病毒、动物、植物、真菌、原生动物等）和传播类型（例如，媒介传播、空气传播、直接接触等;文本框<a href="https://www.nature.com/articles/s41558-022-01426-1#Sec2">1</a>中的词汇表）的分类学多样性可能受到这些危害的影响。</p>
<h1 id="危害"><a href="#危害" class="headerlink" title="危害"></a>危害</h1><p><img src="https://media.springernature.com/lw685/springer-static/image/art%3A10.1038%2Fs41558-022-01426-1/MediaObjects/41558_2022_1426_Fig1_HTML.png?as=webp" alt="图1"></p>
<p>温室气体调节入射太阳辐射和出射红外辐射之间的平衡</p>
<p>随着空气蓄水能力的增加，变暖加速了土壤水分蒸发，导致通常干燥的地方发生干旱</p>
<p>过度干旱会导致当水蒸发的传热停止时，热浪</p>
<p>干旱和热浪为野火创造了条件</p>
<p>在潮湿的地方，蒸发的快速补充会加强降水</p>
<p>当雨水落在潮湿的地方&#x2F;饱和的土壤上时，容易引起洪水</p>
<p>海洋变暖增强了蒸发和风速，加剧了倾盆大雨和风暴的强度</p>
<p>海平面上升会加剧其潮汐，这反过来又会加剧洪水的影响</p>
<p>一氧化碳的吸收，导致海洋酸化，而海洋环流和变暖的变化会降低海水中的氧气浓度，这些海洋物理化学变化相结合，在本文中被称为海洋气候变化。我们将自然土地覆盖的变化列为危害之一</p>
<h1 id="文献检索"><a href="#文献检索" class="headerlink" title="文献检索"></a>文献检索</h1><p>受气候灾害影响的致病病菌例</p>
<p>两个权威传染病数据库中列出的每种疾病名称</p>
<p>所有疾病列为行，并将每种气候灾害列为列;对疾病和气候灾害的组合使用了疾病和病原体的替代名称进行了搜索。我们在这些不同的搜索中总共检查了 &gt;77，000 个标题。为了纳入，论文需要报告明确的气候危害（例如，热浪、洪水;无花果。<a href="https://www.nature.com/articles/s41558-022-01426-1#Fig1">1</a>）影响明确的致病性疾病（例如疟疾，登革热;补充表<a href="https://www.nature.com/articles/s41558-022-01426-1#MOESM2">1</a>）在隐含的地点和&#x2F;或时间（方法）。共有830篇参考文献载有受气候灾害影响的疾病的案例（补充表<a href="https://www.nature.com/articles/s41558-022-01426-1#MOESM2">2</a>）。</p>
<p><img src="https://media.springernature.com/lw685/springer-static/image/art%3A10.1038%2Fs41558-022-01426-1/MediaObjects/41558_2022_1426_Fig2_HTML.png?as=webp" alt="图2"></p>
<h1 id="气候灾害加重的致病性疾病。"><a href="#气候灾害加重的致病性疾病。" class="headerlink" title="气候灾害加重的致病性疾病。"></a>气候灾害加重的致病性疾病。</h1><p><img src="https://media.springernature.com/lw685/springer-static/image/art%3A10.1038%2Fs41558-022-01426-1/MediaObjects/41558_2022_1426_Fig3_HTML.png?as=webp" alt="图3"></p>
<p>线条的粗细与独特致病性疾病的数量成正比。颜色渐变表示疾病的比例，较深的颜色表示数量较大，颜色较浅表示较少。每个节点的数字表示独特致病性疾病的数量</p>
<p>几个疾病名称被缩写以优化图中空间的使用;其扩展名称见补充表<a href="https://www.nature.com/articles/s41558-022-01426-1#MOESM2">1</a>。</p>
<p>我们发现了3，213个经验案例，都与286种独特的致病病有关（补充表1），其中277种因至少一种气候危害而加重（文本框<a href="https://www.nature.com/articles/s41558-022-01426-1#MOESM2">1</a>中的词汇表）（图）。<a href="https://www.nature.com/articles/s41558-022-01426-1#Fig3">3</a>）. 虽然63种疾病因某些气候灾害而减少（方框<a href="https://www.nature.com/articles/s41558-022-01426-1#Sec2">1</a>中的词汇表），但其中54种疾病有时还因其他气候灾害而加重;只有4种致病性疾病完全因气候灾害而减少（图）</p>
<p>我们发现了006，160种独特的途径，其中气候灾害通过不同的传播类型导致致病性疾病病例（可在 <a href="https://camilo-mora.github.io/Diseases/">https://camilo-mora.github.io/Diseases/</a> 获得疾病的交互式显示）。变暖（122种独特疾病），降水（121种），洪水（81种），干旱（71种），风暴（61种），土地覆盖变化（43种），海洋气候变化（21种），火灾（20种），热浪（10种）和海平面（76种）都被发现会影响由病毒（69），细菌（45），动物（24），真菌（23），原生动物（12），植物（9）和色素（103）引发的疾病。致病性疾病主要通过媒介传播（78种独特疾病），但也发现了涉及水源性（60种）、空气传播（56种）、直接接触（50种）和食源性（3种独特疾病）的传播途径的实例（图）。<a href="https://www.nature.com/articles/s41558-022-01426-1#Fig3">19</a>）. </p>
<p><img src="https://media.springernature.com/lw685/springer-static/image/art%3A10.1038%2Fs41558-022-01426-1/MediaObjects/41558_2022_1426_Fig4_HTML.png" alt="图4"></p>
<p><strong>a</strong>，将致病病区分为因气候灾害而加重和减轻的病原病。<strong>b</strong>，与已知影响人类的所有报告的“传染性”疾病相比，气候灾害加剧的一系列疾病（即GIDEON和CDC对近代历史上已知影响人类的疾病的权威汇编;方法）。</p>
<h1 id="受气候灾害影响的致病病害"><a href="#受气候灾害影响的致病病害" class="headerlink" title="受气候灾害影响的致病病害"></a>受气候灾害影响的致病病害</h1><p>完整的病例列表、传播途径和相关论文可以在 <a href="https://camilo-mora.github.io/Diseases/">https://camilo-mora.github.io/Diseases/</a> 详细探讨。在这个网站上，用户可以浏览一个交互式桑基图，显示气候灾害如何通过给定的传播模式导致致病性疾病，然后单击本文中提到的任何疾病以查看案例，引文和论文副本。</p>
<h2 id="气候灾害使病原体更接近人类"><a href="#气候灾害使病原体更接近人类" class="headerlink" title="气候灾害使病原体更接近人类"></a>气候灾害使病原体更接近人类</h2><p>物种地理范围的变化是气候变化最常见的生态标志之一<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR24">24</a>.变 暖<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR25">25</a>和降水变化<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR25">25</a>，例如，与蚊子等媒介的范围扩展有关<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR25">25</a>蜱<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR26">26</a>跳蚤<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR27">27</a>鸟类<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR28">28</a>和几种哺乳动物<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR29">29</a>与病毒暴发有关<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR25">25</a>细菌<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR25">25</a>动物<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR25">25</a>和原生动物<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR25">25</a>，包括登革热<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR25">25</a>， 基孔肯雅热<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR25">25</a>瘟疫<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR29">29</a>， 莱姆病<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR25">25</a>、西尼罗河病毒<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR28">28</a>， 寨卡<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR25">25</a>锥虫病<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR30">30</a>包虫病<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR31">31</a>和疟疾<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR25">25</a>仅举几例。在水生系统中也观察到气候驱动的扩张，包括弧菌属（例如霍乱）病例<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR32">32</a>）、异尖线虫病<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR33">33</a>和水母的毒液<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR34">34</a>.高纬度地区的变暖使病媒和病原体能够在冬季存活下来，加剧了几种病毒（例如寨卡病毒、登革热）的暴发<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR35">35</a>.变暖、干旱、热浪、野火、风暴、洪水和土地覆盖变化造成的栖息地破坏也与使病原体更接近人类有关。病毒（例如尼帕病毒）的溢出效应<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR36">36</a>和埃博拉<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR37">37</a>），例如，与野生动物有关（例如，蝙蝠<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR38">38</a>啮齿动物<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR39">39</a>和灵长类动物<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR38">38</a>）在更大的地区觅食干旱造成的有限食物资源或在野火后寻找新的栖息地。同样，变暖导致的积雪减少迫使田鼠在人类居住地寻找庇护所，引发汉坦病毒爆发<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR40">40</a>.干旱还导致蚊子和鸟类聚集在剩余的水源周围，促进了西尼罗河病毒的传播<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR41">41</a>.洪水和风暴通常与废水溢出有关，导致诺如病毒的直接和食源性传播<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR16">16</a>、汉坦病毒<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR42">42</a>肝炎<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR43">43</a>和<em>隐孢子虫</em><a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR44">44</a>.变暖还与冰融化和永久冻土融化有关，暴露了曾经冻结的病原体。<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR45">45</a>.例如，对北极圈炭疽爆发的遗传分析表明，这种细菌菌株可能是古老的，并且随着冻土解冻而从出土的动物尸体中出现。<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR46">46</a>.及时冷冻的病原体的成功出现可被视为“潘多拉魔盒”，因为随着时间的推移积累了潜在的大量病原体，以及这些病原体对人们来说可能是新的程度<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR45">45</a>.</p>
<h2 id="气候灾害使人们更接近病原体"><a href="#气候灾害使人们更接近病原体" class="headerlink" title="气候灾害使人们更接近病原体"></a>气候灾害使人们更接近病原体</h2><p>气候灾害还使人们更接近病原体，从而促进了人与病原体之间的接触。例如，热浪通过增加与水有关的娱乐活动，与几种水传播疾病（如<em>弧菌</em>相关感染）的病例增加有关<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR47">47</a>、原发性阿米巴脑膜脑炎<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR48">48</a>和胃肠炎<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR49">49</a>.风暴、洪水和海平面上升导致钩端螺旋体病病例导致人类流离失所<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR50">50</a>、隐孢子虫病<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR51">51</a>， 拉沙热<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR52">52</a>， 贾第虫病<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR53">53</a>胃肠炎<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR54">54</a>， 退伍军人病<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR53">53</a>霍乱<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR55">55</a>沙门氏菌病<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR56">56</a>， 志贺氏菌病<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR56">56</a>肺炎<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR57">57</a>伤寒<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR58">58</a>肝炎<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR58">58</a>、呼吸系统疾病<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR50">50</a>和皮肤病<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR50">50</a>等等。土地利用的变化促进了人类对野生地区的侵占，并创造了新的生态交错带，使人们更接近病媒和病原体<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR59">59</a>，导致埃博拉等多种疾病暴发<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR60">60</a>， 擦洗斑疹伤寒<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR61">61</a>， 昆士兰蜱斑疹伤寒<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR61">61</a>， 莱姆病<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR62">62</a>疟疾<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR63">63</a>等等。干旱和强降水涉及牲畜向适宜地区的迁移，这反过来又导致病原体暴露和疾病暴发（例如炭疽病）。<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR64">64</a>出血热<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR29">29</a>).还注意到降水和温度的变化会影响人类社交聚会和流感等病毒的传播性<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR65">65</a>和新冠肺炎 （COVID-19）<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR66">66</a>.卡波尔等人<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR66">66</a>.表明强降雨可能外源性诱发社会孤立，有助于解释暴雨后COVID-19病例减少的原因;然而，COVID-19病例的增加与印度尼西亚降水的增加有关<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR67">67</a>，也许反映了对极端降雨的不同行为反应。在某些情况下，较高的温度与COVID-19病例的增加有关<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR67">67</a>，尽管没有概述机制，但极端高温可能会迫使人们进入室内，这会增加病毒传播的风险，尤其是在通风不良或减少的情况下;在相关机制中，在凉爽时期冠状病毒传播增加可能与社交聚会增加等因素有关<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR68">68</a>.</p>
<h2 id="气候灾害强化的病原体"><a href="#气候灾害强化的病原体" class="headerlink" title="气候灾害强化的病原体"></a>气候灾害强化的病原体</h2><p>气候危害还加强了病原体的具体方面，包括改善气候对繁殖的适宜性、加速生命周期、增加可能接触的季节&#x2F;长度、加强病原体媒介的相互作用（例如，通过缩短潜伏期）和增加毒力。</p>
<h3 id="举例"><a href="#举例" class="headerlink" title="举例"></a>举例</h3><p>变暖对蚊子种群的发展、存活率、叮咬率和病毒复制产生了积极影响，提高了西尼罗河病毒的传播效率。</p>
<p><a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR69">69</a>.海洋变暖加速了由假藻属引起的有害<em>藻</em>华和疾病的生长</p>
<p><a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR70">70</a>蓝绿色蓝藻<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR70">70</a>和甲藻<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR70">70</a>.海洋变暖和强降水降低了沿海水的盐度，似乎为<em>创伤弧菌</em>提供了肥沃的条件<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR32">32</a>和<em>霍乱弧</em>菌<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR71">71</a>，这是在这种疾病罕见的地区爆发弧菌病的主要解释<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR72">72</a>.</p>
<p>变暖和强降水增加了食物和栖息地资源，导致与鼠疫病例相关的啮齿动物数量激增<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR73">73</a>和汉坦病毒<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR74">74</a>.</p>
<p>暴风雨、暴雨和洪水造成了积水，增加了蚊子及其传播的一系列病原体（例如利什曼病）的繁殖和生长地<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR75">75</a>疟疾<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR75">75</a>， 裂谷热<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR73">73</a>黄热病<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR15">15</a>， 圣路易斯脑炎<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR54">54</a>登革热<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR75">75</a>和西尼罗河热<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR76">76</a>).</p>
<p>气候危害还与病原体引起更严重疾病（即毒力）的能力增加有关。例如，热量与蛋白质的基因表达上调有关，影响弧<em>菌</em>的传递、粘附、穿透、存活和宿主损伤。77，<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR78">78</a> .</p>
<p>热浪也被认为是对“耐热”病毒的自然选择压力，其溢出到人群中会导致毒力增加，因为病毒可以更好地应对人体的主要防御（即发烧）。79，<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR80">80</a> .</p>
<p>干旱造成的粮食短缺与蝙蝠自身免疫防御减少有关，这增加了病毒脱落，有利于亨德拉病毒的爆发81，<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR82">82</a> .</p>
<h2 id="受气候灾害影响的人口"><a href="#受气候灾害影响的人口" class="headerlink" title="受气候灾害影响的人口"></a>受气候灾害影响的人口</h2><p>气候灾害对陆地的广泛影响<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR84">84</a>和海洋<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR85">85</a>食物供应4，<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR86">86</a> ，以及高CO下作物养分浓度降低2<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR87">87</a>，可直接导致人类营养不良，有助于解释食物匮乏人群因疾病暴发而增加的风险</p>
<p>改变身体状况削弱了人类应对病原体的能力</p>
<p>对各种疾病抵抗力下降</p>
<h3 id="气候灾害减少的疾病"><a href="#气候灾害减少的疾病" class="headerlink" title="气候灾害减少的疾病"></a>气候灾害减少的疾病</h3><p>变暖似乎减少了病毒性疾病的传播，这些病毒性疾病可能与不适合病毒的条件有关，或者因为在温暖的条件下免疫系统更强（例如，流感<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR65">65</a>， 非典<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR99">99</a>， 新型冠状病毒肺炎 （COVID-19）<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR100">100</a>、轮状病毒和诺如病毒性肠炎<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR101">101</a>).然而，我们也发现，大多数因至少一种危害而减少的疾病有时会因另一种危害而加重，有时甚至是相同的危害。例如，在某些情况下，洪水减少了血吸虫病感染，限制了蜗牛宿主的栖息地适宜性。<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR102">102</a>.然而，在其他情况下，洪水增加了人类的暴露并扩大了宿主的分散。<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR103">103</a>.干旱还通过减少滋生地降低了疟疾和基孔肯雅热的流行率<a href="https://www.nature.com/articles/s41558-022-01426-1#ref-CR104">104</a>，但在其他国家，干旱导致水池减少的蚊子密度增加74</p>
<h1 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h1><h2 id="分析的疾病"><a href="#分析的疾病" class="headerlink" title="分析的疾病"></a>分析的疾病</h2><p>我们将“致病性疾病”广义地定义为由生物体引起的人体任何器官的任何结构或功能紊乱，无论其大小或分类群如何。我们在该术语的广义定义中使用了“病原体”</p>
<h2 id="文献检索-1"><a href="#文献检索-1" class="headerlink" title="文献检索"></a>文献检索</h2><p>我们进行了三种不同的系统搜索，以捕获科学论文中可能使用&#x2F;命名疾病的多种形式（图）。<a href="https://www.nature.com/articles/s41558-022-01426-1#Fig2">2</a>）. </p>
<p>我们从一般搜索开始，将所分析的十种气候灾害中的每一种组合为关键字“疾病”。我们审查了每次检索的前200篇参考文献（即200篇参考文献×10对关键词搜索&#x3D; 2000篇参考文献）。</p>
<p>然后，我们进行了第二次更具体的搜索，将分析的十种气候灾害中的每一种疾病名称中的权威疾病名称列表中的每个疾病名称组合为关键字。疾病名称列表是从GIDEON和CDC获得的，它们共有375个疾病名称。我们评价了每次检索的前20篇参考文献（即375种疾病×10种危害×20篇参考文献&#x3D; 75，000篇参考文献）。</p>
<p>在第三次文献检索中，我们对第一次和第二次检索中未收集数据的病例使用了替代疾病和病原体名称;我们还使用“飓风”和“台风”作为风暴的替代名称。在第三次搜索中，对于我们无法找到病例示例的疾病危害矩阵中的每个单元格，我们使用了GIDEON和CDC数据库中列出的导致疾病的病原体的疾病和物种名称的所有替代名称。实际上，第三次检索确保了数据差距是真实的，与关键词使用的限制无关。对于验证数据差距的第三次检索，我们查看了返回的前200篇参考文献，或者直到找到案例示例，以先发生者为准（补充信息<a href="https://www.nature.com/articles/s41558-022-01426-1#MOESM1">1</a>中的警告）。</p>
<p>所有搜索均在 2020 年 1 月至 2020 年 5 月期间在 Google 学术搜索中进行。检索不按论文发表日期进行过滤;然而，&gt;90%的有案例的论文是在2000年以后发表的（补充表<a href="https://www.nature.com/articles/s41558-022-01426-1#MOESM2">2</a>）。我们在这些不同的搜索中总共检查了 &gt;77，000 个标题。为了纳入，论文必须报告受气候危害影响的疾病的案例。我们对案例的定义是科学论文中的任何摘录，其中声称明确的气候危害在隐含的地点和时间影响明确的疾病。这些标准的目的是确保我们收集到具有可追溯证据的示例。例如，诸如“变暖可能影响疟疾的传播”之类的说法没有包括在内，因为它缺乏事件发生的地点和时间的证据。反过来，诸如“比正常夏季温暖导致肯尼亚疟疾病例增加”之类的说法被包括在内，因为该说法提供了可追溯的证据，表明明确的气候危害（即变暖）影响了特定地点（即肯尼亚）的明确人类疾病（即疟疾）。</p>
<p>我们排除了声称疾病与危害之间存在关系但不包括案例的基于观点的论文。例如，一篇论文声称“疟疾对疟疾的影响很大。降水“不包括在内;虽然可能是真的，但它未能提供证据在何时何地的案例。我们只选择了基于实证的论文（补充信息<a href="https://www.nature.com/articles/s41558-022-01426-1#MOESM1">1</a>中的注意事项）。相关论文的检索仅由11人手动进行一次，包括教授，博士后研究员，研究生和一名本科生。参与者被平等地随机分配要在谷歌学术中使用的关键词列表。取决于搜索（图。<a href="https://www.nature.com/articles/s41558-022-01426-1#Fig2">2</a>），每个用户仔细检查给定数量的返回标题和摘要，并将任何被认为与经验数据相关的参考文献添加到相关参考文献的网络数据库中。相关参考文献数据库是在线维护的，以避免输入重复的参考文献，这些参考文献可能在替代关键字搜索期间出现。共汇编了3 200份相关参考资料。每个相关参考文献的可移植文件格式（PDF）都得到了保护。带有PDF的论文被随机分配给每个参与者，他们负责阅读给定的论文，并在在线数据库中输入任何经验数据和&#x2F;或论文是否缺乏经验数据。一旦阅读了所有PDF文件并收集了经验数据，每个条目都由至少一名替代参与者独立阅读，以确保该条目符合实施的标准（即，每个条目至少由两个人阅读，即输入者和一名其他参与者）。论文主要来自同行评审的期刊和科学书籍;共有830篇参考文献包含受气候灾害影响的疾病的案例（所用参考文献的完整列表见补充表<a href="https://www.nature.com/articles/s41558-022-01426-1#MOESM2">2</a>）。并非所有论文都报告了给定的病原体是如何传播的，但是当提供此类信息时，我们也收集了这些信息。我们遵循了系统综述首选报告项目和荟萃分析方案（PRISMA-P）（补充表<a href="https://www.nature.com/articles/s41558-022-01426-1#MOESM2">3</a>）中建议的系统综述方案清单。</p>
]]></content>
      <tags>
        <tag>气候变化，人类疾病</tag>
      </tags>
  </entry>
  <entry>
    <title>项目需求</title>
    <url>/2023/10/04/%E9%A1%B9%E7%9B%AE%E9%9C%80%E6%B1%82/</url>
    <content><![CDATA[<h1 id="十个勤天官方网站"><a href="#十个勤天官方网站" class="headerlink" title="十个勤天官方网站"></a>十个勤天官方网站</h1><h2 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h2><p>十个董事的详细介绍</p>
<p>种地小游戏</p>
<p>全部物料合集</p>
<h1 id="敖子逸个人网站"><a href="#敖子逸个人网站" class="headerlink" title="敖子逸个人网站"></a>敖子逸个人网站</h1><h2 id="需求-1"><a href="#需求-1" class="headerlink" title="需求"></a>需求</h2><p>舞蹈教学板块</p>
<p>音乐板块</p>
<p>参加多个活动板块，赋上链接</p>
<p>详细的明星介绍</p>
]]></content>
      <categories>
        <category>项目需求</category>
      </categories>
      <tags>
        <tag>项目需求</tag>
      </tags>
  </entry>
</search>
